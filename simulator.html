<!-- (c) 2022 Hypervariety Custom Software. All rights reserved. !-->
<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"> 
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<title>HyperCard Simulator</title>
	<meta name="description" content="HyperCardSimulator imports and runs your classic HyperCard stacks."/>
	<link rel="apple-touch-icon" href="apple-touch-icon.png">
	<meta name="theme-color" content="#FFFF#FF">
	<meta name="apple-mobile-web-app-title" content="HC Simulator">
	<base id=base href='https://hcsimulator.com/'>
	
	<script>		
		var blockLocalStorage = false;
		if (location.search=='?clean' && confirm('You navigated to /?clean so did you want to delete all cookies?'))
			{ localStorageClear(); throw "?clean"; }
				
		window.addEventListener('storage', (event)=>{
			if (event.key===null && !blockLocalStorage)
				{ blockLocalStorage = true; location.href = (document.head.baseURI); }
		});
		
		function localStorageClear()
		{ 
			blockLocalStorage = true;
			localStorage.clear(); 
			document.cookie.split(';').forEach((c)=>{
				document.cookie = c.trim().split('=')[0] + '=;path=/;expires=Thu, 01 Jan 1970 00:00:00 UTC;';
			});
			location.href = (document.head.baseURI); 
		}
		function localStorageGetItem(name)
		{
			if (blockLocalStorage) return;
			return localStorage.getItem('storage.'+name);
		}
		function localStorageSetItem(name,value)
		{
			if (blockLocalStorage) return;
			//if (name == 'messagebox') console.log('set messagebox: ' + value);
			if (value===null) localStorage.removeItem('storage.'+name);
			else {
				try { 
					localStorage.setItem('storage.'+name,value);
				} catch(e) { console.warn('Error storing ' + Math.round(value.length/1024)+ 'KB ' + name + ': ' + e); return false; }
			}
			return true;
		}
		function localStorageListItems()
		{
			var items = [];
			if (!blockLocalStorage) for (key in localStorage) 
				if (key.substr(0,8)=='storage.') items.push(key.substr(8)); else localStorage.removeItem(key);
			return items;
		}

		function getCookie(cname) 
		{
			var name = cname + "=", ca = decodeURIComponent(document.cookie).split(';'), c;
			for (var i = 0; i < ca.length; i++) 
				if ((c=ca[i].trim()).indexOf(name) == 0) 
					return c.substring(name.length, c.length);
			return '';
		}

		var fullscreenElement = document.documentElement;
		function launchFullscreen(skipNative) {
			body.classList.add('fullscreen'); 
			body.qs('#fullscreen').classList.add('checked'); 
			modalresizer();
			body.qs('#toolbar button-part[name="Browse" i]').click();
			if (!skipNative)
			{
				var element=fullscreenElement;
				if(element.requestFullscreen) element.requestFullscreen();
				else if (element.mozRequestFullScreen) element.mozRequestFullScreen();
				else if (element.webkitRequestFullscreen) element.webkitRequestFullscreen();
				else if (element.msRequestFullscreen) element.msRequestFullscreen();
				localStorageSetItem('fullscreen', true);
			}
			setTimeout(()=>{ modalresizer(); },0);
		}
		function leaveFullscreen() {
			if (!document.fullscreenElement && !window.fullscreenElement) {}
			else if (document.exitFullscreen) document.exitFullscreen().catch(()=>{});
			else if(document.mozCancelFullScreen) document.mozCancelFullScreen();
			else if(document.webkitExitFullscreen) document.webkitExitFullscreen();
			setTimeout(()=>{modalresizer(); },0);
			body.classList.remove('fullscreen'); 
			body.qs('#fullscreen').classList.remove('checked'); 
			localStorageSetItem('fullscreen', false);
			stackList.forEach((md)=>md.classList.remove('neverleftfullscreen'));
			}
		fullscreenElement.addEventListener(fullscreenElement.requestFullscreen?'fullscreenchange':'webkitfullscreenchange', 
			() =>{ if (!(document.webkitFullscreenElement || window.fullscreenElement)) {
				body.classList.remove('fullscreen');
				setTimeout(()=>{modalresizer(); },0);
				}
			});
		
		if (navigator.vendor.startsWith("Apple") && matchMedia("(pointer:coarse)").matches)
			document.querySelector('meta[name="theme-color"]').content = '#000000';
		if (location.href.startsWith("file:///Users/pro/Desktop/HappyCard/")) 
			{ base.href = ''; document.head.removeChild(base); }
		
		//var cl = console.log; console.log = function() { cl.apply(console, arguments); if (body.classList.contains('shift')) debugger; };
	</script>
	<script>/* (c) 2022 Hypervariety Custom Software. All rights reserved. */
"use strict";

/* you can sort of mix and match xtalk and javascript */ 
function number(n)
{
	if (typeof n === 'number') return n;
	if (typeof n !== 'boolean') {
		var nn = Number(n);
		if (!isNaN(nn)) return nn;
	}
	throw Error("Expected a number here but found " + tickedString(n));
}
function boolean(n)
{
	if (n===true || n===false) return n;
	if (typeof n==='string') {
		if (n.toLowerCase()==='true') return true;
		if (n.toLowerCase()==='false') return false;
	}
	throw Error("Expected a true or false here but found " + tickedString(n));
}
function point(value) 
{ 
	if ((value=String(value).split(',').map((v)=>number(v))) && value.length==2)
		return value;
	throw Error("Expected a point here but found " + tickedString(value));
}
function rectangle(value) 
{ 
	if ((value=String(value).split(',').map((v)=>number(v))) && value.length==4)
		return value;
	throw Error("Expected a rectangle here but found " + tickedString(value));
}


function tickedString(str) { return "`" + String(str).replaceAll("\\","\\\\").replaceAll("`","\\`").replaceAll("${","$\\{") + "`"; }

/* call new XTalk(me, script). 
it will create a script tag either in me.shadowRoot or document.head, and attach itself as me.xTalk. */

class XTalk
{
	constructor(me, script = "", options = {})
	{
		if (options.debug) debugger;
		
		// since document.currentScript is not available in shadow roots, we're going to do a simple thing with a unique ID
		var xtalk = this, xtalk_id = (
			{ '#document':'doc', 'BUTTON-PART':'btn','FIELD-PART':'fld','CARD-PART':'cd','BACKGROUND-PART':'bg','STACK-PART':'stack'}[me.nodeName]||me.nodeName).replaceAll(/[- ]/g,'_') 
			+ '_$' + (++XTalk.UniqueID).toString(16).toUpperCase();
		
		var handlers = [], handler = null, lineinfo = [], indent = 0, embed = [], stripembeds = true;

		script.split('\n').forEach((line, index, array)=>{
			var contmatch;
			while (contmatch=/¬[\s]*(--(.*))?$/gi.exec(line)) {
				// for each contination concatenate the next line and go again
				index++;
				line = line.substr(0, line.length - contmatch[0].length) + ' ' + (array[index] || '');
				array[index] = '';
				//console.log(line);
			}
			transpile_line(line, index);
		});
		
		function handlername(handler, withDollars) 
			{ return (withDollars ? '$$$' : '') + handler.type + '_' + handler.name + (withDollars ? '$$$' : ''); }
			
		var coroutines = `"use strict"; XTalk.InitCoroutinesFor('` + xtalk_id + "', function " + xtalk_id + '(me) {\n';
		handlers.forEach((h)=>{ h.jLine = coroutines.split('\n').length; coroutines += h.coroutine + '\n'; });
		coroutines += '\nreturn { '
			+ 'handlers: { ' + handlers.filter((h)=>h.type=='on').map((h)=>h.name + ':' + handlername(h,true)).join(', ') + ' }, '
			+ 'functions: { ' + handlers.filter((h)=>h.type.toLowerCase()=='function').map((h)=>h.name + ':' + handlername(h,true)).join(', ') + ' } '
			+ ' };'
			+ '\n});';
		
		this.raw = { handlers, lineinfo };
		
		this.scriptTag = document.createElement('script');
		this.scriptTag.id = xtalk_id;
		this.scriptTag.text = coroutines;
		this.me = me;
		this.text = coroutines;
		this.treat_as_accessory = options.treat_as_accessory;
		this.options = options || {};
		
		if (!options.treat_as_accessory)
		{
			if (me.xTalk) 
				me.xTalk.remove();
			me.xTalk = this;
		}
		
		XTalk.UninitedXTalks[xtalk_id] = this;
		try {
			((!options.treat_as_accessory && me.shadowRoot) || document.head).appendChild(this.scriptTag);
		} catch(e) { 
			console.log(e, coroutines, this.scriptTag);
		}
		
		XTalk.warned_this_time = false;
		
		function transpile_line(line, index)
		{
			var example = { count: 0 };
			XTalk.Examples = (XTalk.Examples || {});
			if (!options.lineRule)	// don't save example in the message box or anywhere with different parsing rule
				example = XTalk.Examples[line] = (XTalk.Examples[line] || example);
			
			var error = null, match = /^[\s]*(on|function|end)[\s]+([A-Z0-9_]+)[\s]*((([A-Z0-9_]+)[\s]*[,]?[\s]*)*)[\s]*/giy.exec(line);
			if (match && (match[1].toLowerCase()=='on' || match[1].toLowerCase()=='function'))
			{
				if (handler) 
					error = ("Unended handler " + handler.name);	// maybe should be on previous line
				
				if (handlers.find((h)=>(h.type==match[1] && h.name==match[2])))
					error = "Duplicate handler or function name";
				handler = { type: match[1].toLowerCase(), name: match[2], line: index, params: (match[3] || ''), code: [], script: [] };
				lineinfo.push({ indent: 0, error });
				indent = 1;
				embed = [];
			}
			else if (!handler)
			{
				lineinfo.push({ indent: 0, error: line.trim() && (line.trim().substr(0,2)!='--') && "Ignored statement outside of handler" });
			}
			else if (match && (match[1].toLowerCase()=='end') && (handler.name.toLowerCase()==match[2].toLowerCase()))
			{				
				commit_handler();
				handler = null;
				lineinfo.push({ indent: 0, error });
			}
			else
			{
				XTalk.CurrentHandler = handler.name;
				var o = '', cluematch = null, error = null, fallback = null;
				if (example.count)
					o = example.js;	// very much faster but only good if [and it is] scriptline -> javascript is totally consistent.
				else if (line.trim())
					o = XTalk.Translate(options.lineRule || 'handler-line', line) 
				delete XTalk.CurrentHandler;
				
				if (example.count && example.js != o)	// for testing, can't trigger if the above is in place
					console.log('example was different', example, o);
				example.js = o;
				example.count++;
				
				if (o === undefined) {
					//debugger;
					//error = ("Can't understand this.");
					o = '';//handler.type + ' ' + handler.name + ' line ' + (handler.code.length+1) + ': ' + line;
					if (options.fallbackToJS && line)
						o = fallback = line;
					else if (line.trim())
						error = "Can't understand ‘" + line.trim() + "’";
					//error = "throw 'Cant understand ' + " + tickedString(line) + ";";
				}
				
				if (!o.trim())	// all comment or empty
					{}
			
				lineinfo.push({ indent, error });
				if (error && !options.dontComplain)
					console.log((me && me.closest && me.closest('stack-part') && (me.closest('stack-part').name+': ') || '')+ error + ' in ' + handler.name);
				
				if (o !== undefined && (cluematch=/(\{)?[\s]*(\/\*([=]?[A-Za-z]+[=?]?)\*\/)?$/g.exec(o.trim()))) 
				{
					
					if (cluematch[1])
						indent++;
				}
				
				if (error)
					o = "throw Error(" + tickedString(error) + ");";
				
				handler.script.push(fallback ? '' : line);
				handler.code.push(o);
			}
		}
		
		function commit_handler() 
		{
			var flowResult = performFlowAnalysis(handler.code);
			flowResult.indent.forEach((depth,i)=>lineinfo[handler.line+1+i].indent = depth+1);
		//	if (flowResult.indent.find((i)=>i!=0)) debugger;
			
			var param_json = handler.params.split(',').map((p,i)=>{
				return (p=p.trim()) ? "'"+p.toLowerCase()+"':"+/*p*/i+"<arguments.length?arguments["+i+"]:''" : '';
			}).join(',');

			var uniqueHandlerID = ++XTalk.UniqueHandlerID;
			XTalk.DebugLocMap[uniqueHandlerID] = handler;
			
			// still stumbling on where to put the yields exactly. if we redid the ifs to always use braces that would work.
			// should reallllyy figure out that cool inline-comment trick. make a unit test!
			// scriptLine should be the thing that yields I guess.
			handler.me = me;
			handler.xtalk = xtalk;
			handler.errorProc = options.errorProc;
			handler.coroutine = 'function*' + handlername(handler,true) + '(' + (options.fallbackToJS ? handler.params : '') + ') {'
				+ 'const ' + (options.useGlobalVariables ? '_=XTalk.Globals' : '_=new XTalk.EchoProxy({'+param_json+'})') + ';'
				+ 'try { \n'
				+ handler.script.map((s,i)=>{
					if (!handler.code[i].trim()) 
						return "// " + s.trim() + "\n//\n";
					var isclosebrace = ((/[\s]*[\}]/y).exec(handler.code[i]) || (/[\s]*else /y).exec(handler.code[i]) || [''])[0].length;
					var openbrace = ((/[\s]*(else )?[\{]/y).exec(handler.code[i]) || [''])[0].length;
					return "// " + " ".repeat(lineinfo[i].indent) + s.trim() 
						+ '\n' 
					+ " ".repeat(lineinfo[i].indent) + handler.code[i].substr(0,openbrace) + ((isclosebrace||options.dontYield) ? "" : "yield(" + ((uniqueHandlerID << 16) + i+1) + "); ") + handler.code[i].substr(openbrace)
						+ '\n';
				}).join('')
				+ flowResult.autoclose
				+ ' return "";'
				+ '} catch(e) {((e=e instanceof Error?e:new Error(e))._=e._||[]).push({_,$:this,id:'+uniqueHandlerID+'});throw e;}'
				+ '}\n';	// this causes Firefox's built in linter to bug out when preceded with 'exit handler' script line
				
			try {
				// I thought this was an acid test. But Function("()=>yield*1") didn't trigger. 
				Function(handler.coroutine);
				if (!XTalk.warned_this_time && XTalk.warned_last_time)
					 console.log('Mutated script'); 
				XTalk.warned_last_time = false;
			} 
			catch(e) { 
				//console.log(handler.coroutine);
				XTalk.warned_last_time = XTalk.warned_this_time = true;
				if (body.classList.contains('javascript'))
					console.log(me.longName + ' ' + (me.owner) + ' ' + handler.name + ' line ' + e.line + ' ' + e, handler.script, handler.coroutine, handler);
				else 
					console.log(me.longName + ' ' + (me.owner) + ' ' + handler.name + ' line ' + e.line + ' ' + e, handler.coroutine.split('\n')[e.line*2-1], handler.coroutine); 

				handler.coroutine = 'function*' + handlername(handler,true) + '(' + ') { }\n';
			}

			handlers.push(handler);
		}
		
		function performFlowAnalysis(coroutine)
		{
			// given array of JS, strip the double-comments, find indent
			var flowstack = [], result = { indent: [], errors: [], autoclose: '' };
			
			for (var i = 0; i < coroutine.length; i++) 
			{
				var line = coroutine[i], depth = flowstack.filter((fsf)=>fsf[1]=='?!').length;
	
				if (line.trim().length) 
				{
					var reg = /(\/\*([^\*]*)\*\/)([^\/]*?)(\/\*([^\*]*)\*\/)/g, match, matches = [], charadjust = 0;
					
					while (match=reg.exec(line)) 
						matches.push([match[2],match[3],match[5],match.index,reg.lastIndex]);
					if (matches.length==0) {
						autoclose = adjuststack('', '', true, false, i);
						//if (autoclose) line = autoclose + ' ' + line;
						if (autoclose) coroutine[i-1] += autoclose;
					}
					else for (var m = 0; m < matches.length; m++)
					{
						var autoclose = adjuststack(matches[m][0].trim(), matches[m][1], (m==0), i);
						//if (autoclose) { line = autoclose + ' ' + line; charadjust -= autoclose.length; }
						if (autoclose) coroutine[i-1] += autoclose;
						if (m==0) depth = flowstack.filter((fsf)=>fsf[1]=='?!').length;
						autoclose = adjuststack(matches[m][2].trim(), matches[m][1], false, i);
						
						line = line.substr(0,matches[m][3]-charadjust) + matches[m][1] + line.substr(matches[m][4]-charadjust);
						charadjust += (matches[m][4]-matches[m][3]) - matches[m][1].length;
					}
				}
				
				result.indent.push(depth);
				coroutine[i] = line;
			}
			
			while (flowstack.length && flowstack[flowstack.length-1][1]=='?') 
				result.autoclose += flowstack.pop()[2];
			
			if (flowstack.length)	// this is a script error
				result.errors.push(['leftover flowstack', flowstack]);
			
			// this would mean a problem with the flow analysis (or means there's a brace in a quoted string)
			var lb = 0, rb = 0, county = (coroutine.join('\n') + result.autoclose).split('').map((c)=>{ if (c=='{') lb++; else if (c=='}') rb++; });
			if (lb!=rb)
				console.warn(coroutine.join('\n'), lb + ' left braces, ' + rb + ' right braces' + (lb==rb ? '....good' : '  WARNING '));
		
			return result;
			
			function adjuststack(command, sourcetext, linestart, lineindex)
			{
				var prefix = '', suffix = '', autoclose = '', inner = command;
				
				if (inner[0]=='+' || inner[0]=='-') 
					{ prefix = inner[0]; inner = inner.substr(1); }
				if (inner.substr(-1)=='!') 
					{ suffix = '!'; inner = inner.substr(0,inner.length-1); }
				if (inner.substr(-1)=='?') 
					{ suffix = '?'+suffix; inner = inner.substr(0,inner.length-1); }
				if (inner.substr(-1)=='}') 
					{ autoclose = '}'; inner = inner.substr(0,inner.length-1); log('found autoclose'); }
				
				//console.log([prefix, inner, suffix, command, sourcetext]);
				var didRemove, top = flowstack[flowstack.length-1], executed_autoclose = '';
			
				function log() { if (false) console.log(...arguments); }
					
				if (prefix == '-') {
					if (top && top[0].split(',').includes(inner)) {
						flowstack.pop(); 
						//executed_autoclose += top[2];
						top = flowstack[flowstack.length-1];
						didRemove = inner;
						log('executed ' + command, flowstack);
					}
					else {
						// don't complain yet
						//console.warn('cannot execute ' + command, flowstack);
					}
				}
				
				if (linestart) {
					if (top && top[1]=='?') {
						if (/*top[0]!=*/!didRemove) {
							flowstack.pop(); 
							executed_autoclose += top[2];
							log('forgot ' + top, flowstack);
							top = flowstack[flowstack.length-1];
						}
					}
					else if (top && top[1]=='?!') {
						log('allowed ' + top, flowstack);
					}
					else if (top) {
						result.errors.push({ line: lineindex, error: 'unsatisfied ' + top });
						console.warn('unsatisfied ' + top, flowstack);
					}
				}
				
				if (prefix == '-' && !didRemove) {
					if (top && top[0].split(',').includes(inner)) {
						flowstack.pop(); 
						//executed_autoclose += top[2];
						top = flowstack[flowstack.length-1];
						didRemove = true;
						log('executed ' + command, flowstack);
					}
					else {
						// this time complain
						result.errors.push({ line: lineindex, error: 'cannot execute ' + command });
						console.warn('cannot execute ' + command, flowstack);
					}
				}
			
				if (prefix == '+') {
					flowstack.push([inner,suffix,autoclose]);
					log('executed ' + command, flowstack);
				}
				else if (prefix == '@') {
					if (!flowstack.find((fsf)=>fsf[0].split(',').includes(inner))) {
						result.errors.push({ line: lineindex, error: 'inappropriate ' + top });
						log('inappropriate ' + top, flowstack);
					}
					else 
						log('allowed ' + top, flowstack);
				}
				
				if (executed_autoclose) log('returning autoclose ' + executed_autoclose);
				return executed_autoclose;
			}
		}
	}
		
	remove()
	{
		// what if a script sets its own script while it's running!??!!
		if (this.scriptTag && this.scriptTag.parentNode)
			{ this.scriptTag.parentNode.removeChild(this.scriptTag); this.scriptTag = null; }
	}
	stackOf(me, nullOK) 
	{ 
		// this would work, hopefully
		if (XTalkQueue.Active && XTalkQueue.Active.Stack)
			return XTalkQueue.Active.Stack;
		
		if (!me) me = this.me;
		if (me && me.closest)
			me = me.closest('background-part') || me;
		return (me && (me.clone_of||me).closest && (me.clone_of||me).closest('stack-part')) || (!nullOK && sim.stack) || undefined;
	}
	selectOf(selector,byID,numberOrName,container,nullIsOK) 
	{
		return XTalk.SelectOf(selector,byID,numberOrName,container,nullIsOK);
	}
	parentOf(me) 
	{
		return XTalk.ParentOf(me || this.me);
	}
}

class XTalkQueue
{
	constructor() 
	{
		this.queue = [];
		this.interval = null;
	}
	stateChange(inprocess)
	{
		if (this.stateChangeWatcher)
			this.stateChangeWatcher(inprocess);
	}
	push(message, target, params = [], callback, options = {}) 
	{
		// pushed tasks don't use the dynamic message queue
		this.queue.push({ message, target, params, callback, options });
		if (this.queue.length == 1)
			{ this.stateChange(true); this.start(); }
	}
	start()
	{
		const iRun = this.run(), intervalProc = ()=>{
			
			XTalkQueue.Active = this;
			var next = iRun.next();
			XTalkQueue.Active = null;
			
			if (!next.done)
			{
				if (next.value === 0)
					return;
				this.resume = ()=>{ 
					clearInterval(this.interval);
					delete this.resume;
					this.interval = setInterval(intervalProc, 0);	
					//intervalProc();	// without this we'd be delaying that much plus one additional 0. let's see the performance situation first
				};
				clearInterval(this.interval);
				if (next.value < 2**31)	// this is the most you can have in an interval so longer means forever (for answer dialogs etc) 
					this.interval = setInterval(this.resume, next.value);
			}
			else
			{
				// done!
				clearInterval(this.interval);
				this.interval = null;
			}
		};
		
		this.interval = setInterval(intervalProc, 0);
	}
	stopAll(withError) 
	{
    
		if (this.queue.length)
		{
			this.queue = [];
			clearInterval(this.interval);
			this.interval = null;
			this.stateChange(false); 
		}
    
		if (withError && this.queue[0] && this.queue[0].iterator)
		{
			var inner_error;
			try { this.queue[0].iterator.throw(withError); } catch(e) { inner_error = e; }
			this.debug(this.queue[0].debugloc, inner_error);
			return;
		}
	}
	debug(debugloc, error)
	{
		var debuggedhandler = XTalk.DebugLocMap[debugloc >> 16];
		console.warn(error);	// it would be nice to show local variables and stuff here...
		if (!debuggedhandler)
			return;
		if (body.classList.contains('javascript'))
			console.log(debuggedhandler);
		if (debuggedhandler.errorProc)
			debuggedhandler.errorProc(debuggedhandler.line + 1 + (debugloc & 0xFFFF), error);
		else if (XTalk.DebugScriptErrors) 
			launch_scripteditor(debuggedhandler.xtalk.me, debuggedhandler.line + 1 + (debugloc & 0xFFFF), error);

		/*if (false && XTalk.DebugScriptErrors) 
		{
			// this would be a step by step debugger. Just need a 'play' button and for the editor to go away afterwards
			var debuggedhandler = XTalk.DebugLocMap[debugloc >> 16];
			if (debuggedhandler && debuggedhandler.script[(debugloc & 0xFFFF)-1])
				launch_scripteditor(debuggedhandler.xtalk.me, debuggedhandler.line + 1 + (debugloc & 0xFFFF));
		}*/
	}

	*run()
	{		
		var task, handler, iterator;

		/*if (!target.xTalk.init)
		{
			// weird, but we'll do it
			console.log(Object.keys(XTalk.UninitedXTalks).length + ' xTalks waiting to init, delaying run 10ms');
			yield (10);
		}*/

		_findNextTask: while (task=this.queue[0])
		{
			// find the next task to work on
			if (task.options.alternate_XTalk)
			{
				// task with a provided handler
				if (!(handler=task.options.alternate_XTalk.handlers[task.message]))
					throw "alternate_XTalk has no handler for " + task.message;
			}
			else
			{
				var target = task.options.sendToCurrentCard ? sim.stackOf(target).card : task.target;
				while ( !target.xTalk && (target=XTalk.ParentOf(target))) 
					{ }
				if (!target || !(handler=target.xTalk.handlers[task.message]))
				{	
					// it went all the way through the normal hierarchy and wasn't caught at all
					if (task.callback) 
						(task.callback)(task.options.successToNotCatch);
					
					this.queue.shift();
					continue _findNextTask;
				}
			}
			
			// task and handler are ready. xtalk handlers yield an integer debug location or a timeout request, or just return their value
			const iterator = task.iterator = handler(task.params);
			var next, debugloc;
			
			this.Target = task.target;
			
			try 
			{	
				var ms_per_slice = 5, dnt = Date.now() + ms_per_slice;	// the yield for events is very costly
				
				run_loop: while (true) 
				{
					for (var n=30; n!==0; n--)	// to avoid time checking as much
					{
						next = iterator.next();
						
						if (!next.done && typeof next.value === 'number')
							debugloc = next.value;
						else if (next.done)
							break run_loop;
						else if (typeof next.value.timeout === 'number')
							yield next.value.timeout;
						else
							debugger;
					}
					if (dnt <= Date.now())
					{
						task.debugloc = debugloc;
						yield 0; 
						dnt = Date.now() + ms_per_slice; 
					}
				}
				
				task.debugloc = debugloc;
			}
			catch (error) 
			{
				task.debugloc = debugloc;
				
				var debuggedhandler = XTalk.DebugLocMap[debugloc >> 16];
				if (debuggedhandler)
					error.scriptline = debuggedhandler.line + 1 + (debugloc & 0xFFFF);
	
				if (error === XTalk.exitToHyperCard)
					next = { done: true, value: '' };
				else
				{
					if (task.callback)
						(task.callback)(false, error);
					
					this.debug(debugloc, error);
					this.stopAll();
					this.stateChange(false); 
					return;
				}
			}
				
			if (task.callback) 
				(task.callback)(true, next.value);
			this.queue.shift();
		}
		
		// goodbye
		this.stateChange(false);
	}
}

XTalk.NoSuch = function(msg) { this.msg = msg; }
XTalk.NoSuch.prototype.toString = function() { return this.msg; }

XTalk.UniqueHandlerID = 1;
XTalk.DebugLocMap = {};		// could make this use weak references?

XTalk.ScriptWasChanged = ()=>{};	// when a script changes or when the script editor hides or shows

XTalk.cu = (what) => { throw new Error("Can't understand ‘"+what+"’"); };
XTalk.exitToHyperCard = new Error("exit to hypercard");

XTalk.UniqueID = 1;
XTalk.UninitedXTalks = {};
XTalk.InitCoroutinesFor = function XTalkInitCoroutinesFor(xtalk_id, coroutines_proc)
{
	//console.log(xtalk_id);
	const xtalk = XTalk.UninitedXTalks[xtalk_id];
	const me = xtalk.me;
	if (!me) throw "Unknown xtalk_id " + xtalk_id;
	delete XTalk.UninitedXTalks[xtalk_id];
	
	// here's the place to add the dynamic path, which means that if a message has no takers at all in the message path it's in, it gets to try the current card + background (if different).
	// for this to be valid in HC, the message has to start in a card, button, or field, be uncaught at all, and the go command has to have been in *that* handler.
	// we'll just make sure the message is uncaught, originates in a card, button, or field, and <--- is not the current.
	
	const MessagePath = (list, ofFunctions) => {
		list = Object.fromEntries(Object.entries(list).map((e)=>[e[0].toLowerCase(), e[1].bind(xtalk)]));
		xtalk.raw[ofFunctions ? 'fList' : 'hList'] = list;
		return new Proxy(list, {
			get(target,property) { 
				var result = Reflect.get(target, property);
				if (result !== undefined)
					return result;
				
				if (typeof property==='string' && property.toLowerCase() !== property)	// look for lower case version? have to see if it works oppositely
					result = Reflect.get(target, property.toLowerCase());
				if (result===undefined) {
					var search = xtalk.treat_as_accessory ? me : XTalk.ParentOf(me); 
					while (search) {
						if (search.xTalk && (result=(ofFunctions ? search.xTalk.raw.fList[property.toLowerCase()] : search.xTalk.raw.hList[property.toLowerCase()]))) 	
							break;
						search = XTalk.ParentOf(search);
					}
					if (!search) {
						// 'me' is not accurate here because the first element in the chain with an xTalk is the one XTalkQueue calls to.
						// And anyway we're catching built in messages in the simulator script now.
						//console.log('no messagepath result for '+property+' via '+(xtalk.treat_as_accessory ? 'accessory' : me.longName));
						if (!xtalk.treat_as_accessory /*&& ['BUTTON-PART','FIELD-PART','CARD-PART','BACKGROUND-PART'].includes(me.nodeName)*/)
						{
							//console.log('handler ' + property + ' requested in ' + me.longName + ' could go through dynamic msg path');
							// don't need to check if the card or background changed because it wasn't caught the first time anyway
							var stack = sim.stackOf(me);
							if (!((search=stack.card).xTalk && (result=search.xTalk.raw[ofFunctions?'fList':'hList'][property.toLowerCase()])))
								(search=stack.background).xTalk && (result=search.xTalk.raw[ofFunctions?'fList':'hList'][property.toLowerCase()]);
							if (result)
								console.log((ofFunctions?'function ':'on ') + property + ' was found in ' + search.longName + ' via the dynamic path');
							// great, you got it working. one issue: a card button, if sent after 'go', would try its own card first as expected. but a bkgnd button, if sent after 'go', would simply try the stack's current card. A message to a background part needs to somehow know what 'card' it is travelling through. Do we add the current card to XTalkQueue.Active to pick in XTalk.ParentOf? This is the same mechanism that 'send to bg btn of card' would use.
						}
					}
				}
				return result;
			},
			has(target,property) {
				return Reflect.has(target, (typeof property==='string') ? property.toLowerCase() : property);
			}
		});
	}

	xtalk.init = (coroutines_proc)(me);
	//xtalk.pathFactory = xtalk_message_path_iterator_factory(me);
	xtalk.handlers = MessagePath(xtalk.init.handlers, false);
	xtalk.functions = MessagePath(xtalk.init.functions, true);
	//console.log(me.xTalk);
}

XTalk.Send = function Send(target, message, params = [], callback = null, successToNotCatch = true, sendToCurrentCard = false)
{
	var stack = sim.stackOf(target);
	(stack ? stack.queue() : new XTalkQueue()).push(message, target, params, callback, { successToNotCatch, sendToCurrentCard });
}

XTalk.Do = function Send(scriptLines, target, callback = null)
{
	if (!target) target = sim.card;
	var do_xtalk = new XTalk(target, 'on do_coroutine\n' + scriptLines + '\n\nend do_coroutine', { treat_as_accessory: true });
	(do_xtalk.stackOf() ? do_xtalk.stackOf().queue() : new XTalkQueue()).push('do_coroutine', target, [], callback, { alternate_XTalk: do_xtalk });
}

XTalk.SendCoroutine = function*SendCoroutine(parent_, script, target)
{
	// send string to target
	var do_xtalk = new XTalk(target, 'on send\n' + script + '\nreturn the result\nend send', { treat_as_accessory: true });
	var result = yield*do_xtalk.handlers.send(parent_);		// HC uses local variables
	return result;
}

function*xtalk_do_coroutine(self, _, expression)
{
  var f = new ((function*(){}).constructor)( '_', XTalk.Translate('scriptLine', expression) );
  yield*(f.bind(self))(_ || new XTalk.EchoProxy({}));
}
function*xtalk_value_coroutine(self, _, expression)
{
  var f = new ((function*(){}).constructor)( '_', 'return '+XTalk.Translate('expressionEndOfScriptLine', expression) );
  var result = yield*(f.bind(self))(_);
  return (result!==undefined) ? result : expression;
}
function*xtalk_send_coroutine(message,params,target)
{
	while (!target.xTalk) {
		if (!(target=XTalk.ParentOf(target)))
			return;
	}
	return yield*(target.xTalk.handlers[message]||XTalk.cu(message)).apply(null, params);
}
function*xtalk_pass_coroutine(message,params,target)
{
	do {
		if (!(target=XTalk.ParentOf(target)))
			return;
	} while (!target.xTalk);
	return yield*(target.xTalk.handlers[message]||XTalk.cu(message)).apply(null, params);
}

XTalk.ParentOf = function parentOf(me) 
{
	// messages from both card and background buttons and fields go to the card, then background, then stack, then document.
	// it might be a little cleaner to have xtalk-common-template expose a .nextInPath property.
	if (me.matches) 
	{
		var layer = me.matches('card-part');
		if (layer)
			return me.background || sim.stackOf(me);
		
		if (me.matches('background-part'))
			return sim.stackOf(me);
		
		// simulator supports having a containing field be in the message path.     
		layer = me.parentNode && me.parentNode.closest('background-part, card-part, field-part');
		if (layer)
		{
			// this is a little tricky; a background part's ParentOf is the card, not the background. The Card's ParentOf is the background.
			if (layer.nodeName == 'BACKGROUND-PART' && layer.card_for_bkgnd_clone)
				return layer.card_for_bkgnd_clone ;
			return layer;
		}
	}
	return me.parentNode && ((me.parentNode.closest && me.parentNode.closest('stack-part,background-part,card-part,button-part,field-part')) || document);
}
XTalk.SelectOf = function selectOf(selector,by,numberOrName,container,allowToBeNull=false) 
{
	function selectorAndAttribute(aName, aValue) {
		var add = '['+aName+'="' + String(aValue).replaceAll('"',"\\22").replaceAll(/[\x00-\x1F]/g,' ') + '" i]';
		if (typeof selector === 'string')
			return selector+add;
		return selector.map((s)=>s+add).join(',');
	}

	try {
		if (container.nodeName==='BACKGROUND-PART' && selector.includes('card-part')) {
			selector = selector.replace('card-part','card-part[bkgndID="'+container.ID+'"]');
			container = XTalk.ParentOf(container);
			}
				
		var candidates, part, n;
		
		if (by==='ordinal') {
			candidates = (container.qsa(selector));
			
			// there's another function specifically for cards that supports back, forward, next, etc 
			if (numberOrName==='last')
				return candidates[candidates.length-1];
			if (numberOrName==='middle')
				return candidates[Math.floor(candidates.length/2)];
			if (numberOrName==='any')
				return candidates[Math.floor(Math.random()*candidates.length)];
			
			if (numberOrName==='number')	// special one for 'the number of '
				return candidates.length;
			
			// otherwise it was really a number like 2
			n = number(numberOrName);
			part = candidates[n-1];
		}
		else if (by==='number') {
			n = number(numberOrName);
			part = (candidates = (container.qsa(selector)))[n-1];
		}
		else if (by==='id') {
			n = number(numberOrName);
			//part = (candidates = Array.from(container.qsa(selector))).find((f,i)=>(f.id==n));
			part = container.qs(selectorAndAttribute('id',n));
		}
		else if (by!=='name' && numberOrName != "" && !isNaN(numberOrName) && Number.isInteger(n=Number(numberOrName))) {	
			// if it's not specifically <string> or <number> (even parenthesis), HC searches by index if it looks like a number
			// this makes btn "0" difficult to access. button "99.9" is also button 99.90. Etc
			part = (candidates = (container.qsa(selector)))[n-1];
		}
		else {
			part = container.qs(selectorAndAttribute('name', numberOrName));
			/*n = String(numberOrName);
			part = (candidates = Array.from(container.qsa(selector))).find((f)=>n.localeCompare(f.name,undefined,{sensitivity: 'base' })===0);*/
		}
		if (part) return part;
	} catch (e) {
		if (e instanceof XTalk.NoSuch) throw e.msg;
		throw e;
	}
	if (!allowToBeNull)
		throw new XTalk.NoSuch('No such ' + selector + (by ? ' '+by : '') + ' ' + numberOrName);
	return null;
}
XTalk.CardOf = function cardOf(stack, ordinal, marked, bkgnd)
{
  try {
    var card = stack.cardOf(ordinal, marked, bkgnd);
    if (card) return card;
  } catch (e) {
    if (e instanceof XTalk.NoSuch) throw e.msg;
    throw e;
  }
  throw new XTalk.NoSuch('No such ' + ordinal + (marked ? ' marked' : '') + ' card' + (bkgnd ? ' of '+bkgnd.longName : ''));
}
XTalk.BackgroundOf = function backgroundOf(stack, ordinal)
{
  try {
    var bkgnd = stack.backgroundOf(ordinal);
    if (bkgnd) return bkgnd;
  } catch (e) {
    if (e instanceof XTalk.NoSuch) throw e.msg;
    throw e;
  }
  throw new XTalk.NoSuch('No such ' + ordinal + ' bkgnd');
}
		
/* 
_.SomeThing == "SomeThing"; 
_.sOmethinG == "sOmethinG"; 
_.someTHING = "now it is something ELSE!";
_.SOMEthing == "now it is something ELSE!";
*/
XTalk.EchoProxyDefaults = { 
	comma: ',', 'return': '\n', linefeed: '\r', formfeed: '\f', space: ' ', empty: '', quote: '"', colon: ':', tab: '\t', 
	the_result: undefined, "true": true, "false": false,
	zero: 0, one: 1, two: 2, three: 3, pi: Math.PI, four: 4, five: 5, six: 6, seven: 7, eight: 8, nine: 9, ten: 10 
};
XTalk.EchoProxy = function EchoProxy(init)
{
	init.$global = {};	// list of global variables
	init.$values = (filterFunc)=>Object.entries(init)
		.filter((e)=>e[0][0]!='$')
		.filter(filterFunc || (()=>true))
		.map((e)=>(e[0]=='the_result' ? 'the result' : e[0])+' is ' + (typeof e[1] == 'number' || typeof e[1] == 'boolean' ? e[1] : '"'+String(e[1]).replaceAll("\n","↵")+'"'))
		.join(', ');
	init.$value = (v)=>init[v];
	
	Object.setPrototypeOf(init, XTalk.EchoProxyDefaults);
		
	var proxy = new Proxy(init, {
		get: (target,property) => { 
			//console.log('getting ' + property);
			if (typeof property === 'string' && Object.keys(target.$global).find((g)=>g.toLowerCase()===property.toLowerCase())
				&& proxy !== XTalk.Globals)
				{ //console.log('get global hit ' + property);
					return (property in XTalk.Globals) ? XTalk.Globals[property] : "";
				}
			var result = Reflect.get(target, (typeof property === 'string') ? property.toLowerCase() : property);
			return (result!==undefined || (init.$return_result_as_undefined && property==='the_result')) ? result : (property==='the_result') ? '' : property;
		},
		set: (target,property,value) => {
			//console.log('setting ' + property);
			if (typeof property === 'string' && Object.keys(target.$global).find((g)=>g.toLowerCase()==property.toLowerCase())
				&& proxy !== XTalk.Globals)
				{ //console.log('set global hit ' + property);
					target = XTalk.Globals;
				}
			//console.log(target,property,value);
			Reflect.set(target, (typeof property === 'string') ? property.toLowerCase() : property, value);
			return true;
		},
		has: (target,property) => {
			return Reflect.has(target, (typeof property === 'string') ? property.toLowerCase() : property);
		}
	});
	return proxy;
}

XTalk.GlobalsBasisObject = { $return_result_as_undefined: true, issimulator: true };
XTalk.Globals = new XTalk.EchoProxy(XTalk.GlobalsBasisObject);

XTalk.Rules = { };

XTalk.Support = function(type, grammar, output, options)
{
	//console.log({type, grammar, output});	
	
	if (!type) {
		// special handle <rule> | <rule2> = .....
		var input = tree(grammar,false,'=');
		var names = (input[1] === '=' && typeof input[0] == 'object' && input[0].choice)
		|| (input[1] === '=' && [[input[0]]]) || [['illegal']];
		input.shift(); input.shift();
		names.forEach((n)=>{
			if (n.length != 1 || typeof n[0] != 'object' || !n[0].rule) {
				if (!(/^[\s]*#/.test(grammar))) 
					throw "can't understand grammar "+grammar; 
				else
					return;
			}
			XTalk.Support(n[0].rule, input, output, Object.assign({ supplied_grammar: grammar },options));
		});
		return;
	}
	var feature = XTalk.Rules[type] || (XTalk.Rules[type]=[]), 
	variation = { 
		input: (grammar instanceof RegExp) 
		? [ { regexp: new RegExp(grammar, grammar.flags.replace(/y|$/,'y')) } ] 
		: (typeof grammar === 'object') ? grammar : tree(grammar),
		output: output ? tree(output,true) : null,
		prefixed_by_choice: (typeof grammar=='string') && /^[\s]*[\|]/g.test(grammar),
		options,
		supplied_grammar: grammar, 
		supplied_output: output
	};
	feature.push(variation); 
	
	function tree(rule,as_output,choice_breaking_string) 
	{
		// grammar format is <rulereference> | [ | ] | ]* | ]+ | ]! | whatever   
		// [zero or one], [zero or more]*, [one]!, [one or more]+. Really need to add { }
		// much better would be to support [] and {} input, and not even use them for output.
		var tokenexp, match;
		
		if (as_output)
			tokenexp = /([\s]*)(<([A-Za-z0-9]+)>|([^\s\S])|([^\s\S])|([\|][\|]|[^\<\|\s]+|[^\|])|([\|]))/gy, match;
		else
			tokenexp = /([\s]*)(<([A-Za-z0-9]+)>|([\[\{])|(\]\*|\]\+|\]\-|\]|\}\*|\}\+|\})|([\|][\|]|[^\[\]\{\}\<\|\s]+|[^\|])|([\|]))/gy, match;
		//var tokenexp = /([\s]*)(<([A-Za-z0-9]+)>|([\[\{])|(\]\*|\]\+|\]\!|\]|\}\*|\}\+|\})|([^\[\]\{\}\<\|\s]+|[^\|])|([\|]))/gy, match;
		return subtree(rule);
		function subtree(rule, bracket) 
		{
			var out = [], choices = [];
			while (match=tokenexp.exec(rule)) 
				{
					//console.log(match);
					var last_is_string = (out.length && typeof out[out.length-1]==='string');
					if (as_output && last_is_string)
						out[out.length-1] += match[1];
					
					if (match[3]) {
						var ticked = (rule.substr(Math.max(0,match.index-1),2)=="`<" && rule.substr(tokenexp.lastIndex-1,2)==">`");
						/*if (ticked) console.log('ticked!', rule);
						else console.log(ticked, rule.substr(Math.max(0,match.index-1),2), rule.substr(tokenexp.lastIndex-1,2), rule);*/
						out.push({ rule: match[3], ticked });
					}
					else if (match[4]) {
						var sub = { inner: subtree(rule,match[4][0]==='['?']':'}') };
						function last(array)
						{ return array.length && typeof array[array.length-1] == 'object' && array[array.length-1]; }
						if (last(sub.inner) && last(sub.inner).endrepeat)
							sub.repeat = sub.inner.pop().endrepeat;
						else if (last(sub.inner) && last(sub.inner).choice
							&& last(last(sub.inner).choice) && last(last(last(sub.inner).choice)) && last(last(last(sub.inner).choice)).endrepeat)
							sub.repeat = last(last(sub.inner).choice).pop().endrepeat;
						out.push(sub);
					}
					else if (match[5]) {
						if (!bracket || bracket !== match[5][0])
							throw('unexpected '+match[5]+' bracket');
						bracket = false;
						if (match[5] == ']*') out.push({ endrepeat: '*' });		// * is zero or more
						else if (match[5] == ']+' || match[5] == '}*') out.push({ endrepeat: '+' });	// + is one or more
						else if (match[5] == '}') out.push({ endrepeat: '!' });		// ! is one
						else if (match[5] == ']-') out.push({ endrepeat: '-' });	// - is zero
						break;
					}
					else if (match[6]) {
						if (match[6]===choice_breaking_string && choices.length) {
							choices.push(out);
							out = [{ choice: choices }];
							choices = [];
						}
						if (last_is_string && (as_output || !match[1].length))
							out[out.length-1] += match[6];
						else
							out.push(((as_output && match[1]) || '')+String(match[6]));
					}
					else if (match[7]) {
						if (out.length)
							choices.push(out);
						out = [];
					}
				}
			if (bracket)
				throw('expected '+bracket+' bracket');
			return choices.length ? [{ choice: choices.concat([out]) }] : out;
		}
	}
}

XTalk.Translate = function(rule, text)
{
	text = String(text);
	//XTalk.log('parsing <' + rule + '> with text:', text);
	var Packrat = {}, LR = {}, i = 0, result = translate(rule, XTalk.Rules[rule]);
	if (result)
		return result.join('');
	return undefined;
	
	function translate(rule, rules_list)
	{
		if (!rules_list) throw "unknown rule reference " + rule;
		
		var packrat_key = (rule + '@' + i), packrat_object = Packrat[packrat_key];
		
		if (packrat_object) 
			{
				if (!packrat_object.growth) 
					{ packrat_object.enabled = true; return; }
				i = packrat_object.growI;
				return packrat_object.growth;
			}
		
		function successor_choice(typeI) {
			do {
				typeI++;
			} while (typeI < rules_list.length && rules_list[typeI].prefixed_by_choice);
			return typeI;
		}
		// starting to work. the +1 needs to be fixed up
		var was_in_LR = LR[rule];
		delete LR[rule];	// we are not currently in growth
		packrat_object = (Packrat[packrat_key]={ enabled: false, growI: null, growth: null });
		
		var startI = i, match_type_index, result = undefined, first_match_type_allowed = was_in_LR ? successor_choice(was_in_LR.type) : 0;
		for (match_type_index = first_match_type_allowed; match_type_index < rules_list.length; match_type_index++)
			if (result=translate_type(rules_list[match_type_index]))
			break;
		
		if (result) {
			packrat_object.growI = i;
			packrat_object.growth = result;
		}
		if (result && packrat_object.enabled) 
		{
			//console.log('starting growth at ' + startI + ' previous growth status is', was_in_LR);
			
			//console.log(rule, match_type_index);
			do 
				{
					LR[rule] = { type: first_match_type_allowed };
					packrat_object.growI = i;
					packrat_object.growth = result;
					i = startI;
					result = undefined;
					for (var grow_match_type_index = first_match_type_allowed; grow_match_type_index < rules_list.length; grow_match_type_index++) {
						LR[rule] = { type: grow_match_type_index };
						if (result=translate_type(rules_list[grow_match_type_index])) {
							//console.log('started growth at ' + startI + ' new status is', LR[rule]);
							break;
						}
					}
				}
			while (result !== undefined && i > packrat_object.growI);
			i = packrat_object.growI;
			result = packrat_object.growth;
		}
		
		LR[rule] = was_in_LR;
		return result;
		
		function translate_type(type)
		{
			var matches = [], out = [], terminal;
			
			if (type.options && type.options.preflight && !type.options.preflight(text,i,Packrat))
				return undefined;
			
			function ensurepostsuccess(text, i, Packrat, out)
			{
				return !type.options || !type.options.postflight ||type.options.postflight(text,i,Packrat); 
			}
			
			var success = parse_pieces(type.input, false, ensurepostsuccess);
			
			if (success && type.output)
			{
				var production = [];
				//XTalk.log(type.output);
				type.output.forEach((o)=>{
					if (typeof o === 'string')
						production.push(o);
					else if (o.rule) {
						var m = matches.findIndex((m)=>(m.rule==o.rule && !m.used));
						if (m == -1)
							m = matches.findIndex((m)=>(m.rule==o.rule));
						if (m == -1) {
							production.push('<..' + o.rule + '..>');
							console.log('missing input rule ' + o.rule);
							}
						else {
							production = production.concat(matches[m].out);
							matches[m].used = true;
						}
					}
					else { console.log(o); throw "unknown output type "; }
				});
				out = production;
			}
			
			// these aren't reversing the i.... problem!!
			if (success && type.options && type.options.postproduce && !type.options.postproduce(out))
				success = false;
			
			/*if (type.options && type.options.postflight && !type.options.postflight(text,i,Packrat))
				success = false;*/
						
			if (!success)
				return undefined;
			
			return out;
			
			function parse_pieces(pieces, disallow_null, ensurepostsuccess)
			{
				var startI = i, startOL = out.length, startML = matches.length;
				if (!pieces.find(piece_failure) 
					&& !(disallow_null && (startI==i))
					&& (!ensurepostsuccess || ensurepostsuccess(text, i, Packrat, out)))
					return out;
				i = startI;
				out.splice(startOL);
				matches.splice(startML);
				return undefined;
				
				var terminal,result;
				function piece_failure(p)
				{
					while (/[^\S\n]/.test(text[i])) { i++; }
					
					if (typeof p === 'string') {
						if (p.toLowerCase()==(terminal=text.substr(i,p.length)).toLowerCase() 
							&& !(/[A-Z0-9_]/i.test(p[p.length-1]) && /[A-Z0-9_]/i.test(text[i+p.length]||''))) {
								out.push(terminal);
								i += p.length; 
								return false; 
							}
					}
					else if (p.regexp) {
						/*p.regexp.lastIndex = i;
						var rm = p.regexp.exec(text);*/
						p.regexp.lastIndex = 0;
						var rm = p.regexp.exec(text.substr(i));	// identifier has a thing not to match the...it's inconvenient
						if (rm) {
							out.push(terminal=text.substr(i,rm[0].length));
							i += rm[0].length; 
							return false; 
						}
					}
					else if (p.rule) {
						if (result=translate(p.rule, XTalk.Rules[p.rule])) {
							matches.push({ rule: p.rule, out: result }); 
							out = out.concat(result);
							return false; 
						}
					}
					else if (p.inner) 
					{ 	// [optional], [required]!, [at least zero]*, [at least one]+, [not any]-
						var any = false;
						while (parse_pieces(p.inner, !(p.repeat=='-'))) 
							{ any = true; if (p.repeat != '*' && p.repeat != '+') break; }
						if (p.repeat=='-') 
							return any;	
						if (!(!any && (p.repeat=='+' || p.repeat=='!') ) ) 
							return false;
					}
					else if (p.choice) 
					{
						if (p.choice.find((p)=>parse_pieces(p))) 
							return false;
					}
					else throw "unknown input type " + p;
					return true;
				}
			}
		}
	}
}

XTalk.ImportGrammar = function(rulename, rulestring, options)	// enhance this a bit to support more than one grammar type, etc
{
	var ge = rulestring.split('\n');
	for (var i = 0; i < ge.length-1; i++) 
		if (/=>[\s]*$/.test(ge[i]) || /^[\s]*=>/.test(ge[i+1]))
		ge[i] += ge.splice(i+1,1)[0];
	ge = ge.map((g)=>g.split('=>'));	
	ge.forEach((s)=>{
		if (!s[0].trim()) return;
		XTalk.Support(rulename, s[0].trim(), s.slice(1).join('=>').trim(), options);
	});
}

// I would like to break out a <container> usable for chunks, properties, and the like, supporting into/after/before as chunk pieces, for put, set, add, subtract, delete, etc,
// that returns a get/set proxy object or something. For simple sets of variables and properties with no chunk, transpile directly.
	
// issue with: go card targ of bg "People"
// if I interpret as <card> , fine
// but if I go card 1 + 1 I need to go to card 2, that's the syntax. but card (targ of bg "People") works as an expression...
// I need go to <card> [endofline]-
	
XTalk.ImportGrammar('',`
<endOfScriptLine> = [ [ <linefeed> | else ]- ]-
`);

XTalk.ImportGrammar('statement', `

answer <expression>	with <factor> {or|,} <factor> {or|,} <factor>		=>	(yield*this.handlers.answer(_, <expression>, <factor>, <factor>, <factor>));
answer <expression>	with <factor> {or|,} <factor>					=>	(yield*this.handlers.answer(_, <expression>, <factor>, <factor>, ''));
answer <expression>	with <factor> 							=>	(yield*this.handlers.answer(_, <expression>, <factor>, ''));
answer <expression>	 										=>	(yield*this.handlers.answer(_, <expression>));
answer 				 										=>	(yield*this.handlers.answer(_, ''));

ask <expression> with <expression>							=>	(yield*this.handlers.ask(_, <expression>, <expression>));
ask <expression> 											=>	(yield*this.handlers.ask(_, <expression>, ''));
ask 			 											=>	(yield*this.handlers.ask(_, '', ''));

get <expression> [into it]									=>	_.it = <expression>;
#
go [to] [the] [stack] {home|"home"} [stack]							=>	goHome();
go [to] [the] [stack] {help|"help"} [stack]							=>	(yield*this.handlers.help());
| go [to] <card> <endOfScriptLine>			  				=>  (yield*this.stackOf().GoCoroutine(<card>));
| go [to] {card|cd} <idOrEmpty> <expression> <endOfScriptLine> 				=>  (yield*this.stackOf().GoCoroutine(this.selectOf('card-part', <idOrEmpty>, <expression>, this.stackOf())));
| go [to] <background> 										=>	(yield*this.stackOf().GoCoroutine(XTalk.CardOf(this.stackOf(),1,false,<background>)));
| go back													=>	(yield*go_recent_card_coroutine());
| go forth													=>	(yield*go_recent_card_coroutine(true));
| go back													=>	(yield*this.stackOf().GoCoroutine('back'));
| go forth													=>	(yield*this.stackOf().GoCoroutine('forth'));
| go [to] <cardOrdinal> 									=>	(yield*this.stackOf().GoCoroutine(XTalk.CardOf(this.stackOf(),<cardOrdinal>)));
| go [to] <partOrEquiv> <endOfScriptLine>	 					=>	(yield*this.stackOf().GoCoroutine(<partOrEquiv>));
| go [to] [ [<cardOrdinal>|this] {card|cd} [of|in|<idOrEmpty> <identOrExprOf>] ] [stack] [<card>|<background>]- <expression> [in [a|an] new window]	=>  (yield*this.handlers.goToStack(<expression>));
| go [to] [ [<cardOrdinal>|this] {card|cd} [of|in|<idOrEmpty> <identOrExprOf>] ] [stack] [<card>|<background>]- <factorsWithSpaces> [in [a|an] new window]	=>  (yield*this.handlers.goToStack(<factorsWithSpaces>));
#

put <expressionWithCommas> into <chunkList> [the] <property> of <part> | set <chunkList> [the] <property> of <part> to <expressionWithCommas> 
=>	((e,cl,p)=>{ var c = String(p.<property>), r = XTalkChunk(cl, c, [], true); p.<property> = [c.substr(0,r[0]),r[2],e,c.substr(r[1])].join(''); })(<expressionWithCommas>,[<chunkList>],<part>);

put <expressionWithCommas> into <chunkList> <partPossessive> <property> <possessiveChunkList> | set <chunkList> <partPossessive> <property> <possessiveChunkList> to <expressionWithCommas> =>	((e,p)=>{ var c = String(p.<property>), r = XTalkChunk(cl, c, [<possessiveChunkList>], true); p.<property> = [c.substr(0,r[0]),r[2],e,c.substr(r[1])].join(''); })(<expressionWithCommas>,[<chunkList>], <partPossessive>);

put <expressionWithCommas> into <chunkList> <partPossessive> <property> | set <chunkList> <partPossessive> <property> to <expressionWithCommas> =>	((e,p)=>{ var c = String(p.<property>), r = XTalkChunk(cl, c, [], true); p.<property> = [c.substr(0,r[0]),r[2],e,c.substr(r[1])].join(''); })(<expressionWithCommas>,[<chunkList>],<partPossessive>);

put <expressionWithCommas> into <chunkList> <partWithContents>	| set <chunkList> <partWithContents> to <expressionWithCommas> =>  ((e,cl,p)=>{ var c = String(p.contents), r = XTalkChunk(cl, c, [], true); p.contents = [c.substr(0,r[0]),r[2],e,c.substr(r[1])].join(''); })(<expressionWithCommas>,[<chunkList>],<partWithContents>);

put <expressionWithCommas> into <chunkList> <variable> | set <chunkList> <variable> to <expressionWithCommas> => ((e,cl)=>{ var c = String(_.<variable>), r = XTalkChunk(cl, c, [], true); _.<variable> = [c.substr(0,r[0]),r[2],e,c.substr(r[1])].join(''); })(<expressionWithCommas>, [<chunkList>]);

set [the] {textFont|textSize|textStyle|textHeight} of <chunkList> <extratext>		=> null;

put <expressionWithCommas> into [the] <property> of <partOrEquiv> | set [the] <property> of <partOrEquiv> to <expressionWithCommas> 	=>	<partOrEquiv>.<property> = <expressionWithCommas>;

put <expressionWithCommas> into <partPossessive> <property> | set <partPossessive> <property> to <expressionWithCommas>	=>	<partPossessive>.<property> = <expressionWithCommas>;

put <expressionWithCommas> into <menu> with {menuMessages|menuMsgs|menuMessage|menuMsg} <expressionWithCommas>	=> ((menu)=>{ menu.contents = <expressionWithCommas>; menu.menuMessages = <expressionWithCommas>; })(<menu>);

put <expressionWithCommas> into [the] { {message|msg} [box|window] }		=>	(yield*this.handlers.put(<expressionWithCommas>));
put <expressionWithCommas> into <partWithContents>			=>	<partWithContents>.contents = <expressionWithCommas>;
put <expressionWithCommas> into <variable> 			 		=>	_.<variable> = <expressionWithCommas>;
[let] <variable> = <expressionWithCommas> 	 			 	=>	_.<variable> = <expressionWithCommas>;

put <expression> before <chunkList> <partWithContents>		=>  ((e,cl,p)=>{ var r = XTalkChunk(cl, p.contents, [], true); p.contents = [p.contents.substr(0,r[0]),r[2],e,p.contents.substr(r[0])].join(''); })(<expression>, [<chunkList>], <partWithContents>);
put <expression> before <chunkList> <variable>				=>  _.<variable> = ((e,r)=>[_.<variable>.substr(0,r[0]),r[2],e,_.<variable>.substr(r[0])].join(''))(<expression>,XTalkChunk([<chunkList>], _.<variable>, [], true));
put <expression> before <partWithContents> 					=>	((e,s)=>s.contents = String(e) + s.contents)(<expression>,<partWithContents>);
put <expression> before <variable> 							=>	_.<variable> = <expression> + _.<variable>;

put <expression> after <chunkList> <part>					=>  ((e,cl,p)=>{ var r = XTalkChunk(cl, p.contents, [], true); p.contents = [p.contents.substr(0,r[1]),r[2],e,p.contents.substr(r[1])].join(''); })(<expression>, [<chunkList>], <part>);
put <expression> after <chunkList> <variable>				=>  _.<variable> = ((e,r)=>[_.<variable>.substr(0,r[1]),r[2],e,_.<variable>.substr(r[1])].join(''))(<expression>, XTalkChunk([<chunkList>], _.<variable>, [], true));
put <expression> after <partWithContents>					=>	<partWithContents>.contents += <expression>;
put <expression> after <variable> 							=>	_.<variable> = _.<variable> + <expression>;

put <expressionWithCommas>									=> (yield*this.handlers.put(<expressionWithCommas>));
set [the] <property> to <expressionWithCommas>				=>	(yield*(sim.handlers.set<property>||XTalk.cu('<property>'))(<expressionWithCommas>));

#

delete <buttonOrField>										=> ((p)=>p.parentNode.removeChild(p))(<buttonOrField>);
delete <chunkList> <partWithContents>								
	=> ((cl,p)=>{ var pc = p.contents, r = XTalkChunk(cl, pc, [], 'includeTrailing'); p.contents=[pc.substr(0,r[0]),pc.substr(r[1])].join(''); })([<chunkList>],<partWithContents>);
delete <chunkList> <variable>								
	=>  _.<variable> = ((r)=>[_.<variable>.substr(0,r[0]),_.<variable>.substr(r[1])].join(''))(XTalkChunk([<chunkList>], _.<variable>, [], 'includeTrailing'));
#

<addSubtract> <expression> {to|from} <chunkList> <partWithContents>			=>  ((e,cl,p)=>{ var r = XTalkChunk(cl, p.contents, [], true); p.contents=[p.contents.substr(0,r[0]),r[2],number(p.contents.substring(r[0],r[1])) <addSubtract> number(e),p.contents.substr(r[1])].join(''); })(<expression>,[<chunkList>],<partWithContents>);
<addSubtract> <expression> {to|from} <chunkList> <variable>				=>  ((e,cl)=>{ var p = String(_.<variable>), r = XTalkChunk(cl, p, [], true); _.<variable> = [p.substr(0,r[0]),r[2],number(p.substring(r[0],r[1]))<addSubtract>number(e),p.substr(r[1])].join(''); })(<expression>,[<chunkList>]);
<addSubtract> <expression> {to|from} [the] <property> of <part> 		=>	((e,p)=>p.<property>=number(p.<property>) <addSubtract> number(e))(<expression>,<part>);
<addSubtract> <expression> {to|from} <partWithContents> 					=>	((e,p)=>p.contents=number(p.contents) <addSubtract> number(e))(<expression>,<partWithContents>);
<addSubtract> <expression> {to|from} <variable> 							=>	_.<variable> = number(_.<variable>) <addSubtract> number(<expression>);

<multiplyDivide> <chunkList> <partWithContents> by <expression>			=>  ((e,cl,p)=>{ var r = XTalkChunk(cl, p.contents, [], true); p.contents=[p.contents.substr(0,r[0]),r[2],number(p.contents.substring(r[0],r[1])) <multiplyDivide> number(e),p.contents.substr(r[1])].join(''); })(<expression>,[<chunkList>],<partWithContents>);
<multiplyDivide> <chunkList> <variable>	by <expression>			=>  _.<variable> = ((e,r)=>[_.<variable>.substr(0,r[0]),r[2],number(_.<variable>.substring(r[0],r[1])) <multiplyDivide> number(e),_.<variable>.substr(r[1])].join(''))(<expression>,XTalkChunk([<chunkList>], _.<variable>, [], true));
<multiplyDivide> [the] <property> of <part> by <expression>  		=>	((p,e)=>p.<property>=number(p.<property>) <multiplyDivide> number(e))(<part>,<expression>);
<multiplyDivide> <partWithContents> by <expression>					=>	((p,e)=>p.contents=number(p.contents) <multiplyDivide> number(e))(<partWithContents>,<expression>);
<multiplyDivide> <variable> by <expression>							=>	_.<variable> = number(_.<variable>) <multiplyDivide> number(<expression>);

#
send <expression> to hypercard								=> 	(yield*(XTalk.SendCoroutine(_, <expression>, document)));
send <expression> to <partOrEquiv>							=> 	(yield*(XTalk.SendCoroutine(_, <expression>, <partOrEquiv>)));
send { <message> | "<message>" } <expressionList> to <partOrEquiv>		=> 	yield*xtalk_send_coroutine('<message>', [<expressionList>], <partOrEquiv>);
#send { <message> | "<message>" } to <partOrEquiv>			=> 	yield*xtalk_send_coroutine('<message>', [], <partOrEquiv>);
#send { <message> | "<message>" }							=>  yield*xtalk_send_coroutine('<message>', [], this.me);
{do|send} <expression> <endOfScriptLine>					=>  yield*xtalk_do_coroutine(this, _, <expression>);
do <extratext>												=>  yield*xtalk_do_coroutine(this, _, \`<extratext>\`);

enable <partOrEquiv>										=>	<partOrEquiv>.enabled = true;
disable <partOrEquiv>										=>	<partOrEquiv>.enabled = false;
#
show [the] {message|msg} [box|window]						=>  if (window.messagebox) messagebox_setvisible(true);
hide [the] {message|msg} [box|window]						=>  if (window.messagebox) messagebox_setvisible(false);
{show|hide} [the] {menubar|titlebar|scroll window|tool window|pattern window}						=>  null;
show <partOrEquiv> at <expressionWithCommas>				=>	((p,e)=>{ p.loc = e; p.visible = true; })(<partOrEquiv>,<expressionWithCommas>);
show {picture|pict} {of|in} <card>						=>  <card>.showPict = true;
hide {picture|pict} {of|in} <card>						=>  <card>.showPict = false;
show {card|cd} {picture|pict} 								=>  this.stackOf().card.showPict = true;
hide {card|cd} {picture|pict}								=>  this.stackOf().card.showPict = false;
show {background|bkgnd|bg} {picture|pict} 		=>  this.stackOf().background.showPict = true;
hide {background|bkgnd|bg} {picture|pict}			=>  this.stackOf().background.showPict = false;
show [the] palette											=>  palette.visible=true;
show all [cards|cds]										=> (yield*this.handlers.showCards(''));
show <expression> {cards|cds}								=> (yield*this.handlers.showCards(<expression>));
show <partOrEquiv>											=>	<partOrEquiv>.visible = true;
hide <partOrEquiv>											=>	<partOrEquiv>.visible = false;
#
select text of <buttonOrField>								=>  getSelection().selectAllChildren(<buttonOrField>.contentsContainer());
select {text|after|before} [<extratext>]					=>	null;
select line <identOrExprOf> <buttonOrField>        	  		=>  <buttonOrField>.selectedLine = <identOrExprOf>;
select <buttonOrField>										=>  (yield*this.handlers.select(<buttonOrField>));
play <factor> <factorsWithSpaces>								=>  (yield*this.handlers.play(<factor>, <factorsWithSpaces>));
visual [effect] <factorsWithSpaces>							=>  this.stackOf().visualEffect = <factorsWithSpaces>;
push <card>													=>  this.stackOf().pushCard(<card>);
pop {cd|card} into <variable>								=>  _.<variable> = String(this.stackOf().popCard());
pop {cd|card}												=>  (yield*this.stackOf().GoCoroutine(this.stackOf().popCard()));

mark all {cards|cds}										=> this.stackOf().qsa(':scope > card-part').forEach((c)=>c.marked=true);
mark <card>													=> <card>.marked = true;
unmark all {cards|cds}										=> this.stackOf().qsa(':scope > card-part').forEach((c)=>c.marked=false);
unmark <card>												=> <card>.marked = false;

global <globalList> 										=>  <globalList>;

create menu <factor>											=> this.stackOf().parentNode.getMenu(<factor>,true,true);
delete menu <factor>											=> this.stackOf().parentNode.deleteMenu(<factor>,true);

doMenu <factorsWithSpaces>									=>  (yield*this.handlers.doMenu(<factorsWithSpaces>));
{choose [the] tool <factor> | choose [the] <factor> tool}		=>  (yield*this.handlers.choose(<factor>));
click at <expressionWithCommas>	with <expressionWithCommas>	=>  ((p,m)=>this.stackOf().clickDrag(p[0],p[1],p[0],p[1],m))(point([<expressionWithCommas>].join()),<expressionWithCommas>);
click at <expressionWithCommas>		=>  ((p)=>this.stackOf().clickDrag(p[0],p[1],p[0],p[1]))(point([<expressionWithCommas>].join()));
drag from <expressionWithCommas> to <expressionWithCommas> [with <extratext>]	=>  ((p,s)=>this.stackOf().clickDrag(p[0],p[1],s[0],s[1]))(point([<expressionWithCommas>].join()),point([<expressionWithCommas>].join()));
type <expression> [with <expressionWithCommas>]				=>  document.execCommand('insertText',null,<expression>);
speak <expression> with {voice <expression> | <expression> voice }	=>  (yield*this.handlers.speak(<expression>,<expression>));
speak <expression> 											=>  (yield*this.handlers.speak(<expression>));

{ flash | lock | unlock | dial | close window | convert | create {menuitem} | delete {menuitem} | picture | start using | stop using | sort | reset {menubar|paint}  } [<extratext>]		=>	null;
addColor <expressionList>									=> this.stackOf().refreshAddColorStage(); 
palette <expression>, <expression>							=> _.the_result = create_palette(JSON.parse(this.stackOf().importedPLTEs||'{}')[<expression>], point(<expression>));
palette <expression>										=> _.the_result = create_palette(JSON.parse(this.stackOf().importedPLTEs||'{}')[<expression>]);
	
edit [the] script of <partOrEquiv>							=> launch_scripteditor(<partOrEquiv>);
`);
	
XTalk.ImportGrammar('messageCall',`
{<message> | "<message>"} <expressionList>					=>	_.the_result = (yield*(this.handlers.<message>||XTalk.cu('<message>'))(<expressionList>));
`);
	
XTalk.ImportGrammar('',`

<if> 	= if <expression> <then> 				=> if (boolean(<expression>)) /**/{/* +then */ <then>
<if> 	= if <expression> 		 				=> if (boolean(<expression>)) /**/{/* +then */ 

<then> 	= then <if>								=> /* -then *//* +else}? */ <if> 
<then> 	= then <repeat>							=> /* -then *//* +else}? */ <repeat> 
<then> 	= then <scriptLine> <else>				=> /* -then *//**/ <scriptLine> /**//* +else}? */ <else>
<then> 	= then <scriptLine> 					=> /* -then *//**/ <scriptLine> /**//* +else}? */
<then> 	= then									=> /* -then *//**/ /**//* +endif,else?! */

<else> 	= else <if>								=> /* -else */}/* */ else <if> 
<else> 	= else <repeat> 						=> /* -else */}/**/ else <repeat> 
<else> 	= else <scriptLine> <else>				=> /* -else */}/**/ else <scriptLine> <else>
<else> 	= else <scriptLine> 					=> /* -else */}/**/ else { <scriptLine> }
<else> 	= else 									=> /* -else */}/**/ else  /**/{/* +endif?! */

<endif>	= end if <else>							=> /* -endif */}/**/ <else>
<endif>	= end if								=> /* -endif */}/**/

<repeat> = repeat while <expression>			=> while (boolean(<expression>)) /**/{/* +repeat?! */
<repeat> = repeat until <expression>			=> while (!boolean(<expression>)) /**/{/* +repeat?! */
<repeat> = repeat with <variable> {=|is} <expression> <downToOrTo> <expression>	
												=> for (var <variable>$ = <expression>; (_.<variable>=<variable>$) <= <expression>; <variable>$<downToOrTo>) /**/{/* +repeat?! */
<repeat> = repeat with <factor> {=|is} <expression> <downToOrTo> <expression>	
												=> for (var VAR$ = <expression>, CTR$ = <factor>; (_[CTR$]=VAR$) <= <expression>; VAR$<downToOrTo>) /**/{/* +repeat?! */
<repeat> = repeat forever						=> while (true) /**/{/* +repeat?! */
<repeat> = repeat [for] <expression> [times]	=> for (var _n=1; _n <= number(<expression>); _n++) /**/{/* +repeat?! */
<repeat> = repeat								=> while (true) /**/{/* +repeat?! */
<downToOrTo> = down to => --
<downToOrTo> = to => ++

<endrepeat> = end repeat <else>					=> /* -repeat */}/**/ <else>
<endrepeat> = end repeat 						=> /* -repeat */}/**/
<exitrepeat> = exit repeat						=> /* @repeat *//**/ break;
<nextrepeat> = next repeat						=> /* @repeat *//**/ continue;

`);
	
XTalk.ImportGrammar('command', `
<if> | <then> | <else> | <endif>
<repeat> | <exitrepeat> | <nextrepeat> | <endrepeat>
#
return <expression>											=>	return <expression>;
exit <handlerName> | return									=>  return ""; 
pass <handlerName>											=>  return (yield*xtalk_pass_coroutine('<handlerName>', arguments, this.me));
exit to hypercard											=>  throw(XTalk.exitToHyperCard);
end [<extratext>]											=>  /*unknownEnd*/
#
wait until <expression>										=>  { console.log('wait until '+\`<expression>\`+'…'); while (!boolean(<expression>)) yield({ timeout: 50 }); console.log('done'); }
wait while <expression>										=>  { console.log('wait while '+\`<expression>\`+'…'); while (boolean(<expression>)) yield({ timeout: 50 });  console.log('done'); }
wait [for] <expression> {second|seconds|sec|secs} 			=>  { yield({timeout: number(<expression>)*1000}); }
wait [for] <expression> [tick|ticks]			 			=>  { yield({timeout: number(<expression>)*1000/60}); }
#
debugger;													=>  { if (body.classList.contains('javascript')) debugger; }
log <part>													=>  console.log(<part>);
log <expressionList>										=>  console.log(<expressionList>);
`);

// in HC you could get the name of "cd fld (1+1)" , we support this too 
	XTalk.ImportGrammar('partOrEquiv',`
<part>
<factor>														=>  (yield*( new ((function*(){}).constructor)( '_', 'return '+XTalk.Translate('part', <factor>) ).bind(this) )(new XTalk.EchoProxy({})))
`);

	XTalk.ImportGrammar('part',`
me															=>	this.me
the {selectedPart|selPart}									=>  this.stackOf().selectedPart
[the] [short|abbr|abbrev|abbreviated] target						=>  XTalkQueue.Active.Target
[the] owner of <card>										=>  <card>.owner
the selection												=>  window.getSelection().toString()
the palette													=>  this.me.palette
<buttonOrField>
[the] {card|cd} window 										=>  this.stackOf().parentNode.cardWindowDelegate()
<card>
<background>
<stack>
<menu>
<menuItem>
window <factor> | {msg} 										=>  ({ pretendWindow: true })
file <factor>												=>  ({ pretendFile: true })
`);
	
XTalk.ImportGrammar('menu',`
menu <factor>												=> this.stackOf().parentNode.getMenu(<factor>,true)
`);
	
XTalk.ImportGrammar('menuItem',`
<ordinal> menuItem {of|in|from} <menu>						=> (this.selectOf('title-bar-menuitem', 'ordinal', <ordinal>, <menu>, true) || {pretendMenuItem:true})
menuItem <identOrExprOf> <menu>	[with {menuMessage|menuMessages|menuMsg|menuMsgs} <expression>]			=> (this.selectOf('title-bar-menuitem', '', <identOrExprOf>, <menu>, true) || {pretendMenuItem:true})
`);
	
XTalk.ImportGrammar('partWithContents',`
	<buttonOrField>
	<menu>
	<menuItem>
`);

XTalk.ImportGrammar('buttonOrField',`
<ordinal> [bg|bkgnd|background] {field|fld} {of|in} <card> 	=> ((c)=>this.selectOf('field-part', 'ordinal', <ordinal>, (c=<card>).background).contentsProxyForCard(c))()
[bg|bkgnd|background] {field|fld} <number> {of|in} <card> 	=> ((c)=>this.selectOf('field-part', 'number', <number>, (c=<card>).background).contentsProxyForCard(c))()
[bg|bkgnd|background] {field|fld} <string> {of|in} <card> 	=> ((c)=>this.selectOf('field-part', 'name', <string>, (c=<card>).background).contentsProxyForCard(c))()
[bg|bkgnd|background] {field|fld} <idOrEmpty> <identOrFactorOf> <card> => ((c)=>this.selectOf('field-part', <idOrEmpty>, <identOrFactorOf>, (c=<card>).background).contentsProxyForCard(c))()

<ordinal> <bgOrCd> {button|btn} {of|in} <partOrEquiv>				=>  this.selectOf('button-part', 'ordinal', <ordinal>, <partOrEquiv>.<bgOrCd>)
<ordinal> <bgOrCd> {button|btn} 									=>  this.selectOf('button-part', 'ordinal', <ordinal>, this.stackOf().<bgOrCd>)
<bgOrCd> {button|btn} <number> {of|in} <partOrEquiv>				=>  this.selectOf('button-part', 'number', <number>, <partOrEquiv>.<bgOrCd>)
<bgOrCd> {button|btn} <string> {of|in} <partOrEquiv>				=>  this.selectOf('button-part', 'name', <string>, <partOrEquiv>.<bgOrCd>)
<bgOrCd> {button|btn} <idOrEmpty> <identOrFactorOf> <partOrEquiv>	=>	this.selectOf('button-part', <idOrEmpty>, <identOrFactorOf>, <partOrEquiv>.<bgOrCd>)
<bgOrCd> {button|btn} <number> 										=>  this.selectOf('button-part', 'number', <number>, this.stackOf().<bgOrCd>)
<bgOrCd> {button|btn} <string> 										=>  this.selectOf('button-part', 'name', <string>, this.stackOf().<bgOrCd>)
<bgOrCd> {button|btn} <idOrEmpty> <factor>		 					=>	this.selectOf('button-part', <idOrEmpty>, <factor>, this.stackOf().<bgOrCd>)

<ordinal> <cdOrBg> {field|fld} {of|in} <partOrEquiv>				=>  this.selectOf('field-part', 'ordinal', <ordinal>, <partOrEquiv>.<cdOrBg>)
<ordinal> <cdOrBg> {field|fld} 										=>  this.selectOf('field-part', 'ordinal', <ordinal>, this.stackOf().<cdOrBg>)
<cdOrBg> {field|fld} <number> {of|in} <partOrEquiv>					=>  this.selectOf('field-part', 'number', <number>, <partOrEquiv>.<cdOrBg>)
<cdOrBg> {field|fld} <string> {of|in} <partOrEquiv>					=>  this.selectOf('field-part', 'name', <string>, <partOrEquiv>.<cdOrBg>)
<cdOrBg> {field|fld} <idOrEmpty> <identOrFactorOf> <partOrEquiv>		=>	this.selectOf('field-part', <idOrEmpty>, <identOrFactorOf>, <partOrEquiv>.<cdOrBg>)
<cdOrBg> {field|fld} <number> 										=>  this.selectOf('field-part', 'number', <number>, this.stackOf().<cdOrBg>)
<cdOrBg> {field|fld} <string> 										=>  this.selectOf('field-part', 'name', <string>, this.stackOf().<cdOrBg>)
<cdOrBg> {field|fld} <idOrEmpty> <factor>							=>	this.selectOf('field-part', <idOrEmpty>, <factor>, this.stackOf().<cdOrBg>)

<ordinal> <bgOrCd> {part} {of|in} <partOrEquiv>						=> 	this.selectOf(['button-part','field-part'], 'ordinal', <ordinal>, <partOrEquiv>.<bgOrCd>)
<ordinal> <bgOrCd> {part} 											=> 	this.selectOf(['button-part','field-part'], 'ordinal', <ordinal>, this.stackOf().<bgOrCd>)
<bgOrCd> {part} <number> {of|in} <partOrEquiv>						=>  this.selectOf(['button-part','field-part'], 'number', <number>, <partOrEquiv>.<bgOrCd>)
<bgOrCd> {part} <string> {of|in} <partOrEquiv>						=>  this.selectOf(['button-part','field-part'], 'name', <string>, <partOrEquiv>.<bgOrCd>)
<bgOrCd> {part} <idOrEmpty> <identOrFactorOf> <partOrEquiv>			=>	this.selectOf(['button-part','field-part'], <idOrEmpty>, <identOrFactorOf>, <partOrEquiv>.<bgOrCd>)
<bgOrCd> {part} <number> 											=>  this.selectOf(['button-part','field-part'], 'number', <number>, this.stackOf().<bgOrCd>)
<bgOrCd> {part} <string> 											=>  this.selectOf(['button-part','field-part'], 'name', <string>, this.stackOf().<bgOrCd>)
<bgOrCd> {part} <idOrEmpty> <factor>		 							=>	this.selectOf(['button-part','field-part'], <idOrEmpty>, <factor>, this.stackOf().<bgOrCd>)

me																	=>  this.me
[the] target														=>  XTalkQueue.Active.Target
`);

XTalk.ImportGrammar('card',`
[the] <cardOrdinal> marked {card|cd} {of|in} <background>	=> 	XTalk.CardOf(this.stackOf(), <cardOrdinal>, true, <background>)
[the] <cardOrdinal> {card|cd} {of|in} <background>			=> 	XTalk.CardOf(this.stackOf(), <cardOrdinal>, false, <background>)
[the] <cardOrdinal> marked {card|cd} 						=> 	XTalk.CardOf(this.stackOf(), <cardOrdinal>, true)
[the] <cardOrdinal> {card|cd} 								=> 	XTalk.CardOf(this.stackOf(), <cardOrdinal>)

marked {card|cd} <string> {of|in} <background> 				=>	this.selectOf('card-part[marked]:not([marked="false" i])', 'name', <string>, <background>)
marked {card|cd} <idOrEmpty> <identOrFactorOf> <background> 	=>	this.selectOf('card-part[marked]:not([marked="false" i])', <idOrEmpty>, <identOrFactorOf>, <background>)
marked {card|cd} <idOrEmpty> <factor>						=>	this.selectOf('card-part[marked]:not([marked="false" i])', <idOrEmpty>, <factor>, this.stackOf())
{card|cd} <string> {of|in} <background> 					=>	this.selectOf('card-part', 'name', <string>, <background>)
{card|cd} <idOrEmpty> <identOrFactorOf> <background> 		=>	this.selectOf('card-part', <idOrEmpty>, <identOrFactorOf>, <background>)
{card|cd} <string> 						 					=>	this.selectOf('card-part', 'name', <string>, this.stackOf())
{card|cd} <idOrEmpty> <factor>								=>	this.selectOf('card-part', <idOrEmpty>, <factor>, this.stackOf())

[the] recent {card|cd}										=>  this.stackOf().recentCard 
[this|the] {card|cd}										=>	this.stackOf().card
`);
XTalk.ImportGrammar('background',`
[the] <cardOrdinal> {background|bkgnd|bg} 					=> 	XTalk.BackgroundOf(this.stackOf(), <cardOrdinal>)
{background|bkgnd|bg} <string> 								=>	this.selectOf('background-part', 'name', <string>, this.stackOf())
{background|bkgnd|bg} <idOrEmpty> <factor> 					=>	this.selectOf('background-part', <idOrEmpty>, <factor>, this.stackOf())
[this|the] {background|bkgnd|bg}							=>	this.stackOf().background
`);
XTalk.ImportGrammar('stack',`
[this|the] stack											=>	this.stackOf()
`);
	
function is_equal(a,b) {
	if (a===b) 
		return true;
	if (a!=="" && b!=="" && !isNaN(a) && !isNaN(b))
		return (Number(a)===Number(b));
	return (String(a).toLowerCase() === String(b).toLowerCase());
}
function is_less(a,b) {
	if (typeof a === 'number' && typeof b === 'number') 
		return (a < b);
	if (a!=="" && b!=="" && !isNaN(a) && !isNaN(b))
		return (Number(a) < Number(b));
	return (String(a).toLowerCase() < String(b).toLowerCase());
}
function is_more(a,b) {
	if (typeof a === 'number' && typeof b === 'number') 
		return (a > b);
	if (a!=="" && b!=="" && !isNaN(a) && !isNaN(b))
		return (Number(a) > Number(b));
	return (String(a).toLowerCase() > String(b).toLowerCase());
}
	
XTalk.ImportGrammar('expression', `
<expression> or <expression>								=>	boolean(<expression>) || boolean(<expression>)
<expression> and <expression>								=>	boolean(<expression>) && boolean(<expression>)
<factor> is {a|an} number									=>  !!((v)=>String(v) && !isNaN(v))(<factor>)
| <factor> is not {a|an} number								=>  !((v)=>String(v) && !isNaN(v))(<factor>)
| <factor> is {a|an} integer									=>  !!((v)=>String(v) && !isNaN(v) && Number.isInteger(Number(v)))(<factor>)
| <factor> is not {a|an} integer								=>  !((v)=>String(v) && !isNaN(v) && Number.isInteger(Number(v)))(<factor>)
| <factor> is {a|an} logical									=>  ['true','false'].includes(String(<factor>).toLowerCase())
| <factor> is not {a|an} logical								=>  !['true','false'].includes(String(<factor>).toLowerCase())
| <factor> is {a|an} point										=>  ((v)=>{ try { point(v); return true; } catch(e) { } return false; })(<factor>)
| <factor> is not {a|an} point									=>  ((v)=>{ try { point(v); return false; } catch(e) { } return true; })(<factor>)
| <factor> is {a|an} {rect|rectangle}							=>  ((v)=>{ try { rectangle(v); return true; } catch(e) { } return false; })(<factor>)
| <factor> is not {a|an} {rect|rectangle}						=>  ((v)=>{ try { rectangle(v); return false; } catch(e) { } return true; })(<factor>)
| <factor> is {a|an} date										=>  !isNaN(Date.parse(<factor>))
| <factor> is not {a|an} date									=>  isNaN(Date.parse(<factor>))
<expression> is within <expression>							=>	((p,r)=>(p[0]>=r[0] && p[0]<r[2] && p[1]>=r[1] && p[1]<r[3]))(point(<expression>),rectangle(<expression>))
| <expression> is not within <expression>					=>	!((p,r)=>(p[0]>=r[0] && p[0]<r[2] && p[1]>=r[1] && p[1]<r[3]))(point(<expression>),rectangle(<expression>))
| <expression> { ≠ | <> | is not [in]- } <expression>	   					 	=> !is_equal(<expression>,<expression>)
| <expression> { = | equals | is [less|more|in|not in]- } <expression>	 		=> is_equal(<expression>,<expression>)
<expression> { is {smaller|less} [than] or equal to | ≤ | <= } <expression>		=> !is_more(<expression>,<expression>)
| <expression> { is {greater|more} [than] or equal to | ≥| >= } <expression>	=> !is_less(<expression>,<expression>)
| <expression> { is {smaller|less} than | < } <expression>						=> is_less(<expression>,<expression>)
| <expression> { is {greater|more} than | > } <expression>						=> is_more(<expression>,<expression>)

| <expression> contains <expression>						=>	!!((a,b)=>b.length && a.includes(b))(String(<expression>).toLowerCase(),String(<expression>).toLowerCase()) 
| <expression> is in <expression>							=>	!!((b,a)=>b.length && a.includes(b))(String(<expression>).toLowerCase(),String(<expression>).toLowerCase())
| <expression> is not in <expression>						=>	!((b,a)=>b.length && a.includes(b))(String(<expression>).toLowerCase(),String(<expression>).toLowerCase())
<expression> & <expression>									=>	[<expression>, <expression>].join('')
| <expression> && <expression>								=>	[<expression>, <expression>].join(' ')
<expression> { plus | + } <expression>						=>	number(<expression>) + number(<expression>)
| <expression> { minus | <hyphen> } <expression>			=>	number(<expression>) - number(<expression>)
<expression> { times | * } <expression>						=>	number(<expression>) * number(<expression>)
| <expression> { divided by | / } <expression>				=>	number(<expression>) / number(<expression>)
| <expression> div <expression>								=>	Math.floor( number(<expression>) / number(<expression>) )
| <expression> mod <expression>								=>	number(<expression>) % number(<expression>)
<exponent>
<factor>
`);
XTalk.ImportGrammar('factor',`
[the] number of {cards|cds} {of|in} <background> 		 	=>	Array.from(this.stackOf().qsa('card-part')).filter((c)=>(c.bkgndID==<background>.id)).length
[the] number of {cards|cds}	[{of|in} [this|the] stack]			=>	this.stackOf().qsa('card-part').length
[the] number of marked {cards|cds} [{of|in} [this|the] stack]		=>	this.stackOf().qsa('card-part[marked]:not([marked="false" i])').length
[the] number of {backgrounds|bkgnds|bgs} [{of|in} [this|the] stack]	=>	this.stackOf().qsa('background-part').length
[the] number of <bgOrCd> {buttons|btns} {of|in} <part>		=>	<part>.<bgOrCd>.qsa('button-part').length
[the] number of <bgOrCd> {buttons|btns} 					=>	this.stackOf().<bgOrCd>.qsa('button-part').length
[the] number of <cdOrBg> {fields|flds} {of|in} <part>		=>	<part>.<cdOrBg>.qsa('field-part').length
[the] number of <cdOrBg> {fields|flds} 						=>	this.stackOf().<cdOrBg>.qsa('field-part').length
[the] number of <bgOrCd> {parts} {of|in} <part> 			=>	this.stackOf().<bgOrCd>.qsa('button-part,field-part').length
[the] number of <bgOrCd> {parts} 							=>	this.stackOf().<bgOrCd>.qsa('button-part,field-part').length
[the] number of <chunkType> {of|in} <factor> 				=> XTalkChunk(['<chunkType>', 'number', null], <factor>, [])
#
there is {not a | no | a} stack <factor> 					=>  true

there is {a|an} <part>										=>  (yield*(function*(){ try{ return (<part> instanceof HTMLElement);} catch(e){if(e instanceof XTalk.NoSuch)return false; throw e;} }).call(this))
there is {no|not a|not an} <part>							=>  (yield*(function*(){ try{return !(<part> instanceof HTMLElement);} catch(e){if(e instanceof XTalk.NoSuch)return true; throw e;} }).call(this))
#
value(<expression>) | [the] value of <expression> 		
  =>  (yield*xtalk_value_coroutine(this, _, <expression>))

param(<expression>)											=>  ((p)=>((p===undefined) ? '' : p))(arguments[number(<expression>)-1])
[the] param of <factor>										=>  ((p)=>((p===undefined) ? '' : p))(arguments[number(<factor>)-1])
paramCount() | [the] paramCount 	 						=>  arguments.length
params() | [the] params 									=>  ""
[the] {selectedButton|selectedBtn} of <bgOrCd> family <factor>  
	=> ((this.selectOf('button-part[hilite="true" i][family="'+<factor>+'" i]','number',1,this.stackOf().<bgOrCd>,true)||{}).longName||'')   

[the] {textFont|textSize|textStyle|textHeight} {of|in} <chunkList> <part>		=> ""

# the x of y is tricky.
[the] [<oneParamBuiltin>]- <property> of <part>					=>	<part>.<property>
[the] [[<propertyBuiltin>]-]- <property> of <partOrEquiv>		=> <partOrEquiv>.<property>

<partPossessive> <property>									=>	<partPossessive>.<property>
the result													  =>	_.the_result
the short target											=>  XTalkQueue.Active.Target.name
the [abbr|abbrev|abbreviated|long] target						=>  XTalkQueue.Active.Target.longName
target														=> XTalkQueue.Active.Target.contents
<chunkList> <factor> <possessiveChunkList>					=> XTalkChunk([<chunkList>], <factor>, [<possessiveChunkList>])
<chunkList> <factor> 										=> XTalkChunk([<chunkList>], <factor>, [])
<factor> <possessiveChunkList>								=> XTalkChunk([], <factor>, [<possessiveChunkList>])

the <message> {of|in} <factor>								=> (yield*this.functions.<message>(<factor>))
<oneParamBuiltin> {of|in} <factor>							=> (yield*this.functions.<oneParamBuiltin>(<factor>))
not <factor>													=> !boolean(<factor>)
<partWithContents>											=> <partWithContents>.contents
me															=> (['BUTTON-PART','FIELD-PART'].includes(this.me.nodeName) ? this.me.contents : this.me.longName)
<part>														=> <part>.longName
#
the [short|abbr|abbrev|abbreviated|long] date				=> (yield*sim.functions.date())
the [short|abbr|abbrev|abbreviated|long] time				=> (yield*sim.functions.time())
the long version 											=> (yield*(sim.functions.longVersion||XTalk.cu('long version'))())
[the] <message>(<expressionList>)							=>  (yield*(this.functions.<message>||XTalk.cu('<message>'))(<expressionList>))	 
the <message>												=>	(yield*(sim.functions.<message>||XTalk.cu('<message>'))())
<variable>													=>	_.<variable>
<hyphen><factor>											=>	-number(<factor>)
(<expression>)												=>	(<expression>)
<number> | <string> | <hcjunk>
`);
XTalk.ImportGrammar('',`
<exponent> = <factor>^<exponent>								=>	Math.pow(<factor>, <exponent>)
<exponent> = <factor>^<factor>								=>	Math.pow(<factor>, <factor>)
<scriptLine> = { <command> | <statement> | <messageCall> }
<expressionList> = [ <exprOrEmpty> [, <exprOrEmpty> ]* ]
<exprOrEmpty> = <expression>
<exprOrEmpty> = [] => ""
<parameterList> = [ <parameter> [, <parameter> ]* ]
<message> | <variable> | <handlerName> = <identifier>

<property> = short name => name
<property> = [abbr|abbrev|abbreviated|long] name => longName

<property> = [short|abbr|abbrev|abbreviated] id => id
<property> = long id => longID

<property> = [short|abbr|abbrev|abbreviated|long] number => number

<property> = style => type
<property> = <identifier> 
<bgOrCd> = {background|bkgnd|bg} => background
<bgOrCd> = [card|cd] => card
<cdOrBg> = {card|cd} => card
<cdOrBg> = [background|bkgnd|bg] => background
<idOrEmpty> = id => 'id'
<idOrEmpty> = [] => ''
<globalList> = <globalDec> [, <globalDec> ]*
<globalDec> = <variable>									=> (_.$global.<variable>=true)
<identOrFactorOf> = [<oneParamBuiltin>]- <identifier> {of|in}						=> _.<identifier>
<identOrFactorOf> = <factor> {of|in}							=> <factor>
<partPossessive> = <part>'s 								=> <part>
<partPossessive> = my 										=> this.me
<expressionWithCommas> = <expressionWithCommasInner>		=> [<expressionWithCommasInner>].join(',')
<expressionWithCommas> = <expression>
<expressionWithCommasInner> = <expression> {, <expression>}*
<expressionEndOfScriptLine> = <expression> <endOfScriptLine>

<factorsWithSpaces> = <factorsWithSpacesInner>		=> [<factorsWithSpacesInner>].join(' ')
<factorsWithSpacesInner> = <factorOrText> [ <impliedSpace> <factorOrText> ]*
<factorOrText> = <factor>
<factorOrText> = <extratext> => \`<extratext>\`
<impliedSpace> = [] => ,

<addSubtract> = add => +
<addSubtract> = subtract => -
<multiplyDivide> = multiply => *
<multiplyDivide> = divide => /

<cardOrdinal> = {prev|previous} 	=> 'prev' 
<cardOrdinal> = next 				=> 'next' 
<cardOrdinal> = <ordinal> 

<oneParamBuiltin> = { random | round | sqrt | trunc | sin | cos | tan | atan | exp | exp1 | exp2 | ln | ln1 | log2 | abs | charToNum | numToChar | length | param }
<propertyBuiltin> = [short|long|abbr|abbrev|abbreviated] { autoHilite | autoSelect | autoTab | botRight | bottom | bottomRight | cantAbort | cantDelete | cantModify | cantPeek | dontSearch | dontWrap | editBkgnd | enabled | family | fixedLineHeight | height | highlight | highlite | hilight | hilite | icon | id | left | loc | location | lockText | marked | name | number | owner | partNumber | rect | rectangle | right | script | scroll | sharedHilite | sharedText | showLines | showName | showPict | size | style | textAlign | textFont | textHeight | textSize | textStyle | top | topLeft | userModify | version | visible | wideMargins | width }

`, { show_to_user: true });

XTalk.Rules['factorOrText'][0].options = {
	postflight(text,index,Packrat) 
	{ 
		// if there's a nonspace right after this, don't accept
		var nonspaceafter = !!/[\S]/.test(text[index] || '');
		//console.log('after factorOrText[0]: ' + text[index], nonspaceafter);
		//if (nonspaceafter) debugger;
		return !nonspaceafter;
	}
}

XTalk.Rules['factorOrText'][1].options = {
	postflight(text,index,Packrat) 
	{ 
		//console.log('after factorOrText[1]:' + text.substr(index));
		return true;
	}
}


XTalk.Support('identifier', /* /^[A-Z_][A-Z_\d]*i/ */ /^[a-zA-ZÀ-ž_][a-zA-ZÀ-ž_0-9]*/i, '', { 
	preflight(text,index,Packrat) { 
		if (/(then|the|else)([^A-Z\d]|$)/iy.test(text.substr(index,5))) return false; 	/* "the" is not an identifer */
		return true; 
	} 
});
XTalk.Support('hyphen', /\-/i, '', { preflight(text,index,Packrat) { 	/* -- is hypercard comment */
	if (/\-\-/i.test(text.substr(index,2))) return false; 
	return true; 
} });
XTalk.Rules['handlerName'][0].options = {
	preflight(text,index,Packrat) { 
		/* handlerName has to match the currently compiling handler */
		var literal = text.substr(index).match(/^[A-Z_][A-Z_\d]*/i);
		var matched = (literal && XTalk.CurrentHandler && literal[0].toLowerCase() === XTalk.CurrentHandler.toLowerCase());
		return matched; 
	} 
};
XTalk.Support('number', /[.]?[\d]+([\.][\d]+)?/, '', {
	postproduce(out) 
		{ /*console.log(out);*/ while ((/^[0][0-9]/).test(out[0])) out[0] = out[0].substr(1); return true; }
});
XTalk.Support('string', /"[^"]*"/, '', {
	postproduce(out) 
		{ out[0] = out[0].replaceAll("\\", "\\\\"); return true; }
});
XTalk.Support('string', /"[^"]+$/, '', {
	postproduce(out) 	// string with no end quote is allowed in HC
		{ out[0] = out[0].replaceAll("\\", "\\\\") + '"'; return true; }
});
XTalk.Support('string', /\'[^\']*\'/);
XTalk.Support('linefeed', /[^\S\n]*(--[^\n]*)?([\n]|$)/, ' ');
XTalk.Support('wholeline', /[^\n]*/);
XTalk.Support('extratext', /[^/S\n]*[^\n\-]+/);
// hc allowed periods and some other non syntax as singleton characters. weird
//XTalk.Support('hcjunk', /[.]/, "'.'");
XTalk.Support('hcjunk', "\\", "\"\\\\\"");
XTalk.Support('hcjunk', "<hcjunkpunct>", "\"<hcjunkpunct>\"");
XTalk.Support('hcjunk', "<hcjunkKatakana>", "\"<hcjunkKatakana>\"");
XTalk.Support('hcjunkpunct', /[`~#$%_.?;:]/);
XTalk.Support('hcjunkKatakana', /[\p{Script_Extensions=Katakana}]/u);

XTalk.Support('handler-line', "[ <scriptLine> ] <linefeed>");

/* 
	1. having <factor> = <factor> <possessiveChunkList> works. But
		having <factor> = <chunkedFactor>
						<chunkedFactor> = <factor> <possessiveChunkList> doesn't. Gotta trace the LR
√	2. can't have a list of possessivechunks left to right! Have to do them in reverse order, so maybe as recursive rule.
√	3. Reversing things in the parser makes them evaluate in an unusual order. Maybe it doesn't matter.
√	4. What about "first char of value's second word"? Can we roll it all together?
	5. [the] <message> of <factor>'s chunk   is going to be weird. 
	6. set the third word of cd btn 22 of this card's name to 
		looks like: the third word of cd btn 22 of (this card's name)
		parses as: the third word of (cd btn 22 of this card)'s name
	*/

// put line X of card field "starters" into starters
// put line (X of card field "starters") into starters
	
XTalk.ImportGrammar('',`
	<chunkType> = {character|characters|char|chars|word|words|line|lines|item|items}
	<chunkList> = { <chunkOf> }*
	<possessiveChunkList> = { <possessiveChunk> }*
	<chunkOf> = <ordinal> <chunkType> {of|in}						=> '<chunkType>', <ordinal>, null,
	<chunkOf> = <chunkType> <identOrExprTo> <identOrExprOf> 		=> '<chunkType>', number(<identOrExprTo>), number(<identOrExprOf>), 
	<chunkOf> = <chunkType> <identOrExprOf> 						=> '<chunkType>', number(<identOrExprOf>), null, 
	<possessiveChunk> = 's <ordinal> <chunkType>					=> '<chunkType>', <ordinal>, null,
	<possessiveChunk> = 's <chunkType> <identOrExprTo> <identOrFactor>	=> '<chunkType>', number(<identOrExprTo>), number(<identOrFactor>),
	<possessiveChunk> = 's <chunkType> <identOrFactor>				=> '<chunkType>', number(<identOrFactor>), null, 
	<identOrExprOf> = [<oneParamBuiltin>]- <identifier> {of|in}		=> _.<identifier>
	<identOrExprOf> = <expression> {of|in}							=> <expression>
	<identOrExprTo> = <identifier> to								=> _.<identifier>
	<identOrExprTo> = <expression> to								=> <expression>
	<identOrFactor> = <identifier>									=> _.<identifier>
	<identOrFactor> = <factor>										=> <factor>
	<ordinal> = [the] first											=> 1
	<ordinal> = [the] second										=> 2
	<ordinal> = [the] third											=> 3
	<ordinal> = [the] fourth										=> 4
	<ordinal> = [the] fifth											=> 5
	<ordinal> = [the] sixth											=> 6
	<ordinal> = [the] seventh										=> 7
	<ordinal> = [the] eighth										=> 8
	<ordinal> = [the] ninth											=> 9
	<ordinal> = [the] tenth											=> 10
	<ordinal> = [the] {middle|mid}									=> 'middle'
	<ordinal> = [the] last											=> 'last'
	<ordinal> = any													=> 'any'
	#<chunkCount> = [the] number of <chunkType> {of|in} <factor> 	=> XTalkChunk(['<chunkType>', 'number', null], <factor>, [])
`, { show_to_user: true });

// first chunk of second chunk of value's fourth chunk's third chunk 
function XTalkChunk(ofchunks, value, posschunks, return_range)
{
	value = String(value);
	var delimiter = "", delimiter_addition = "", start = 0, end = value.length;
	
	while (posschunks.length >= 3)
		ofchunks.push(posschunks.shift(), posschunks.shift(), posschunks.shift()); 
	//console.log(ofchunks);
		
	function*lineitemiterator(delim)
	{
		var i = start;
		do 
		{
			var chunkstart = i;
			while (i < end && value[i] !== delim)
				i++;
			yield [chunkstart, i];
		}
		while (++i <= end);
	}
	function*worditerator()
	{
		var i = start;
		do 
		{
			while (i < end && /\s/.test(value[i]))
				i++;
			var chunkstart = i;
			while (i < end && !/\s/.test(value[i]))
				i++;
			yield [chunkstart, i];
		} 
		while (i < end);
	}

	var type;
	for (var c = ofchunks.length - 3; c >= 0; c -= 3)
	{
		type = ofchunks[c][0].toLowerCase();
		var from = ofchunks[c+1], to = ofchunks[c+2];

		if (type == 'c')
		{
			delimiter = "";
			
			if (from==='last') 
				start = Math.max(start, end - 1);
			else if (from==='middle') {
				start += Math.ceil((end-start)/2);
				end = Math.min(end, start+1);
			}
			else if (from=='any') {
				start += Math.floor(Math.random()*(end-start));
				end = Math.min(end, start+1);
			}
			else if (from=='number') 
				return end - start;
			else {
				var newstart = start + Math.max(1,from) - 1;
				end = Math.min(end, (to===null) ? newstart + 1 : start + to);
				start = newstart;
			}
		}
		else
		{
			var removableFinalDelimiter = delimiter = (type == 'i') ? (sim.itemDelimiter || ',') : (type == 'l') ? '\n' : '';
			
			var iter = delimiter ? lineitemiterator(delimiter) : (type == 'w') ? ((delimiter=' '),worditerator()) : null;
			
			var next, chunks = [];
			while (!(next=iter.next()).done)
				chunks.push(next.value);
			
			// do not include any final spaces in word chunk
			if (type == 'w' && chunks[chunks.length-1][0]===chunks[chunks.length-1][1] && chunks.length > 1)
				chunks.pop();
			//console.log(chunks);
			var startvalue, endvalue;
			if (from==='last')
				startvalue = endvalue = chunks[chunks.length-1];
			else if (from==='middle')	// middle of 5 is 3 = [2], middle of 6 is 4 = [3]
				startvalue = endvalue = chunks[Math.floor(chunks.length/2)];
			else if (from==='any')
				startvalue = endvalue = chunks[Math.floor(Math.random()*chunks.length)];
			else if (from=='number') {
				var adjust = 0;
				if (removableFinalDelimiter && end-start >= removableFinalDelimiter.length 
					&& value.substr(end-removableFinalDelimiter.length,removableFinalDelimiter.length) == removableFinalDelimiter)
					adjust = -1;
				return chunks.length + adjust;
				}
			else {
				from = Math.max(1, Math.min(chunks.length+1, from));
				startvalue = chunks[from-1];
				if (!startvalue)
					{ to=null; startvalue = [end,end]; delimiter_addition += delimiter.repeat(from-chunks.length); }
				endvalue = (to===null) ? startvalue : chunks[Math.max(1, Math.min(chunks.length, to))-1];
			}
			
			start = startvalue[0]; end = endvalue[1];
		}
	}
	// now we have the range
	//console.log('range',start,end,delimiter_addition);
	
	if (return_range) 
	{
		if (return_range == 'includeTrailing') 
		{
			if (type == 'w')
			{
				delimiter = new RegExp(/[ ]*/, 'y');
				delimiter.lastIndex = end;
				var match = delimiter.exec(value);
				end += match[0].length;
				// also include leading spaces IF its the last word...hang on...
				while (start > 0 && value[start-1]===' ')	// this should stop in the context of the other chunk....
					start--;
			}
			else if (delimiter) 
			{
				// delete will also kill the following delimiter, and in the case of word, it should trim the front
				delimiter = new RegExp(delimiter, 'y');
				delimiter.lastIndex = end;
				var match = delimiter.exec(value);
				if (match)
					end += match[0].length;
			}
		}
		
		return [start,end,delimiter_addition];		// HC added commas or returns to help your put intos, and delete will also kill the following delimiter
	}
	
	return value.substring(start,end);
}
	
		
XTalk.DefaultMainScript = `

-- Messages are sent to buttons, fields, cards, backgrounds, and stacks. The targets can catch them in script handlers. If they are not caught, they are sent down the message path to their containing cards and backgrounds, and then the stack.

-- when the mouse (or finger) is pressed in the stack:

on mouseDown
	-- when the click or touch starts on a button, field, or card
end mouseDown

on mouseStillDown
	-- while the mouse continues the click
end mouseStillDown

on mouseUp
	-- when the mouse or finger releases the click
end mouseUp

on mouseEnter
	-- when the mouse enters a button, field, or card
end mouseEnter

on mouseWithin
	-- while the mouse remains inside
end mouseWithin

on mouseLeave
	-- when the mouse leaves the part
end mouseLeave

-- these message are sent while the stack is navigated: openStack, openBackground, openCard, closeCard, closeBackground, closeStack 

on openStack
	-- when a stack is opened, this message is sent
end openStack

on openBackground
	-- when the background changes, this message is sent
end openBackground

on openCard
	-- when the card changes, this message is sent
end openCard

on closeCard
	-- this message is sent to the closing card before the next one gets openCard
end closeCard

on closeBackground
	-- this message is sent to the closing background.
end closeBackground

on closeStack
	-- this message is sent to the stack when closing.
end closeStack

-- these messages are sent when the selection focus moves.

on openField
	-- this message is sent to a field when editing begins.
end openField

on closeField
	-- this message is sent to a field when editing ends and the contents have changed.
end closeField

on exitField
	-- this message is sent to the card when editing ends and the contents have NOT changed.
end exitField

-- these messages are sent when the keyboard is used in the stack.

on keyDown which
	-- sent when a keyboard key is pressed
  put charToNum(which) into ascii
  put word 2 of the target is "field" into targetIsField
	if ascii is 28 and not (targetIsField and the textArrows) then send "arrowKey left" to the target
	else if ascii is 29 and not (targetIsField and the textArrows) then send "arrowKey right" to the target
	else if ascii is 30 and not (targetIsField and the textArrows) then send "arrowKey up" to the target
	else if ascii is 31 and not (targetIsField and the textArrows) then send "arrowKey down" to the target
	else if ascii is 9 then send "tabKey" to the target
	else if (ascii is 10 or ascii is 13) and targetIsField then send "returnInField" to the target
	else if (ascii is 10 or ascii is 13) and not targetIsField then send "returnKey" to the target
	else if the blindTyping then 
		if (!document.activeElement || document.activeElement.matches('div,field-part,card-part') || !window.messagebox_input) return;
		put which
		getSelection().selectAllChildren(window.messagebox_input);
		getSelection().collapseToEnd();
	end if
end keyDown

on arrowKey which
	-- arrowKey is sent when you push an arrow key on the keyboard, but not in a field when the textArrows is true
	if which is left then go previous card
	else if which is right then go next card
	else if which is down then go back
	else if which is up then go forth
    else 
      throw "Can't understand arguments of arrowKey.";
    end if
end arrowKey

on returnInField
	-- sent when you press return in a field
end returnInField

on returnKey
	-- sent when you press return but not in a field.
end returnKey

on tabKey
	-- sent when you press tab
end tabKey

on idle
   -- this message will be sent repeatedly to the current card
end idle

-- and here are some handlers you can use by typing their name in the message box.

on help
	go home
	sim.stack.card = this.selectOf('card-part', 'name', "What was HyperCard?", sim.stack);
end help

on sampleMessage
	answer "The simulator script sees the message" with "end sampleMessage"
end sampleMessage

on myHandler
	-- and you can write your own. just type it here
    -- or in the script of a part of the stack
	put "I'm writing a handler!" into greeting
	answer greeting
end myHandler

on FizzBuzz
-- a famous homework problem
get empty
repeat with n=1 to 100
if it is not empty 
then put return after it
if n mod 3 is not 0 and n mod 5 is not zero then
put n after it
next repeat
end if
if n mod 3 is 0 then put Fizz after it
if n mod 5 is 0 then put Buzz after it
end repeat
put it
end fizzbuzz

-- you can also write functions like the square of five or the sqrt(9+9)

function square y
	return y times y
end square 

function sqrt n
	return the abs of n ^0.5
end sqrt

-- You can mix in lines of JavaScript.

function random n
	return Math.floor(Math.random()*number(n)) + 1;
end random
function round n
	return Math.round(number(n));
end round
function abs n
	return Math.abs(number(n));
end abs
function trunc n
	return Math.floor(Math.abs(number(n))) * Math.sign(n);
end trunc

function length ofStr
  return the number of chars in ofStr
end length

function max
	var flattened = Array.from(arguments).map((a)=>(typeof a==='number')?a:String(a).split(',').map(number)).flat();
	return Math.max.apply(null, flattened);
end max
function min
	var flattened = Array.from(arguments).map((a)=>(typeof a==='number')?a:String(a).split(',').map(number)).flat();
	return Math.min.apply(null, flattened);
end min
function sum
    var flattened = Array.from(arguments).map((a)=>(typeof a==='number')?a:String(a).split(',').map(number)).flat();
	return flattened.reduce((partial,a) => partial+a, 0);
end sum
function average
	var flattened = Array.from(arguments).map((a)=>(typeof a==='number')?a:String(a).split(',').map(number)).flat();
	return flattened.reduce((partial,a) => partial+a, 0) / flattened.length;
end average

function annuity rate, periods
	return (1 - (1 + rate) ^ -periods) / rate
end annuity
function compound rate, periods
	return (1 + rate) ^ periods
end compound

function ln value
	return Math.log(value);
end ln
function ln1 value
	return Math.log1p(value);
end ln1
function log2 value
	return Math.log2(value);
end log2
function exp value
	return Math.exp(value);
end exp
function exp1 value
	return Math.expm1(value);
end exp1
function exp2 value
	return 2 ^ value
end exp2

function sin theta
	return Math.sin(number(theta));
end sin
function cos theta
	return Math.cos(number(theta));
end cos
function tan theta
	return Math.tan(number(theta));
end tan
function atan theta
	return Math.atan(number(theta));
end atan

function date
return new Date().toLocaleDateString();
end date
function time
return new Date().toLocaleTimeString();
end time
function ticks
return Math.floor(Date.now() / 1000 * 60);
end ticks
function seconds
return Math.floor(Date.now() / 1000);
end seconds
function secs
return the seconds
end secs

function stacksInUse
  return empty
end stacksInUse

on put message
	window.put_into_messagebox ? put_into_messagebox(message,true) : console.log(message);
end put

function charToNum c
	return String(c).codePointAt(0);
end charToNum
function numToChar n
	return String.fromCodePoint(n);
end numToChar

-- you can get or set properties
function cursor
	return "this is the cursor"
end cursor
on setCursor value
	-- put "set the cursor to" && value
end setCursor

function textArrows
	return body.classList.contains('arrow-keys-in-text');
end textArrows
on setTextArrows value
	body.classList.toggle('arrow-keys-in-text', boolean(value));
end setTextArrows

function itemDelimiter
   return sim.itemDelimiter || ',';
end itemDelimiter
on setItemDelimiter newDelimiter
   sim.itemDelimiter = newDelimiter;
end setItemDelimiter

function mouseLoc
	return sim.mouseLoc || "0,0";
end mouseLoc
function mouseH
	return item 1 of the mouseLoc
end mouseH
function mouseV
	return item 2 of the mouseLoc
end mouseV
function clickLoc
	return sim.clickLoc || "0,0";
end clickLoc
function clickH
	return item 1 of the clickLoc
end clickH
function clickV
	return item 2 of the clickLoc
end clickV
function clickText
	-- this should return the clicked word or group
	return empty
end clickText
function clickLine
	return sim.clickLine || '';
end clickLine
function mouse
	return sim.mouse || 'up';
end mouse
function mouseClick
	if (!this.stackOf().mouseClick) return false;
    this.stackOf().mouseClick = false; 
    wait until the mouse is up
   return true
end mouseClick

function screenRect
    return String([0,0,stackcontainer.offsetWidth,stackcontainer.offsetHeight]);
end screenRect
function shiftKey
	return body.classList.contains('shift') ? 'down' : 'up';
end shiftKey
function commandKey
	return body.classList.contains('command') ? 'down' : 'up';
end commandKey
function optionKey
	return body.classList.contains('option') ? 'down' : 'up';
end optionKey
function sound
	return sim.sound || 'done';
end sound
function offset needle, haystack
  return String(haystack).toLowerCase().indexOf(String(needle).toLowerCase()) + 1;
end offset

on setPattern what
  if what is an integer then 
	set_gray_pattern('ui-patterns/PAT128_'+(sim.pattern=(what-1))+'.png');
	if (window.patternz) { window.patternz.style.setProperty('--pattern-x', Math.floor((what-1)/10)); window.patternz.style.setProperty('--pattern-y', (what-1)%10); }
  end if
end setPattern
function pattern
  return sim.pattern || 32;
end pattern

on setLineSize value
  sim.lineSize = number(value);
end setLineSize
function lineSize
  return sim.lineSize || 1;
end lineSize

on setBlindTyping
end setBlindTyping
function blindTyping
return true
end blindTyping

on setNumberFormat
end setNumberFormat
function numberFormat
end numberFormat

on setLockRecent
end setLockRecent
function lockRecent
end lockRecent

on setPowerKeys
end setPowerKeys
function powerKeys
end powerKeys

on setLockScreen
end setLockScreen
function lockScreen
end lockScreen

on setSoundChannel
end setSoundChannel
function soundChannel
end soundChannel

on setUserModify
end setUserModify
function userModify
end userModify

on setUserLevel
end setUserLevel
function userLevel
	return 5
end userLevel

on setGrid
end setGrid
function Grid
end Grid
on setDragSpeed
end setDragSpeed
function dragSpeed
  return 0
end dragSpeed
on setFilled
end setFilled
function filled
end filled

on setTextFont what
	painttext_proxy.textFont = what;
end setTextFont
function textFont
	return painttext_proxy.textFont;
end textFont
on setTextSize what
	painttext_proxy.textSize = what;
end setTextSize
function textSize
	return painttext_proxy.textSize;
end textSize
on setTextHeight what
	painttext_proxy.textHeight = what;
end setTextHeight
function textHeight
	return painttext_proxy.textHeight;
end textHeight
on setTextAlign what
	painttext_proxy.textAlign = what;
end setTextAlign
function textAlign
	return painttext_proxy.textAlign;
end textAlign
on setTextStyle what
	painttext_proxy.textStyle = what;
end setTextStyle
function textStyle
	return painttext_proxy.textStyle;
end textStyle

on setLockMessages value
	sim.lockMessages = boolean(value);
end setLockMessages
function lockMessages
	return !!sim.lockMessages;
end lockMessages

on setLockErrorDialogs value
end setLockErrorDialogs
function lockErrorDialogs
	return false
end lockErrorDialogs

on setEditBkgnd value
  if (boolean(value) != sim.stack.classList.contains('background-mode')) body.qs('#background-mode').click();
end setEditBkgnd
function editBkgnd
  return sim.stack.classList.contains('background-mode');
end editBkgnd

function windows
end windows
function stacks
end stacks
function menus	
	return Array.from(this.stackOf().parentNode.menubar.qsa('title-bar-menu')).map((tbm)=>tbm.name).join('\\n');
end menus
function voices
end voices
function suspended
	return false
end suspended
function diskSpace
	return 2^20
end diskSpace
function heapSpace
	return 2^20
end heapSpace
function version
  get the shortVersion of the stack
  if it is a number then return it
  return 2.41
end version
function longVersion
	return "0" & (the version * 100) & "8000"
end longVersion
function systemVersion
  return 6.08
end systemVersion

on doMenu what
	if what contains "New Stack" then 
		newstack.click();
	else if what contains "New Card" then 
		sim.stack.newCard();
	else if what contains "New Background" then 
		sim.stack.newCard(true);
	else if what contains "New Button" then 
		body.qs('#toolbarvert button-part[name="New Button" i]').click();
	else if what contains "New Field" then 
		body.qs('#toolbarvert button-part[name="New Field" i]').click();
	else if what contains "Stack Info" then 
		launch_info_dialog(sim.stack);
	else if what contains "Import Stack" then 
		importstack.click();
	else if what contains "Message" then
		if (document.getElementById('messagebox-visible')) document.getElementById('messagebox-visible').click();
	else if what contains "Help" then help
	else if what contains "first" then go first
	else if what contains "prev" then go prev
	else if what contains "next" then go next
	else if what contains "last" then go last
	else if what contains "home" then go home
	else if what contains "back" then go back
	else 
		log "doMenu" && what
	end if
end doMenu

on select selPart
	if (selPart instanceof HTMLElement) { if (sim.stackOf(selPart)===sim.stack) sim.selectOf('#toolbar button-part', '', selPart.matches('field-part') ? 'Field' : 'Button', body).click(); sim.stackOf(selPart).selectedPart = selPart; return; }
	if (!String(selPart)) { this.stackOf().focus(); return; }
	if word 1 of selPart is "line" and word 2 of selPart is an integer and word 3 of selPart is "of" then do "select" && selPart
end select

on answer _parent, promptText, firstButton, secondButton, thirdButton
	-- answer "Answer?" with yes or NO
	-- the button choice will be in the variable It
	var xtqa = XTalkQueue.Active; 
	yield (launch_answer_dialog((result)=>{ _parent.it = answerdialog.button_result; xtqa.resume(); }, promptText, firstButton, secondButton, thirdButton), {timeout: 2**32}); 
end answer

on ask _parent, promptText, initialText
	-- ask "Input something?" with "the default text" 
	-- the user's text will be in the variable It
	var xtqa = XTalkQueue.Active; 
	yield (launch_ask_dialog((result)=>{ _parent.the_result = askdialog.button_result; _parent.it = askdialog.text_result; xtqa.resume(); }, promptText, initialText), {timeout: 2**32});
end ask

on choose it

	if it is a number then get item it of "browse,button,field,select,lasso,pencil,brush,eraser,line,spray,rectangle,round rect,bucket,oval,curve,text,regular polygon,polygon" 
    if last word of it is "tool" then delete last word of it
	if it is "rect" then get "rectangle"
	if it is "round rectangle" then get "round rect" 
	if it is "poly" then get "polygon"
	if it is "spray can" then get "spray"
	if it is "regular poly" or it is "reg poly" or it is "reg polygon" then get "regular polygon"
	body.qs('#toolbar button-part[name=\"' + _.it.trim() + '\" i]').click();
end choose

on beep count
	if count is empty then put 1 into count
	get empty
	repeat with x=1 to count
		put " c" after it
	end repeat
	play beep tempo 300 it
end beep

on play first, notes
    if (first=='stop') kill_audio(); else perform_classic_play_command(first, notes);
end play

on speak text, voice
	window.speechSynthesis.speak(new SpeechSynthesisUtterance(text));
end speak
function speech
	return window.speechSynthesis.speaking ? 'speaking' : 'done';
end speech

on goToStack target
	push_recent_card(sim.card);
	if target is "Home" then
		go home
		exit goToStack
    end if
    target = String(target).replaceAll(':','/').replaceAll(/[^\\w\\/]/g,'-');
	var levels = 0; while (target[levels]=='/') levels++;
	if (levels) { var md = this.stackOf().parentNode; target = (md.dataset.user?md.dataset.user+'/':'')+((md.dataset.path||'').split('/').slice(0,-levels).join('/'))+target.substr(levels-1); }
    console.log('going to stack ' + tickedString(target));
	var userpath = target.split('/');
	if (userpath.length > 1) { download_user_stack(userpath.shift(),userpath.join('/')); }
	else { download_user_stack('',target); }
end goToStack

on showCards howMany
	set the lockMessages to true
    if howMany is not an integer then put the number of cards into howMany
	repeat howMany
		wait 5 ticks
		go next card
	end repeat
	set the lockMessages to false
end showCards

on sendToMe bugReport
	var a = document.createElement('a');
	a.href = "mailto:dan@hypervariety.com?body=" + encodeURI(bugReport);
	a.click();
end sendToMe

function rj_list_icons
	return Array.from(JSON.parse(this.stackOf().importedICONResources||'[]')).map((i)=>(i.ID + ' ' + i.name)).join('\\n');
end rj_list_icons

function rj_retrieve_icon id
    var icon = JSON.parse(sim.stack.importedICONResources||'[]').find((i)=>i.ID==id);
    if (!icon) return '';
	return atob(icon.data).split('').map((p)=>[(p=p.charCodeAt(0))&128,p&64,p&32,p&16,p&8,p&4,p&2,p&1]).flat().map((b)=>b?1:0).join('');
end rj_retrieve_icon

on rj_store_icon id, withName, bits
    if the length of bits is not 32^2 then return "Icons are 1024 chars long, 0 for white, 1 for black"
    var icons = JSON.parse(sim.stack.importedICONResources||'[]'), icon = icons.find((i)=>i.ID==id);
    if (!icon) icons.push(icon={ ID:id });
    icon.name = withName;
    icon.data = "";
    for (var b=0; b < bits.length; b += 8) icon.data += String.fromCharCode(((bits[b+0]==0)?0:128)+((bits[b+1]==0)?0:64)+((bits[b+2]==0)?0:32)+((bits[b+3]==0)?0:16)+((bits[b+4]==0)?0:8)+((bits[b+5]==0)?0:4)+((bits[b+6]==0)?0:2)+((bits[b+7]==0)?0:1));
	icon.data = btoa(icon.data);
    this.stackOf().importedICONResources = JSON.stringify(icons);
	delete this.stackOf().importedICONImages;
end rj_store_icon




`;
	
	</script>
	<script>/* (c) 2022 Hypervariety Custom Software. All rights reserved. */
"use strict";
		
const ElementTemplate = 
{
	Created: {},
	Create(tag, attributes, inherits, template, helper_function_or_object) 
	{
		inherits = ElementTemplate.Created[inherits];
		
		var elementTemplate = this;
		if (this===ElementTemplate) 
		{
			elementTemplate = document.createElement('element-template');
			elementTemplate.setAttribute('tag',tag);
			elementTemplate.setAttribute('attributes',attributes||'');
			elementTemplate.setAttribute('inherits',(inherits && inherits.getAttribute('tag'))||'');
			
			var elementTemplate_template = document.createElement('template');
			elementTemplate.appendChild(elementTemplate_template);
			if (typeof template == 'string') 
				elementTemplate_template.innerHTML = template;
			else if (template instanceof HTMLElement) 
				elementTemplate_template.appendChild(template);
			else
				elementTemplate_template.appendChild(document.createElement('slot'));
		}
		
		var thisInherits = inherits, inheritance_chain = [], attributes_chain = attributes, helper_function_chain = [];
		while (thisInherits) {
			if (thisInherits.getAttribute('attributes'))
				attributes_chain = thisInherits.getAttribute('attributes') + ',' + attributes_chain;
			inheritance_chain.push(thisInherits);
			helper_function_chain.push(thisInherits.getAttribute('tag').split('-').map((s,i)=>/[A-Za-z0-9_]+/.exec(s)).join('_'));
			thisInherits = ElementTemplate.Created[thisInherits.getAttribute('inherits')];
		}
		//console.log(tag, attributes_chain, inheritance_chain, helper_function_chain, helper_function_chain.map((h)=>window[h]));
			
		var inherits_helper_function = null;
		if (inherits) {
			if (inherits.getAttribute('attributes'))
				attributes = inherits.getAttribute('attributes') + ',' + attributes;
			inherits_helper_function = inherits.getAttribute('tag').split('-').map((s,i)=>/[A-Za-z0-9_]+/.exec(s)).join('_');
			//console.log(attributes);
		}
		
		attributes = attributes_chain;	// when this works just replace _chain

		var defaults = {}, scan, scanner = /[\s]*([\w|]+)[\s]*([=][\s]*(([\d.-]+)|'(([\\][.]|[^'\\])*)'|"(([\\][.]|[^"\\])*)"|([\w]*))[\s]*)?[,]?/gy;
		while (scan=scanner.exec(attributes || '')) {
			var synonyms = scan[1].split('|'), prop = {
				attribute: synonyms[0],	// the offical getter/setter uses the case sensitive first synonym 
				symbol: Symbol(synonyms[0]),
				value: (scan[5]!==undefined) ? scan[5] : (scan[7]!==undefined) ? scan[7] : (scan[9] && scan[9].toLowerCase()=='true') ? true : (scan[9] && scan[9].toLowerCase()=='false') ? false : (scan[4]!==undefined) ? parseInt(scan[4]) : (scan[9]||'')
			};
			synonyms.forEach((s)=>(defaults[s.toLowerCase()]=prop));
		}
		var custom_helper_class = 'HTML'+tag.split('-').map((s)=>s[0].toUpperCase()+s.substr(1).toLowerCase()).join('')+'ElementTemplate'; 
		var custom_helper_function = tag.split('-').map((s,i)=>/[A-Za-z0-9_]+/.exec(s)).join('_'); 
		//console.log(elementTemplate, defaults, elementTemplate_template);
		// note: it might be time to just see if this works as a closured real class.
		var ceClassScript = `"use strict";
var DynamicHelperSymbol = Symbol('Ø');
return class ${custom_helper_class} extends HTMLElement {
	constructor() {
		super();
		var element = this, et_template = elementTemplate.querySelector('template'), dynamic_helper = null, ready_to_launch_dynamic_helper = false;
		if (!et_template) (et_template=document.createElement('template')).content.appendChild(document.createElement('slot'));
		element.attachShadow({mode: 'open'}).appendChild(et_template.content.cloneNode(true));	// note that any shadow elements don't seem to be inited yet by this
		inheritance_chain.forEach((inherits)=>{ 
			if (inherits.querySelector('template')) 
				element.shadowRoot.insertBefore(inherits.querySelector('template').content.cloneNode(true), et_template.classList.contains('before') ? null : element.shadowRoot.firstChild);
		});
		function launchHelper() { 
			if (!dynamic_helper)
			{
				if (!ready_to_launch_dynamic_helper) return false;
				dynamic_helper = {};	// let it be empty in the meanwhile
				dynamic_helper = 
					((typeof helper_function_or_object==='function') && (helper_function_or_object(element, element.shadowRoot) || {}))
					|| ((typeof helper_function_or_object==='object') && helper_function_or_object)
					|| ((typeof ${custom_helper_function}==='function') && (${custom_helper_function}(element, element.shadowRoot) || {}))
					|| {};
				helper_function_chain.forEach((inherits_helper_function)=>{
					var inherit_dynamic_helper = (inherits_helper_function in window) && window[inherits_helper_function](element, element.shadowRoot);
					if (inherit_dynamic_helper) {	// overwrite the property descriptors. But what of conflict inherit{get} and this{set}?
						Object.defineProperties(inherit_dynamic_helper, Object.getOwnPropertyDescriptors(dynamic_helper));
						dynamic_helper = inherit_dynamic_helper;
						}
					});
				Reflect.set(element,DynamicHelperSymbol,dynamic_helper);
			}
			return dynamic_helper;
		}
		Object.setPrototypeOf(element, new Proxy(${custom_helper_class}.prototype, {
			set(target, prop, value, receiver) 
			{
				//console.log('set',{target, prop, value });
				if (typeof prop === 'string' && launchHelper()) {
					// when the user sets a property that is a watched attribute, we want to set the attribute ourselves and let ACC() do the set.
					var ptlc = prop.toLowerCase(), defaultProp = defaults[ptlc];
					if (defaultProp) {
						prop = defaultProp.attribute;
						if (String(value) != String(defaultProp.value)) { element[defaultProp.symbol] = value; element.setAttribute(prop,value); }
						else { delete element[defaultProp.symbol]; element.removeAttribute(prop); }
						}
					else {
						var desc = Object.getOwnPropertyDescriptor(dynamic_helper, prop)
							|| ((ptlc=Object.getOwnPropertyNames(dynamic_helper).find((p)=>p.toLowerCase()===ptlc)) && Object.getOwnPropertyDescriptor(dynamic_helper, prop=ptlc));
						//if (desc) console.log('setting dynamic helper ' + prop);
						(desc && desc.set) ? (dynamic_helper[prop]=value) : Reflect.set(...arguments);
						}
					}
				else Reflect.set(...arguments);
				return true;
			},
			get ( target, prop, receiver ) 
			{ 
				//if (prop=='boolean') { console.log('get',{target, prop }); debugger; }
				if (typeof prop === 'string' && launchHelper()) {
					// we should allow an attribute that calls the helper for the sole reason that it is case insensitive like in hc
					var ptlc = prop.toLowerCase(), defaultProp = defaults[ptlc];
					if (defaultProp) prop = defaultProp.attribute;
					var desc = Object.getOwnPropertyDescriptor(dynamic_helper, prop)
						|| ((ptlc=Object.getOwnPropertyNames(dynamic_helper).find((p)=>p.toLowerCase()===ptlc)) && Object.getOwnPropertyDescriptor(dynamic_helper, prop=ptlc));
					if (desc && (desc.value || desc.get)) return dynamic_helper[prop];
					if (defaultProp) 
						return (defaultProp.symbol in element) ? element[defaultProp.symbol] 
							: element.hasAttribute(prop) ? element.getAttribute(prop) : defaultProp.value;
				}
				var result = Reflect.get(...arguments);
				return (result !== 'undefined') ? result : element.hasAttribute(prop) ? element.getAttribute(prop) : undefined;
			}
		}));
		ready_to_launch_dynamic_helper = true;
	}
	connectedCallback() {
		if (!this[DynamicHelperSymbol]) { var trigger = this['']; }
		if (typeof this[DynamicHelperSymbol].connected === 'function') (this[DynamicHelperSymbol].connected)();
		}
	disconnectedCallback() {
		if (!this[DynamicHelperSymbol]) { var trigger = this['']; }
		if (typeof this[DynamicHelperSymbol].disconnected === 'function') (this[DynamicHelperSymbol].disconnected)();
		}
	attributeChangedCallback(prop, oldValue, newValue) {
		//console.log('attributeChangedCallback',[prop,oldValue,newValue]);
		if (!this[DynamicHelperSymbol]) { var trigger = this['']; }
		if (!this[DynamicHelperSymbol]) return;
		var defaultProp = defaults[prop.toLowerCase()];
		if (defaultProp) {
			var desc = Object.getOwnPropertyDescriptor(this[DynamicHelperSymbol],defaultProp.attribute);
			if (defaultProp.symbol in this) {
				//console.log('ACC override',{oldValue,newValue,recent:this[defaultProp.symbol]}); 
				if (newValue===null)
					delete this[defaultProp.symbol];
				else newValue = this[defaultProp.symbol];  
				}				
			// if an attribute has a non-empty default value, does setting it to empty mean the default? No! removing the attribute means the default.
			if (desc && desc.set) (this[DynamicHelperSymbol])[defaultProp.attribute] = (newValue!==null) ? newValue : defaultProp.value;
			}		
		}
	static get observedAttributes() { return Object.keys(defaults); }
}`; 
		customElements.define(tag, (Function('elementTemplate,tag,defaults,helper_function_or_object,inherits,inheritance_chain,helper_function_chain', ceClassScript))(elementTemplate,tag,defaults,helper_function_or_object,inherits,inheritance_chain,helper_function_chain));
		ElementTemplate.Created[tag] = elementTemplate;
		//console.log(elementTemplate);
		return elementTemplate;
	}
};
	
customElements.define('element-template', class HTMLElementTemplateElement extends HTMLElement {
	connectedCallback() 
		{ ElementTemplate.Create.call(this, this.getAttribute('tag'), this.getAttribute('attributes'), this.getAttribute('inherits')); }
});
</script>
	<script>/* (c) 2022 Hypervariety Custom Software. All rights reserved. */
"use strict";

const ContentEditableFix = {
	div_forms_observers: new Map(),
	DOMContentLoaded_listener: null,
	
	ActiveElement()
	{
		var el = document.activeElement;
		if (el.shadowRoot && el.shadowRoot.activeElement)
			return el.shadowRoot.activeElement;
		if (el.slot && el.assignedSlot)
			return el.assignedSlot.closest('field-part');
		return el;
	},
	ClosestEditable(element) 
	{
		if (element && !element.closest) element=element.parentNode;
		var ce = element && element.closest && element.closest('[contenteditable]');
		return (ce && ce.isContentEditable) ? ce : null;
	},
	InnerText(element)
	{
		var it = Array.from(element.childNodes);
		it = it.map((e)=>(e.assignedNodes && e.assignedNodes()[0]) || e);
		it = it.map((e)=>{
			if (e.nodeName=='BR') return '\n';
			if (e.nodeValue!==null) return e.nodeValue.trim() || ' ';
			var tc = e.textContent || e.innerText;
			return tc + ((tc.substr(-1)=='\n') ? '' : '\n');
		});
		it = it.join('');
		if (it[it.length-1]=='\n') it = it.substr(0,it.length-1);
		return it;
	},
	HTMLEncode(text)
	{
		return String(text).replaceAll(/&/g,'&amp;').replaceAll(/</g,'&lt;');
	},
	Detach(element)
	{
		var observer = this.div_forms_observers.get(element);
		if (observer) 
			{ observer.disconnect(); this.div_forms_observers.delete(element); }
	},
	Attach(element)
	{
		var observer = new MutationObserver(div_form_observer);
		observer.callback = div_form_observer;
		observer.observe(element, { childList: true, attributes: true, subtree: true });	
		this.div_forms_observers.set(element,observer);
		div_form_observer([]);
		
		element.FixCENow = (debug)=> {	// usually call this first thing in oninput because the mutation observer hasn't yet run
			observer.takeRecords();
			if (debug) debugger;
			div_form_observer([]);
		};
		
		function is_cleartext(node)
			{ return node && node.nodeType===3 && !node.nodeValue.trim(); }
		function is_realtext(node)
			{ return node && node.nodeType===3 && !!node.nodeValue.trim(); }
		function div_form_observer(m)
		{
			if (document.readyState == 'loading' && !element.nextSibling) 
			{
				if (!ContentEditableFix.DOMContentLoaded_listener)
				{
					document.addEventListener('DOMContentLoaded',ContentEditableFix.DOMContentLoaded_listener=(event)=>
					{
						document.removeEventListener('DOMContentLoaded',ContentEditableFix.DOMContentLoaded_listener);

						ContentEditableFix.div_forms_observers.forEach((observer)=>{
							if (observer.awaiting_DOMContentLoaded)
								{ observer.awaiting_DOMContentLoaded = false; observer.callback(observer.takeRecords()); }
						});
					}, true);
				}
				observer.awaiting_DOMContentLoaded = true;
			}
			else
			{
				var sel, shadowRange;
				if (document.activeElement && document.activeElement.shadowRoot && (sel=document.activeElement.shadowRoot.getSelection()) && sel.rangeCount && (shadowRange=sel.getRangeAt(0)))
				{
					sel = { anchorNode: shadowRange.startContainer, anchorOffset: shadowRange.startOffset, focusNode: shadowRange.endContainer, focusOffset: shadowRange.endOffset };
				}
				else
				{
					sel = getSelection();	// this isn't working for shadow roots
					sel = { anchorNode: sel.anchorNode, anchorOffset: sel.anchorOffset, focusNode: sel.focusNode, focusOffset: sel.focusOffset };
				}
				
				if (sel.anchorNode instanceof HTMLElement) 
					{ sel.anchorNode = sel.anchorNode.childNodes[sel.anchorOffset]; sel.anchorOffset = 0; }
				if (sel.focusNode instanceof HTMLElement) {
					//sel.focusNode = sel.focusNode.childNodes[sel.focusOffset]; 
					if (sel.focusNode.childNodes[sel.focusOffset]) { sel.focusNode = sel.focusNode.childNodes[sel.focusOffset]; sel.focusOffset = 0; }
					//else { sel.focusNode = element; sel.focusOffset = -1; } 
					} 
				
				var examine = element.firstChild;
				if (!examine) 
					element.appendChild(examine=document.createElement('br')); 

				var removeThis = null;
				do {
					if (removeThis)
						{ element.removeChild(removeThis); removeThis = null; }
					if (is_cleartext(examine)) 
						{ removeThis = examine; continue; }
					if (!(examine instanceof HTMLDivElement)) {
						var examineNext = examine, ateBR = false;
						element.insertBefore((examine=document.createElement('div')), examineNext);
						do {
							var examineNextSibling = examineNext.nextSibling;
							examine.appendChild(examineNext);
							ateBR = (examineNext instanceof HTMLBRElement)
							examineNext = examineNextSibling;
						} while (!ateBR && examineNext && !(examineNext instanceof HTMLDivElement));
					}
					while (examine.lastChild instanceof Text && examine.lastChild.nodeValue.trim().length==0)
						examine.removeChild(examine.lastChild);
					
					// dump everything after the first BR
					examine.removeAttribute('style');
					var firstBR = examine.firstChild;
					while (firstBR && !(firstBR instanceof HTMLBRElement)) {
						if (firstBR.nodeType === 1 && element.classList.contains('script-indent')) {
							if ((getComputedStyle(firstBR).display||'').indexOf('inline')!=-1) {	// move span, B, etc children to first level
								var husk = firstBR;
								console.log('unwrapping inline ', husk.outerHTML);
								while (husk.lastChild)
									examine.insertBefore((firstBR=husk.lastChild), husk.nextSibling);
								examine.removeChild(husk);
							}
							else break;	// stop here
							//else firstBR = firstBR.nextSibling;
						}
						else
							firstBR = firstBR.nextSibling;
					}
					if (firstBR) { 	// move everything else to after examine
						while (examine.lastChild && examine.lastChild !== firstBR) 
							element.insertBefore(examine.lastChild, examine.nextSibling);
						if (firstBR && !(firstBR instanceof HTMLBRElement))
							{ console.log('pushing down ', firstBR); /*element.insertBefore(firstBR, examine.nextSibling);*/ }
					}
					else if (!is_realtext(examine.lastChild)
						&& !(examine.lastChild instanceof HTMLSpanElement && is_realtext(examine.lastChild.lastChild)))
					{
						examine.appendChild(document.createElement('br'));
					}
				} 
				while (examine=examine.nextSibling);
				
				if (sel && element.contains(sel.anchorNode))
				{
					if (!shadowRange || ShadowRoot.prototype.getSelection)
						getSelection().setBaseAndExtent(sel.anchorNode, sel.anchorOffset, sel.focusNode, 
							(sel.focusOffset==-1) ? sel.focusNode.childNodes.length : sel.focusOffset);
					else {
						// tricky, but i guess it can be done, must find current sel and adjust until we're there
						//console.log('emitting contains selanchornode for shadow');
						
						//getSelection().modify('move','forward','character'); 
					}
				}
			}
		}
	},
	GetRichContentsOfRange(range)
	{
		var result = { html: "", text: "" };
		var startText = (range.startContainer.nodeType === 3) && range.startContainer;
		var endText = (range.endContainer.nodeType === 3) && range.endContainer;

		catalog_siblings(startText || range.startContainer.childNodes[range.startOffset], true);
		return result;
		function catalog_siblings(node, follow_all) 
		{
			var over = false;
			while (node && !over) 
			{
				if (node === endText) {
					append((node === startText) 
						? node.nodeValue.substring(range.startOffset, range.endOffset) 
						: node.nodeValue.substr(0,range.endOffset));
					over = true;
					}
				else if ((node === range.endContainer && range.endOffset === 0) || node===range.endContainer.childNodes[range.endOffset])
					over = true;
				else if (node.nodeType === 3)
					append(node.nodeValue.substr((node === startText) ? range.startOffset : 0));
				else if (node.nodeType === 1) {
					var pair = tag(node);
					result.html += pair.open;
					if (pair.close) {
						over = catalog_siblings(node.firstChild);
						result.html += pair.close;
						}
					else if (node.nodeName.toLowerCase()=='br')
						result.text += '\n';
					}
				while (!over && follow_all && !node.nextSibling) {
					node = node.parentNode;
					if ((node === document.body) || (node === range.endContainer && range.endOffset === node.childNodes.length)) 
						over = true;
					else { 
						var pair = tag(node);
						result.html = pair.open + result.html + pair.close;
						}
					}
				node = node && node.nextSibling;
			}
			return over;
			
			function append(text) {
				result.text += text; 
				result.html += text.replaceAll(/&/g,'&amp;').replaceAll(/</g,'&lt;'); 
			}
			function tag(node) 
			{
				var name = node.nodeName.toLowerCase(), out = "<"+name, hasCloseTag = ['area','base','br','col','command','embed','hr','img','input','keygen','link','meta','param','source','track','wbr'].indexOf(name)==-1;
				if (node.className)
					attr('class',node.className);
				if (name=='img' && node.src)
					attr('src',node.src);
				if (hasCloseTag) {
					// THIS needs the whitelist! Or we need to write a generate_faux_from_node without children, and then generate_html_header_from_faux.
					// We can't duplicate everything here.
					if (customElements.get(name)) {
						(customElements.get(name).observedAttributes || []).forEach((a)=>{
							var v = node.getAttribute(a);
							if (v !== null) 
								attr(a,v);
							});
						}
					}
				out += ">";
				function attr(a,v) { out += " "+a+(v.length ? "=\""+node.getAttribute(a).replaceAll(/&/g, '&amp;').replaceAll(/"/g, '&quot;')+"\"" : ''); }
				return { open: out, close: (hasCloseTag ? "</" + name + ">" : null) };
			}
		}
	}
}


// this has issues pasting inside a modal dialog, and may need to confect their own oninput events
function copycutordrag(event)
{
	if (['INPUT','TEXTAREA'].includes(document.activeElement.nodeName.toUpperCase()))
		return;

	var contents, selpart = (document.activeElement && document.activeElement.nodeName.toLowerCase()==='stack-part' && document.activeElement.selectedPart), selrange;
	if (selpart) {
		selrange = new Range(); 
		selrange.selectNode(selpart);
		contents = ContentEditableFix.GetRichContentsOfRange(selrange);
	}
	else if (getSelection().type == 'Range') {
		contents = ContentEditableFix.GetRichContentsOfRange(getSelection().getRangeAt(0));
	}
	else return;

	console.log('copied ' + contents.html);
	if (!document.random_nonce)
		document.random_nonce = String(Math.random());
	if (event.type == 'dragstart') {
		event.dataTransfer.setData("text/html", contents.html);
		event.dataTransfer.setData("text/plain", contents.text);
		event.dataTransfer.setData("text/nonce", document.random_nonce);
		//document.qs('button-part[name=upon]').style.outline = 'auto';
	}
	else {
		event.clipboardData.setData("text/html", contents.html);
		event.clipboardData.setData("text/plain", contents.text); 
		event.clipboardData.setData("text/nonce", document.random_nonce);
		if (event.type=='cut' && !selpart)
			{ document.execCommand('delete'); }
		else if (event.type=='cut') {
			if (closest_editable_container(selpart)) {
				getSelection().addRange(selrange);
				closest_editable_container(selpart).focus();
				getSelection().collapseToStart();
				}
			selpart.parentNode.removeChild(selpart);
			document.activeElement.selectedPart = null;
			} 
		event.preventDefault();
		return false;	
	}
}
document.addEventListener('copy', copycutordrag);
document.addEventListener('cut', copycutordrag);
document.addEventListener('dragstart', (event)=>{
	if (event.composedPath()[0].getAttribute && event.composedPath()[0].getAttribute('draggable') == "false") event.preventDefault();
	else return copycutordrag(event);
});
document.addEventListener('paste', (event)=>{
	if (document.activeElement.nodeName.toUpperCase() != 'DIV' && document.activeElement !== body && document.activeElement !== body_focus_proxy)
		return;
	
	/*if (['INPUT','TEXTAREA'].includes(document.activeElement.nodeName.toUpperCase()))
		return;*/
	
	console.log('running content-editable-fix paste');
	
	if (event.clipboardData.getData('text/html')) {
		var spanner = document.createElement('span');
		spanner.innerHTML = event.clipboardData.getData('text/html');
		if (ContentEditableFix.ActiveElement() && ContentEditableFix.ActiveElement().matches('field-part.script-indent'))
			spanner.innerText = spanner.innerText.split('\n').map((t)=>t.trim()).join('\n');
		console.log('pasting ' + spanner.innerHTML);
		// we have a mutation watching thing with tree diff, but it's incomplete; you paste a span and it lives inside one of the line divs
		
		/*var start = NBU2.RegisterAction(()=>{
		},()=>{NBU2.Redo(end);});*/

		if (sim.stack.contains(ContentEditableFix.ActiveElement()) || ContentEditableFix.ActiveElement() === body || ContentEditableFix.ActiveElement() === body_focus_proxy) {
			var part = spanner.firstElementChild;
			if (part && ['button-part','field-part'].includes(part.nodeName.toLowerCase())) {
				console.log(part);
				sim.stack.currentLayer.appendChild(part);
				part.topLeft = part.topLeft || "200,100";
				//part.width = part.width || part.offsetWidth;
				//part.height = part.height || part.offsetHeight;
				body.qs('#toolbar button-part[name="' + part.nodeName.split('-')[0] + '" i]').click();
				sim.stack.selectedPart = part;
			}
		}
		else {
			function strip_locations_and_styles(node) 
			{
				node.childNodes.forEach((e)=>{
					if (e.nodeType!==1) return;
					if (['button-part','field-part'].includes(e.nodeName.toLowerCase()))
						e.topLeft = e.width = e.height = '';
					if (e.style) delete e.style;
					strip_locations_and_styles(e);
					});
			}
			strip_locations_and_styles(spanner);
		/*	spanner.childNodes.forEach((e)=>{ 
				if (e.nodeName && ['button-part','field-part'].includes(e.nodeName.toLowerCase()))
					e.rect = '';
			});*/
			getSelection().getRangeAt(0).deleteContents();
			var range = getSelection().getRangeAt(0);
			range.insertNode(spanner);
			getSelection().selectAllChildren(spanner);
			getSelection().collapseToEnd();
		}
		
		/*var end = NBU2.RegisterAction(()=>{NBU2.Undo(start);},()=>{
			getSelection().getRangeAt(0).deleteContents();
			var range = getSelection().getRangeAt(0);
			range.insertNode(test);
			getSelection().selectAllChildren(test);
		});*/

		event.target.dispatchEvent(new Event('input', { bubbles: true }));
		event.stopPropagation();
		return event.preventDefault();
	}
});

// https://github.com/GoogleChromeLabs/shadow-selection-polyfill/blob/master/demo.html
// POLYFILL
//https://jsfiddle.net/dbalcomb/oLnkyv78/
const SUPPORTS_SHADOW_SELECTION = typeof window.ShadowRoot.prototype.getSelection === 'function';
const SUPPORTS_BEFORE_INPUT = typeof window.InputEvent.prototype.getTargetRanges === 'function';
const IS_FIREFOX = window.navigator.userAgent.toLowerCase().indexOf('firefox') > -1;

class ShadowSelection {
  constructor() {
    this._ranges = [];
  }

  getRangeAt(index) {
    return this._ranges[index];
  }

  addRange(range) {
    this._ranges.push(range);
  }

  removeAllRanges() {
    this._ranges = [];
  }

  // todo: implement remaining `Selection` methods and properties.
}

function getActiveElement() {
  let active = document.activeElement;

  while (true) {
    if (active && active.shadowRoot && active.shadowRoot.activeElement) {
      active = active.shadowRoot.activeElement;
    } else {
      break;
    }
  }

  return active;
}

if (IS_FIREFOX && !SUPPORTS_SHADOW_SELECTION) {
  window.ShadowRoot.prototype.getSelection = function() {
    return document.getSelection();
  }
}

if (!IS_FIREFOX && !SUPPORTS_SHADOW_SELECTION && SUPPORTS_BEFORE_INPUT) {
  let processing = false;
  let selection = new ShadowSelection();

  window.ShadowRoot.prototype.getSelection = function() {
    return selection;
  }

  window.addEventListener('selectionchange', () => {
    if (!processing) {
      processing = true;

      const active = getActiveElement();

      if (active && (active.getAttribute('contenteditable') === 'true')) {
        document.execCommand('indent');
      } else {
        selection.removeAllRanges();
      }

      processing = false;
    }
  }, true);

  window.addEventListener('beforeinput', (event) => {
    if (processing) {
      const ranges = event.getTargetRanges();
      const range = ranges[0];

      const newRange = new Range();

      newRange.setStart(range.startContainer, range.startOffset);
      newRange.setEnd(range.endContainer, range.endOffset);

      selection.removeAllRanges();
      selection.addRange(newRange);

      event.preventDefault();
      event.stopImmediatePropagation();
    }
  }, true);

  window.addEventListener('selectstart', (event) => {
    selection.removeAllRanges();
  }, true);
}</script>
	<script>"use strict";

if (!Object.getOwnPropertyDescriptor(window,'body')) 
	Object.defineProperty(window, 'body', { get() { return document.body; } });		

[HTMLElement,HTMLDocument,ShadowRoot,DocumentFragment].forEach((p)=>{
	p.prototype.qs = p.prototype.querySelector;
	p.prototype.qsa = p.prototype.querySelectorAll;
});

/*HTMLElement.prototype.qs = HTMLDocument.prototype.qs = ShadowRoot.prototype.qs = DocumentFragment.prototype.qs = function(selector) { return this.querySelector(...arguments); }
HTMLElement.prototype.qsa = HTMLDocument.prototype.qsa = ShadowRoot.prototype.qsa = DocumentFragment.prototype.qsa = function(selector) { return this.querySelectorAll(...arguments); }*/

String.prototype.includedBy = function(s){ return String(s).includes(this); }

// can we make all shadow content pointer-events: none during contextmenu? probably, with a css variable --context-menu-none
document.addEventListener('contextmenu', ()=>(body && body.classList.add('contextmenu')), true);
document.addEventListener('mousemove', ()=>setTimeout(()=>body && body.classList.remove('contextmenu'),0));	// when does contextmenu disappear exactly?

function follow_mouse(event, move_func, gate_func, always_end) {
	var movename = (event.type=='simulateddown') ? 'simulatedmove' : (event.type=='pointerdown') ? 'pointermove' : ('ontouchmove' in document) ? 'touchmove' : 'mousemove';
	var endname = (event.type=='simulateddown') ? 'simulatedup' : (event.type=='pointerdown') ? 'pointerup' : ('ontouchend' in document) ? 'touchend' : 'mouseup';
	var endname2 = (event.type=='pointerdown') && 'pointercancel';
	
	document.addEventListener(movename, move);
	document.addEventListener(endname, end);
	if (endname2) document.addEventListener(endname2, end);
	document.addEventListener('contextmenu', context);
	var has_begun, has_cancelled;
	move(event);
	function move(event) {
		if (event.clientX===undefined && event.touches && event.touches[0]) 
			{ event.clientX = event.touches[0].clientX; event.clientY = event.touches[0].clientY; }
		if (!has_begun && gate_func && !(has_begun=gate_func(event,true))) return;
		if (move_func) move_func(event);
	}
	function end(event) {
		if (event.type == 'simulatedup')
			move(event);
		//console.log('folllow_mouse end', event);
		document.removeEventListener(movename,move);
		document.removeEventListener(endname,end);
		if (endname2) document.removeEventListener(endname2, end);
		setTimeout(()=>{ document.removeEventListener('contextmenu',context); }, 1);
		if (has_begun && !has_cancelled && gate_func) gate_func(event,false);
		else if (always_end || has_cancelled) gate_func(event, 'cancel');
	}
	function context(event) {
		console.log('contextmenu');
		has_cancelled = true; has_begun = false; //if (has_begun) return;
		end(event);
	}
}

function mutableStyle(property, value)
{
	var style = document.qs('style#mutable-style');
	if (!style) {
		document.head.appendChild(style=document.createElement('style'));
		style.id = 'mutable-style';
		style.innerHTML = "body { }";
		}
	style.sheet.cssRules[0].style.setProperty(property,value);
}

function better_emit_json_as_html(json, level=0, noWhitespaceLevel=2) 
{	
	var keys = Object.keys(json), tag = json.$.toLowerCase(), levelTabs = "\t".repeat((level<noWhitespaceLevel) ? level : 0);
	var top = "<" + tag + keys.map((a)=>{
		if (a=='$' || a=='$$') return '';
		var value = String(json[a]);
		if (value=='' || /[^\w,.]/.test(value)) return " " + a + "='" + value.replaceAll(/&(?=[\w])/g,'&amp;').replaceAll("'","&apos;").replaceAll("\\","\\\\") + "'";
		return ' ' + a + '=' + value + '';
	}).join('') + ">";
	if (["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"].includes(tag))
		return levelTabs + top;
	var middle = (json.$$||[]).map((n)=>(typeof n==='string') ? cleanStr(n) : better_emit_json_as_html(n,level+1,noWhitespaceLevel));
	var bottom = "</"+tag+">";
	if ((json.$$||[]).length > 2 || ((json.$$||[]).length && tag.substr(-5)=='-part'))
		return levelTabs + top + ((level<noWhitespaceLevel)?"\n":"") + middle.map((l)=>l.split('\n').map((l)=>levelTabs+l).join('\n')).join(((level<noWhitespaceLevel)?"\n":"")) + levelTabs + ((level<noWhitespaceLevel)?"\n":"") + bottom;
	return levelTabs + top + middle.join('') + bottom;
	
	function cleanStr(n)
	{
		var out = n.replaceAll(/[ \n\r\t]+/g, ' ').replaceAll(/&(?=[\w])/g,'&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;');
		//console.log(n,out);
		return out;
	}
}

// is problem with backslashes??
function emit_json_as_html(json, level=0, noWhitespaceLevel=2) 
{
	var keys = Object.keys(json), tag = json.$.toLowerCase(), levelTabs = "\t".repeat((level<noWhitespaceLevel) ? level : 0);
	var top = "<" + tag + keys.map((a)=>{
		if (a=='$' || a=='$$') return '';
		var value = String(json[a]);
		if (value=='' || /[^\w,.]/.test(value)) value = "'" + value.replaceAll(/&(?=[\w])/g,'&amp;').replaceAll("'","&apos;").replaceAll("\\","\\\\") + "'";
		return ' ' + a + '=' + value;
	}).join('') + ">";
	if (["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"].includes(tag))
		return levelTabs + top;
	var middle = (json.$$||[]).map((n)=>(typeof n==='string') ? n.replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;') : emit_json_as_html(n,0,0));
	var bottom = "</"+tag+">";
	if ((json.$$||[]).length > 2 || ((json.$$||[]).length && tag.substr(-5)=='-part'))
		return levelTabs + top + ((level<noWhitespaceLevel)?"\n":"") + middle.map((l)=>l.split('\n').map((l)=>"\t".repeat(level+1)+l).join('\n')).join(((level<noWhitespaceLevel)?"\n":"")) + "\t".repeat(level) + ((level<noWhitespaceLevel)?"\n":"") + bottom;
	return levelTabs + top + middle.join('') + bottom;
}

var audio_context, built_in_sounds;
function check_audio()
{
	if (audio_context)
		return;
	audio_context = new (window.AudioContext || window.webkitAudioContext || function(){})({ latencyHint: 'interactive' });
	built_in_sounds = { 
		beep: loadBase64Sound("data:audio/wav;base64,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 /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU="),
		harpsichord: loadBase64Sound("data:audio/wav;base64,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tr3CvbWxsbGrqKain5iLio6QjYiBe29lWlNPT0lDPj4/QUNGTVNcXFxfZ2pwcXmBioqOkpiaoaars7m5s66urqyopqSin5WLjZKSjoiFe29lXVZTUk1EQUFDRUZJUFhcXF1gZ2xwc3uDiIqNkpeaoaastLu2r66urquoqKikn5KQlZiXko2Ie3RnYFhYU01FRUVFRkhLUFhYWFpgZGlpb3d+gYOIjpCYnKKns7Wuq6urqKikpKSknJKSl5qXko6Ge3FnYFxaVk1ISEhIS0tQVlhYWF1gZ2lqcXuAgIOKjZKYnaKss7Osq6urq6moqKikmJSYnJyYlJCFe29nYF9aU0tISEhJS01SWFhYWF1gZmZqcXl9fYGIipKVnKKssaypqamoqKSkpKSclZSYmpqVlIuBdm5kYF9aUktJSElLS1BVWFhYWl9kZmdudn1+gIWKjZWYn6evr6ypq6moqKamqKSalJecnpqXk4qAdGxmYmBYUE1LS0tLTVJYWFhYXF1iYmdudHl5foOFi5CVnKarqaaopqSkpKKkpp+VlZienpqYkot+dmxpZmRaVVJPUFBPU1pdXFxcX2RmZmpxd3l7foOFi5CUnaaopqSkpKSioaKkopyVl5yenpyYkoh+c25qaWJaVlNSUlJSVlxdXFxcX2JiZGpxc3R3fX2FiIuSnKKin5+fnp6enqGkn5iVmJ6enp6YkoZ+dHBubGRdWlhYVlVWXV9fX19fYmJkZm5zc3Z7fX6FiIuVnKGfnp6enp6enqGinJWVmp6hn5yYkIV7dHFwaWJdWlhYVVVaXV9dXFxdYF9iZWxwcHR3eX6BhYuTnJ6cnJyanJ6an6KinJeYn6GhoZ6YjoZ7dnNzamRfXVxcWFhdYmJfX19iYmJiam5wcHR2eX6BhY6VnpyampqanJqcn6Kfl5ecnqGhn5yTi4J3dHNuZ2BdXFxYVlpdX19dXF9fX19iamxucXR2e36DhpCYmpqampqcnJqeoqKcl5ieoaSioZqSiH55dnRuZ2JfX1xaWl1iYmJfX2BiYGBnbGxuc3N3e4CBiJKamJeXl5eal5ieoZ+VlZqeoaGhn5iQhX55dnFsZ2JfX11cXWBiZGBfYmJiX2JpbGxuc3R2e36BipOXlZeVlJeXl5ien5qUlZqeoaGhnZWNg315d3NuaWZkYl9fZGZpZWJiYmRiYmdqbGxwcHN2e32BipKUlJSQkJSUkpecnJSQlZieoaGhmpWIgX19d3RsaWZmYmBiZmlpZmZmZmZiZmpsbHBwcXN3eX2DjZCQkJCQkJKQlJial5KSl5yeoaGfmJKIgX17d3NuamlnZGJmZ2xqZmZmZmRiZ2ppbGxwcHR2eXuFjY6QkI2NkI6OkpqalJCVl5yfoaGfmI6IgIB9eXNwbGlnZGZnbGxpZmZmZGJiZ2lpbGxwcHN2dnyIi42NjY2NjY2OlZqYlJSVmJ+ipKKfl46Fg4F+eXNwbGxnZmdqbGppZ2ZmYmBkZmdpaWxsbnNzdn6HioqNiouNi4uQmJiVlJSXnJ+kpKKflYuHg4F+d3RwcGxpaWlucGppaWlmYmJmaWlpbGxscHNzd4GHioqKiouLiouSl5WSkJSYnKGipKGYkoiFg4B8dnRwbmppaWxwbmxpaWlnYmRpaWlsbGxucXN0fIOIioqKioqKio2UlZKQkJWYnKGioZ+XjYeFg355dnNzbmxpanBwcGxsamlmZGdpaWlsbGxwcXB0foGHh4eHh4eHh46SkpCNkJSXnp+hoZyTioeDg357dnZzcGxscXNzcHBsbGpmZ2lsbGxsbG5xcHF3foOHh4eHh4eDho6QkI2NkJSYnqGhn5iQioeHgX55dnZzcGxuc3NzcHBwbGdmaWlpamxsbG5wcHF7foODg4ODg4OBiI6QjYqNkJWanqGhn5eNiIeHgX55eXZ0cXBzdnZ0cXBwbGdpamxqbGxsbHBubnN7foGDg4ODg4CBiI6Oi4qOkpecn6GhnJOLioiHg359e3l0cXF2dnZ0cHBwamZpamlpamlpbGxsbnR7foCAgICAgH2Fio2NioqOkpicoaKhnJKLioqHg359fXl0c3Z5eXl0c3NwamlsbGxsbGlsbGxscXZ7foCAgICAfX6Fi42KiouOk5icn6Gel46KioeFfn19eXdzc3Z5eXdzc3FuaWpsbGxsbGxsbGxudHd+gICAgIB+fYGIjYuKio2OlZqeoaGckouKh4eDgH19e3ZzdHl5eXZ2dnFsaWxsbGxsbGxwbGxxdHt+gICAgIB9fYGKioqHiouQlZqeoZ6VjoqIh4WAfX19d3Rzdnl7d3Z2dHFsbGxubG5sbG5ubG5xd3t+gH5+gH57fYOKioeHio2Sl5qfoZyVjoqKiIWAgIB9eXZ3e319d3d5dnBsbnBsbm5sbG5sbG5xd3t9fX19fXl3e4OHh4OHh4uSlZqenpiSi4qKh4OAgIB9eXZ5fYB9eXl5dHFwcHBwcHBscHBsbHB0eX19fX19e3d3foWHhYOHiI6Sl5yenJWOioqIhYOAgIB9eXl7gIB9fX13dHFwcXBwcG5scGxsbHB0d3t7eXl7d3R3gIODg4OFio6UmJ6emJSLioqKhYOAg4B9eXuAg4B9fX13dHBzcXBwcGxwcGxsbnF2e315eXt5dHR5gYODg4OFi46UmJ6cl5CKioqIg4OBg4B7eXyAgX59fXt3cXFzcHBwbmxwbGxsbnN3e3l5e313c3d+gYODg4OIi5CVnJ6alY2KioqHg4CDgX55eX6DgH59fnt2c3Nzc3NxcHBwbmxscXR5fXl5fXt2c3l+g4ODgYWIjZKYnJyYkIqKiIeDgYCDgHt5e4CBgH19fXl0c3Nzc3NwcHBwbGxuc3d7e3l7fXdzdHuBg4GAgYeLjpKYnJqTjYqKiIeDgIODgHt5foODgICAfndzc3Nzc3NwcHBubGxwc3d5eXl5eXRzdHuAgICAgYWKjZKYmpiOioeHh4OBgYODfn1+gYODgYODfnd2dnZ2dnNxc3FwbG5xdHl5eXl5d3Nzd3yAgH5+gYWKjpWYmpONiIeHh4GAg4OBfX2AhYWDg4OBfHl2dnZ2dnNzc3NwcHBzd3l5d3l5dHFxd31+fX1+gYeIjpSXl46Kh4eFg4CAg4OAfX2Bh4WDg4WBe3l2dnZ2c3Nzc3FwcHF0eXl5eXl3dHB0e36AfX2AhYeLkpWalY6Ih4eHg4CBg4N+fX6Fh4ODg4N+eXd2dnZ0c3NzcW5sbnF0d3Z2eXl0cXF0e359fX6BhYiOkpiako6KiIeHg4ODh4N+foGHh4ODh4N+eXd2eXdzc3NzcHBwcHN3eXZ3eXd0cHF3e319fX6BhYiOlZiVjouIh4eFgYGDg4F9foGHhYOFhYF9eXZ2eXZzc3NzcHBwcXR5d3Z5eXdxcHR3fX19fX6DhYqOlZeSjYiHh4eDgIOFg4B+gYeHhYWHh4B+enp6end3d3d0c3JydHh6eHh6enZycnZ6fn56foCBh4mRlJSNiIeFhYGAgIODgX5+gYaGg4SGhIB8e3t7e3h4eHh1c3J0dnt7e3t7eXVzdHh8fnx7foCBhouQlJCLh4SGhIGAgYSDf36AhIaGhIaGg4B8e35+e3h4eHd2dHN2ent7e3t7eXR0dnp9fXt7f3+ChouOkIyHhIKCgYCAgYKBf3+BhoaEhoiEgn99fX99e3t7enl3d3V4fHx8fH18eHV2eH1/fXx9f4CChouPjYqFgoKCgICAgoKBf3+ChYWFhoaDgX9/f398fHx8enl4dXh6fHx6fHx7d3Z3eXx8fHx9f4GDiIyOi4iFgoKCgYCBhYOAgIGFhYWGh4aDgH9/f398fHx6enh4dnh7fHt7fHx5d3d4enx8fHx/f4GDh4uLiYWDgoKCgICDhIGAgIKEhISGhoSDf39/f359fX17enl3eHp9fHt8fXx4dnh4fH19fX1/gIGFiIqJh4SCgoKAf4CCgoB/gYOEhIWGhoSBf39/f399fX19fHt6e319fX1/fnx5eHh8fX19fX5/gIGEh4iHhIKAgIB/f3+CgX9/gIOEg4ODg4KAgICAgH9+fn59fHt7fX9/fn+Af3x6eXt9fn5+foCAgIKFh4eFgoGBgICAgIGBgICAgYODg4OEg4GAgICAgH5+fn59fXx8fX5+fn+AfXx6enx+fn5+foCAgIKFhoWDgYCAgICAgIGAgICAgoODg4SEg4GAgICAgICAfn59fHx9fn9+f4B/fnt7e35/f39/f4CAgYOEhYOCgYCAgICAgIGAgICAgoKCgoODgYCAgICAgICAf39+fX1/f39/gIB/fXx8fX5/fn5+f4CAgIOEhIOBgICAgICAgIGAgICBgoKCg4ODgYCAgICAgICAgH9/f39/f39/gH9/fn19fn9/f39/f4CAgYKDg4GAgICAgICAgYCAgICBgYGBgoKBgICAgICAgICAgH9/f3+AgICAgIB/fn5+f39/f3+AgICAgYKCgoCAgICAgICAgICAgICAgYGBgYGBgICAgICAgICAgICAgICAgICAgICAf3+AgICAgICAgICAgYGBgYCAgICAgICAgICAgICAgYGBgYGAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgA=="),
		flute: loadBase64Sound("data:audio/wav;base64,UklGRiQIAABXQVZFZm10IBAAAAABAAEAi0UAAO5WAAABAAgAZGF0YQAIAACBgYGBgYGAgICAgICAgICAgICAgH9+fn5+fn5+fn5+fn9/f4CAgICAgICBgoKDg4ODg4ODg4ODg4OCgoKBgYCAgH9/fn59fXx8fHt7e3t7fHx8fXx9fn5/gICBgYKDhISFhYaGhoaGh4eHhoWFhIOCgYCAf359fXx7enp5eHd3d3d4eHl5ent8fX5/gIGCg4SFh4iIiYqKioqKiomJiIeGhYSDgYCAfn17enl4d3Z1dXV1dXV1dnd4eXp7fH5/gIKDhYaIiYqLjIyNjY2MjI2Mi4mIhoWDgYB/fXt6eHd1dHNzcnFxcXFyc3R1d3h6fH6AgYOFh4mLjI6Pj5CRkZGQj4+PjYuJh4WDgYB9e3h2dHJxb25tbWtrbGxub3FydHd5e36Ag4aIi42PkZSVlpeXl5eWlZSTkY+MiYaDgH57eHRxb21raWdnZmZlZmdoam1vcnV4e3+ChYmMj5KVl5qcnZ6enp2cmpiWlJGOioeCf3t4dHBsaWZkYmFgX19fYGJkZmlscHR4fICEiIyQlJebnaCjpKWlpKOhn52al5OPioaBfXl0cGtnY2BdXFpZWVlaWl1fYmZqbnR4foKHjJGVmp6hpKerrKysq6qopaKemZWQioWAenVvamVfXFhVU1JRUVJTVFdaXmNobnN5f4SLkZedoqaqrbCytLS0srCuqqahm5aQiYN9d3BpY15YVFBNS0lJSUpMT1BVWmBmbXR7gYiPl56kqa6ytbi6vLy7ubezrqmjnZaQiIF5cWliXFZQS0hEQkFBQkNGSU5TWWBnbnV9hI2UnKKprrO3u72/v7+9u7izrqminJSNhX51bmdgWVNOSkZDQkFBQkRHS1BWXGJpcXiBiJCXnqWrsLW5vL6/v769uraxrKagmZGKgXpya2RdV1FMSEVCQUFBQ0ZJTVJYXmVsdHyEi5Oaoaets7e6vb+/v767uLSvqqSdlo6Gf3dvaGFaVE9KR0RCQUFCREdLT1RaYWhweH+HjpadpKqwtbi8vr+/vr26t7Ktp6GZkouDfHRsZV5XUk1JRUNBQUFDRUhMUVddZGxze4KKkZmgp62ytrq9vr+/vry5tbCrpZ6Xj4iAeHFpYltVUEtHREJBQUJDRkpOU1pgZ292foWNlJyjqa+0uLu9v7+/vbu3s66oopuUjIR9dW1mX1lTTklGQ0FBQUJESEtQVlxjanJ5gYiRmJ+mrLG1uby+v7++vLm2saymn5iRiYF6cmpjXFZRTEhEQkFBQUNGSU5TWV9mbXV8hIyUm6KorrO3u72/v7++u7i0r6mjnJWOhn52b2dgWlRPSkZDQkFBQkRHS1BVW2JpcHiAiI+XnqSqsLW5vL6/v769urayraegmZKKgntzbGReV1FMSEVDQUFBQ0VJTVJXXmRsdHyDi5KZoKetsre6vb6/v768uLWwqqSelo6Hf3hwaWJbVE9LR0RCQUFCREdKT1RaYGhvd3+GjpWcpKqvtLi7vr+/v726t7OuqKKak4uEfHVtZl5YUk1JRkNBQUFCRUhMUVZdZGtyeoGJkZigpqyxtrm8vr+/vry5tbGspZ6XkIiBeXJpYlxWUEtIREJBQUJDRklOU1lgZ251fYSMlJyiqa6zt7u9v7+/vbu4tK6popyUjYV+dW5nYFlTTkpGQ0JBQUJER0tQVlxiaXF4gIiQl56lq7C1uby+v7++vbq2saymoJmRioJ6cmtkXVdRTEhFQkFBQUNFSU1SWF5lbHR8hIuTmqGnrbK3ur2/v7++vLi0r6qknZaOhn93b2hhWlRPSkdEQkFBQkRHS09UWmFob3h/h46WnaSqsLW4vL6/v7+9ureyraehmpKLg3x0bWZfWFNOSkdEQ0JDREdKTlJYXmVtdHuCiZCXnqWrr7S3uru8vLu5trKuqaOdlo6HgHlya2ReWFNPS0hGRUVGR0pNUlZcYmlwd36FjJOaoaasr7O2uLm6ubi2sq+qpZ+YkouEfnZwaWJdWFNPTEpISEhJS05RVVtgZ210eoCHjpWcoqerrrK0tre3trSyr6umoZuVjoiBe3RtaGJdWFRQTkxLSktMT1FVWl9kanB3fYOKkZedoqerr7GztLS0s7Gvq6einZeRi4V/eHJsZmFcWFVRT05NTU5PUlVZXmJobXN6gIaMkpidoqerrq+xsrKxsK6rp6OemZSOiIF8dnBqZWFdWFVTUVBQUFFTVlldYWZrcXZ9goiOk5meoqaqra+ur6+uraqnpJ+blpGKhYB6dG9qZV9cWFVTUlFRUlNVWVxgZGludHp/hImPlJmdoaWoqqurq6upqKajn5uXkYyHgn55dG9qZWJgXVtZWFdYWFpcYGNmam9zeH2AhYqOk5eanaCipKWmpaSjoZ+cmZaRjYmEgH14dHBsaWVkYmBfXl5fX2FjZWlscHN3e3+ChoqNkJOWmJqcnZ6enJybmZeVko+MiYWCf3x4dXJvbWtpamhoZ2doaWpsbXFzdXh7fYCDhoiKjY+RkpSVlpaWlpSTkpCOjIqIhYOAf3x6eHZ0c3FwcHBvb29wcXFzdHZ4ent9f4GChIaIiYqLjI2Njo6OjoyLiomIh4aEg4GAf318e3l4d3Z2dXZ2dnZ2d3h4eXp8fX5/gIGCg4SFhYWGh4eHh4eHh4aFhYSEg4KBgYCAf39+fn19fHx8e319fX19fX1+fn5/gICAgICAgYGBgYGBgYGBgYGBgYGAgICAgICAgICAgICAgICAgICAgA=="),
		boing: loadBase64Sound("data:audio/wav;base64,UklGRjQeAABXQVZFZm10IBAAAAABAAEAjEUAAO9WAAABAAgAZGF0YRAeAACAgICAgICAgICAgICAgICAgICAgICAgYOIkKK9cT84OjhYeoiqs6+rqot4cF5FR1BKUnJ/iaOvp6enjndvYkxOV1logouTpq6mnpqFcmpgU1RlZ3KDkJCVk3VYRm/O1N7TnXxSOyQzNkZ0laS10868tZx7X1c8NEhXZX+mrr3JvKiXhV5PSEBAUmZ0k6awsrerlYNyXEtKSE1gdISVqKuqp5iDdWdVTVRYY3SGk6OutLS8rVMoJhkrUnOLs77Aw7+aiXpdQkVEQVJueIyosrC1sJuBel1KS01PXHuFlqiyq6eji3xvYU9PWl5vgIuOm5Z6YVGVys7LwYBsSi0uPD9RiaCsvtPFtK6Ja1xRNzdUXHGRq7G+ybWckHlbTkk+Rlxvfpitr7S0o41/aVFLTEtVan2LoKqqqaSQe29fUVBVXGl+jpmnsa2ssqRbKyAbKFFxia/EwsfJnot2YT07PTlNaX2LrLq0t7GcfXRYRUVLTFt7i5uutrGpood0Z1tMTVlfcIKNlJ6Zel5mr8bGwqtyXUUqNUlNY5GkrMDGs6effl5ZTz9HXml8nq2wu76jkYNrU09MRVJreYehrqyuqJKAdV9NT1NVY3mIkqWpop+Xg3NpW1RXXWZxh5Gdp6qnoqaacTQgHyVObY+ux8fKx6CJc189Ojw8UGiAjq68t7ewnH1xV0NBSFBffo+grrmzqaKGdWNZTEtWX22Cj5admIJkbbC7v7ScdVlKMz9QWnKYpqy7vaibknZcV1BIUWhzhKCrrLSxmoh6ZFNRTk5fdYKQoqmmpaCHe2tfUFNaXnCAjZWjpZyYjH1tZ1pXXmdwe42TnaOhnZiWk3lDKiYrT2qPrMbJycSjinBdPzs+QVJpg5Kvu7i1rpiAbFlEQ0lSYHyQobC2sqmeiXNiV01MWGJzhJOZnpiCaXCqtritlnNbTDpGV2J4m6eruLeimIxzW1hSTlhseISiqqquqpiBe2FUUlRVYXiBk6GnpKGbg3ZpXVFVXmN2g5CWoqKWk4Z7amRbWmFqdYCPlZyhnJaSjo6DTzcuMUtjg6G6w8XArY93YU0/QUROZXyPo7a3s6ubgm9cS0NKU2B3jZ2qs7GonYx3ZlpSUFljcoKQmZuYhG5wo7W1q5Z0XE49QFZgeZSprba5opaJeFpYUk1ZanuHoaysraiWgHhfU1JVVmN7hJSjqaWgl4J1Z1pSVl9leIaTmaKilZCDeGhiXFtha3OAjpecoJ2UjYmHiWhENjhEXn6Ys8HBu6+Ue2dUQkJIUWJ7jZ6uuLKqnYhxYVFISlRhdYqaprCwp5uNemtcVVBUYmx/i5ealYtxa5uxtK6ae19RQUFXX3eOp6m0uKeai3xfWlRQV2h4hJ6pq6yomYN7YlZTVldheIGRoKekoZqIeGteVlddZHKDjpegoZqSiHtuZV9aYGhxfY2Vm5+clY6Hg4R1Uz89QlZzj6e6v7qwn4FtWktDRk5bcYaXprGxrKCSd2pZTklQX2qCkaGprqudk4BxYlpTVV9qeISSlpWOd22UsLawoIZmVkQ+UFlvhKKptLmtoJGEZltVTlFgcX+TpquurqCOgG1cVFRSXG19ipqkp6Wfj31wYldUWV1sfYqTn6OfmI6AcWhfWlxja3iHkpmfnZiRioOBf2FHQEBLYoSVsbu7taeSdmhTSEhNV2N/i5+qsKujmX9wYFVMTVtkeoiZoauroZeIemhhVlReZnN9jJKTkHtvi621sKWOcFtLQUtXZn6Zpa24sqKWh3BeV1BPXGx6jqGoqq2kkoNzYFZVU1hpeIWWoaSkoZOCdWhZVVldaXqHkJqhnpqRhHhsZFxcZGl2g4+XnJ6alIyFgIdzVUA/QVV5jKm6vbuxoH5xXE1ESVFadYWYprSyp6GLemVaS0pVXXCAlp6qrqaek4JxZFtUV2BqdoWRlJWMfH+hraefjXNdU0ZOXGp8l6SrsrCgk4VxYFpVVF9xfYyfpqeooI6AdGNYWVldbX2Glp+joZySfnVnXVdbYmp8h5GYnZyUjoB2amVeX2dtfIWSmJublI6HgX+GhmVFPj9Ia4Oet8C/ua2FdV5PQURMVW6ElKSytq2klHppW05HUV1qfpShqbCqoJKCbl9ZUlVhbXuKlpyclIR8kJ2YkYZxYVxVW2x5hpmlpaOfkYJ5bmJfYWVwfImSnaGalo+Ecm1iXWJpcnqKkJOZlo+HgHFqZWRianZ9iZGVlZONgHpybGdpbHB8gYmOkpGOioF9eHl/iZ2EXUpCQlt5kKq6uLOpj3VkVkdIU1tshJSfrLClmYx2ZFtTTlhodYaao6iqoZKFdmZbW11hb32KlZ6elo5+cnmIh4SBfHFwcnJ9gYmNlJGKioF6d3dxcXd6foOKio2NhoKAfXR0dHJ4fYCBiYmFhYN/enl2cXV3eH2BhYaIhYJ/fXh2dnd4en+AgYWDgoKAfXx8fH+DjJaknG9PQTpGZoKgt7y4sJh7Z1VIRU1abYWYo62vopOEb1xRUFFgdISUpKunoZmCdGZdV11pcoSRnaChmYqAcmtrcHV4gIaKjZKPi4h/enZzcnV6f4aLj4yKhn96dnNydXh9g4iLi4mDf3p2cnJzdnqAhomLiYN/enZycHN3fYGGiYqJhYF9eHV1dXh8gIOGiomGg4CAgIOMn6qAUTotNleBpcTNxrSSbVI8MjpPaYKjsry5o490XklFS1V0h5+stK2cjXJiVlJZZn+NoKmpoZCCbmRcX298iouNkZOSjYZ8dGxrcHN+h5CSlJCEf3NsaGxweYOLkJGMhn12cG5vc3uBh4yMiIR9d3Jycnd9gYaIiISBfXh2dnh7gIaIioeDfnh2dXZ6gIaLjIqGg4KChJKrnlw/KitQerDN28qniEsxJytPcqG3ysWjiWFIOj9VcJiqubmji21bS05kdZOlsKyejHFhVFRldo6eqaibjXZnW1dgcoibp6qdinVjWFppfI+fpJ+PfWlbWWFzhZWfnJKBcWVgZXB/jpeYkYN1amVoc4CMk5KMgHVraW13hI6Tko2Ad29rcXeEipGRiIB0b290gomSlpaTmZpnQi8xWIbF2de6eE8mJThhn8DWyJhxQC41ToKjwsSoil1IQE11kLG7sZp6XU9SZoScrKubgWpcXGl+lKKdkoV2amVteomWmpWIeW1nbXiFkpeShXltZ2t1hI2SjYR6cW9zeoOIiYR9d3Nzd3+FiYiBfHZzdHl/g4eGgX96eXp9gIKCgn99fHx/f4KCgIB/f3+AgoWFh4yUhmRNTmmHuMCojV1CP1WBmrWylnJWS1VxkKaklHtjWV10ipqflYBtY2d0hpSZkoR1bWx2gouQjIN6c3R6gomRlIh7cm90go2SjoR8dHR8hYuLiIJ4c3R7gYaLiH97d3Z7f4OFgX16ent9gYKAf3t6enx/gIB/fHx8fH+AgIB/fHx8fX+AgH9/fHx8f4CAgIB/f3+AgYOGiot7ZGFwgpWmmHxjXWd2ipiTg3JqcHqDiYeAdnN5f4OFgXt3d3yDh4aCe3d4fYOIhoJ8eXh8gYODgHt3dnmImZiIcmxqdI+cl4h0cHR+kJSMf3JweoKMkId+dHR8gomIgXt2d36DhYN9enh5f4KCgHx6enx/gIB/fHp8f4CAf318fH1/gH99e3p8f4GCgX99fHx/gIKCg4WKhXFmcH+MmJSAa2Ftf42Ri31va3SCi4yEe3RzeoKIhn95eHl+g4eDf3p6fYGFhYF9enp9gIKBfXp4eHp7hZWUhG1qb3qUnpGAbm56hJKShXpydoKIi4h8d3d8h4qGgHl4e3+GhoB8enp9gYKBfXp7fX+Bf317enx/gYB+e3p7fYCAgH17e3x9gICAf3x8fX+AgICAgIGDhoh7bG15h5OVhnJkanuKko9/dGxygIiLhnp1dXqEiIV/eXd6f4WFgX17fH+ChIJ+fHt9gIKAf3t6e3t9fYSRlYhvaGx4lJ2TgW9ueoWUkoJ2cnaAio6IfHV2foWIhn95eH2DhYR/enl8gIODf3x5fH+Bgn99e3t+gIKAfnx7fX+AgH9+fX1+f4B/f359f3+AgIB/f4CAgoOGhHVscXyMlpCAa2ZxfY6Th3xubnmCjYuAeXN1foWIhHx4eHyDhoWBfHl8f4SEgX97e36AgoF+fHp6e3yBkJqQeGRicIugn4x2Zml7j5mQgXJtd4WPj4V6c3R9iIyHfnd1eoGHh4F7d3h+goaCfnp5e3+Bgn98ent+f4CAfnt7fH6AgH9+e3t9f4CAf359fX9/gICAf39/g4SAd3J1gIqSjH1zbXF/iI6KfndxdH6Giol+eXV4foSIhn98eXp9g4WFgX57e36BgoKAfXt7fH5/fXp4fIucmoRqWl13laamj3JhYXOLnZ6Qe2tmdIaUmI5+cWx0gYySi391b3J9hoyLgHlyc3uCiYmCfHRzeX6FhoN+eHd6foOEg397eXp8gIODgX58e3x/gYSCgH59fX+BgoJ+e3t+goWFg3x6eXp+goSEgH17e31/goKBf359fX5/goKBf399fX+AgICAf399fX1+fn18enh2dXuKoaWUeV5QWnSTra+ghWlZXGuHmaWfiXlmY3B8kJiVjHxybG97hIyOh4F3c3N3f4OIh4N+eHZ4en+ChISBfnp4eXx/gYSCf357ent9gIKCgn9+fHt9f4CCgYB/fnx9foCCgoF/fnt7e36Ag4SDgX58e3t+gIOEg4F+fHt8foCCgoGAf399fX5/f3+AgH9/fHp6eXh4dnZ4iJ6tqpF4VUlMXoegub2pkWtXSVBsg6OwsKOHclpUXGmElqWmmIhwYlpebn2Rmp2WhXhnYmRrfIaSlpKKfXFpZ2x2gYuQkYuCd29tbnR9hIuNi4R+eHNzdXl+hIaFf36DhoaEf3p1c3V5foSKi4qFgHl1dHV5f4SHiYaDf3x5eHp6foGEhYWEgH97enp8fH1/fn18d3Vzc4KXqq2ikXBdTU1fcpCks7OnlnlnWFZcaYGQo6iknIh4ZV5aYXJ/jZuenJKEdWhhYGdzgI2WmZaNgHVrZWVsdYCKkpSSioF4b2pqcHiAiY6Sj4qCenRwcHR4foOIiYaCgYOEgoB9eXd2d3x+hIaJiYaEf3x5eHh6fH+ChIWFhIN/fnt5eHl8foGDhIWEgn98eHV0c3R1d3uDkqappJh+bVhRVF50hJumrKqgkH9tYVpcZHKCkZ2jo5yQgXNmX19jbnyJlZudmI6CdmpkZGdueYOOlJaUjoR7cWpmaG53gIiPk5KPh352b2trbXR6g4qQkZCLg352dHFxcnR6foaLjpCMiIF8dXBwcXZ6goaLjYyKhIB5dnRzdHh8f4aHioqHhH57eHV1dnl7foGCgn98fIKMk5SPhXpwaGZpcHqEj5SXlZCIf3dwbGxvdX2FjJGSkYyGf3dxbW5xdn2Ei4+RjomCfXdzcHBzeH2EiY2NjIiBfXh0cnN2eX+DiYuMioaDfHl1dHZ4fYGGiYyNjIuCeW1pZWhze4iQl5qWkIN9cGtnaG1zf4aPlJWTjIR8dW9sbHB1foSMkJKQi4R/eHNwb3J3fYKGioqJiYuKhn96c29ucXZ+hIuPkY6Jg312cnFxdXp/hYmNjYqFgH12c3JzdnuAhYqLioeCf3h2cnR2eoCCh4iJh4KAe3h2dnd6f4CEhoaGhIB/e3l3eXp9gISGiIiHhoWGg3xuZ2NkbnqHk5qdmpCFeG1kYmRrdYKMk5iWkYh+c2toZ210foiQlZWSi4J6c25tb3R8hIqPkY+KhIB9eXZ1dnl+goiLjo2KhX96dXR1d36Bh4uMi4eDfXh1c3V3foCHiYuJhYB7eHV1dnh/gIWHiIaEgHt5dnZ5eoCChoeHhoKAe3p4eHt9gIKFhoWEgH98e3t+gISIjY+GeGtkYWh1gpCZnZmRg3drY2NocX2HkJWWkYd9c2tpanB6g4yTlJGKgnpybm9ze4CKjpCPioR9eXV1dXZ7gIeNkZGMhnx2cG9yeIGHjpCOioF7dHFxdHuAiI2Oi4R/eHRyc3l+hIiKioaBe3dzc3d7gYaJioeCfnl2dXZ7f4SIiYeDf3x4d3d6foKFiIaFgH17e3x/hIuQjn5waGRndIORmpyWjHtvZWJncn+MlZaSiYBybGhpdH2Ij5ORiYJ3cW5ud36HjZCPiIJ5dXN1e4CGh4aFg4KAgH19fX2AgIOEg4KAf318fX6AgIODgYB+fXt7fH6AgIGBgIB9fXt9fYCAgICAf359fX1/gICAgIB/fn5+gICAgYGAgH9+fn5/gICBgYGAgH9+f4CAgoSGiImBdnBsbXiCkJaWkIJ3aWVqcYKMlJWNhHZuaWt1foqQkY6Ce3FvcXaBiI6PiYR7dXNzeoCGioqHgn9+fn19fn+Ag4SFhIKAfXx8fYCChISEgoB9fX1+gIGCg4KAf319fn+AgYGAgH59fX1/gIGBgYB/fXx8fX+AgYGBgIB+fX1+f4CAgICAgH5+foCAgICAgICAgICAgYOEg355dnZ6f4aLi4iAe3NydXqCiIyLhX93dHR3foKIi4eCfXh1dnx/hYiIhYB8eXh5fICDhIJ/fH2Bh4qIgnt0cXR8hIyQjod+dnJzeoGJjo6JgXp1c3d+hImMiYN9d3R2eoCFiIiEf3t3d3p+goWGhIB9eHh6fICDhYSCf3t5eXt/gISEg4B9fHt7fYCDhIOCgH59fX6AgoODgH17e3yAgoSFg4B9e3l6fYCDhYSDgH17e3t9gIOEhIKAfXx7fH6AgoSDgX99e3t8fX+AgICAhoyNioJ4cG1weoSOlJOMgndwbnN8hY+SkYl/d3FxdXuGi4+Nhn93cnJ2foKJi4mFfnl1dXh8goeJiIJ/eHZ2eH2AhYeFg397eHd6fICEhoWDgHx7ent9gIOEhIOAf3x8fH1/gIKDg4OAgH18fH1+gIKDg4KAgH18fH1/gIKDg4KAf318fH1/gIGCgYB/fXx8fHx9fX1+gYaOkI2GfHJsa298hZGWlJCDe3Btb3R/h5GTkYuAenFvcneBho2QjId+eXJydHmAhouMiYV+eXRzdXmAhYiLh4V+enV1d3qAg4eIh4OAe3l4eHt+g4aHhoSBfnt5eXt9gIGCg4SFhIKAfnt5eXt+gIOFhoWDgHx6eXl7foCDhYWDgX98enp7fYCBgoOCgX99enl5eXt8f4CIj5GRioN3cGlqcXmFjpWXkoyAeXBtb3N8goyQkY+IgXlzcHB0eoGGjY6LiIB7dHFxdHuAhYmLioaBfHd0dHZ6f4OIiYiGgn96d3d3e3+BhIeIhoKAfXt5eXt+gIKDhIOBfXx+gIKDhIKAf3x8fHx+gIGDhISDgYB+fXx8fX+AgYKDg4KAgH99fX19fn+AgICAfn18enx+hYuPj4yHfXZwbnB0fIKLjpGQi4Z/eXNycnV7gIeLjY2LhoF8d3NzdHh+goaJi4mGgX56dXV1eHyAg4aIh4WCf3x5dnZ4e36BhIaHhoSBf3x6eXl7fYCChYaGhYOAfnx6ent8f4CBg4SEhIOBgH59fHx8fX+AgoOEg4KBgH59fX19fn+AgYKCgoGAgH9+fn19fX5/f4CAgIOGiYmHhX98d3V1dnp/g4eKi4qHg397eHZ2eHt/goaIiYiGgn97eXd3eHt/gYSGiIaEgX98eXh4eXt+gYOFhoWDgX98enl5ent+gIKEhYWDgX99e3p6e31/gYOFhYWDgYCAgH17eHh3eH2AhYeKioiFgH55d3Z2eHuAgoWHiIeEgn58eXh4eXx+gYSGh4aFg4B9e3p6e31/gIOFhoaFg4F+fHt6e3x+gYOEhoWEg4B/fHt7e31/gIKEhYSDgX99fHt7fH5/gYKEhIOBgH59e3t8fH6AgYKDg4GAf359fH19fn+AgYKCgYGAf35+fX5+f4CBgoKDgoKCg4OAfXh2dXV6foOHiouJh4F+eXZ1dXd8f4OHiIiGg398eXd3eXx/goWGh4aEgX99e3t8foGDg4KAgICAgIGCgYGAgH9/f4CAgIGBgYGAgIB/f39/gICAgICAgICAf39/f4CAgICAgICAgH9/f39/gICAgYGAgIB/f39/f4CAgIGBgYCAgH9/f39/gICBgYGBgICAgICAgoSFhH96d3V1eH2BhomLiYWBfHd0dHd7f4SHiYiEgXx4d3d5fYCDh4iHhIF+fHp6fX+DhYeGg4F9e3p7fX+DhYeHhIJ+fHl5fH6Bg4aGhIJ/fXp6e32AgoSFg4J/fXp6e32AgoSFg4J/fnt7e32AgYOEg4KAfnx8fH6AgYKDgoKAf319fX+AgYKCgoB/f35+f4CAgoKCgoKCgoJ/e3h3eHt/hIeJiIWBfHd1dnp/g4aIhoN/end3eX2BhIaGhIJ+fHp6fH+ChYaFg4F/fX19fn5/gYSFhYSBf3x7fH2AgoWFhIJ/fHt8fX+ChIWDgX98fHx9gIGDg4KAfn18fX+AgYKCgH9+fX1+f4GCgoKAf319fX+AgYKCgYB/fn5+f4CCgoKAf39+f3+AgYKCgYCAgICBgH99fHx+gIOFhYSBfnt6en1/g4SEg399enp7foGDhISBf317fH2AgoSEgoB/fX19f4CCgoKCgoB/fn5+f4GDg4OBf35+fn+AgoOCgX9/fn5/gIGCgoGAfn5+f4CBgYGBgH9+fn+AgIGBgICAf39/gICBgICAgH9/gICAgYCAgIB/gICAgIGAgICAgICAgICBgICAgICAgIGAgH9+foCAgYKCgYB+fn5+gIGCgoGAf35+foCBgYKBgIB+fn6AgIGBgYCAf35/f4CAgYGDg4GAf3x8fH+ChIWEgX98fHx/gYSFhIF/fX1+f4GDg4KAf359fn+BgoOCgH9+fX5/gYGCgYB/fn5+f4CBgYGAf39/f4CAgYGBgIB/f3+AgIGBgYCAf3+AgICBgYGAgICAgICAgYCAgH9/gICAgYGAgH9/f3+AgIGBgICAf3+AgICBgYCAgIB/gICAgICAgIB/f39/gICBgoOCgH99fHx/gYOFhIKAfnx8foCDhISDgX99fX5/gYOEgoF/fX1+f4CCgoKAgH99fX+AgYKCgYB/fn5/gICBgYGAgH9/f3+AgYGBgIB/f39/gICBgYCAgH9/f4CAgIGBgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYKDgoB/fXx8foCChIWEgX99fHx+gIKEhIOBgH19fX6AgYODgoB/fn19foCBgoKCgH9+fn5+gICCgoGAf39/f3+AgIGCgYCAf39/f4CAgYKBgIB/f39/gICAgYGAgIB/f3+AgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGCg4KBgH59fH1+gIKEhYSBgH59fX1/gIKDhIOBgH59fX5/gIKDg4KAgH59fX6AgIGCgoGAgH5+fn6AgIGCgoGAgH9+fn+AgICBgYGAgH9/f3+AgICBgYGAgIB/f4CAgICBgYGAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgoKCgYB/fn19foCAgoODgoGAf35+fn+AgYKDgoKAgH9+fn+AgIGCgoKAgH9/fn9/gICBgYKBgIB/f39/f4CAgYGBgYCAf39/f3+AgIGBgYCAgH9/f3+AgICBgYGAgICAgICAgICBgYCAgICAgICAgICBgYGAgICAgICAgICAgYGBgICAgICAgICAgICBgICAgICAgICAgICBgYGBgIB/f39/gICBgoKBgICAf39/gICAgYGBgYCAgH9/f4CAgIGBgYGAgICAf4CAgICBgYGAgICAgICAgICAgYGAgICAgICAgICAgIGBgICAgICAgICAgICBgICAgICAgICAgYGAgH9/f3+AgIGCgoGBgIB/f39/gICBgYGBgICAf39/gICAgYGBgYCAgICAgICAgIGBgYGBgICAgICAgICAgYGBgYCAgICAgICAgYGBgYCAgICAgICAgIGBgICAgICAgICAgIGBgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBgYGAgH9/f39/gICBgoKBgIB/f39/gICBgYGBgICAf39/gICBgYGBgICAgICAgICBgYGAgICAgICAgICBgYCAgICAgICAgICBgICAgICAgICAgICAgICAgICAgICAgICAgICA")
	};
	built_in_sounds.harpsichord.freq = 218;
	built_in_sounds.flute.freq = 388;
	built_in_sounds.boing.freq = 148;
}

function kill_audio()
{
	if (!audio_context)
		return;
	
	clearTimeout(audio_context.soundStopTimeout);
	audio_context.suspend();
	audio_context.close();
	audio_context = new (window.AudioContext || window.webkitAudioContext || function(){})({ latencyHint: 'interactive' });
	unlock_audio();
	audio_context.resume();
	sim.sound = '';
}

function unlock_audio()
{	
	check_audio();
	if (audio_context.unlocked)
		return;
	
	// create empty buffer
	var buffer = audio_context.createBuffer(1, 1, 22050);
	var source = audio_context.createBufferSource();
	source.buffer = buffer;
	
	// connect to output (your speakers)
	source.connect(audio_context.destination);
	
	// play the file
	source.start(0);

	audio_context.unlocked = true;	
	window.removeEventListener('touchstart', unlock_audio);
	window.removeEventListener('pointerdown', unlock_audio);
}
window.addEventListener('touchstart', unlock_audio, true);
window.addEventListener('pointerdown', unlock_audio, true);

function loadBase64Sound(base64snd, errorCallback)
{
	check_audio();

	// strip any "data:audio/wav;base64," style prefix
	base64snd = base64snd.substr(base64snd.indexOf(',') + 1);

	var snd = {snd: null, ready: false}
	audio_context.decodeAudioData(_base64ToArrayBuffer(base64snd), function(buffer) {
		snd.snd = buffer
		snd.ready = true
	}).catch(errorCallback);
	return snd;

	function _base64ToArrayBuffer(base64) {
		var binary_string = window.atob(base64);
		var len = binary_string.length;
		var bytes = new Uint8Array(len);
		for (var i = 0; i < len; i++) {
			bytes[i] = binary_string.charCodeAt(i);
		}
		return bytes.buffer;
	}
}

function playSnd(sound, freq, delay=0) {
	check_audio();

	if (!sound.ready) return;
	let source = audio_context.createBufferSource();
	source.buffer = sound.snd;
	source.connect(audio_context.destination);
	
	source.playbackRate.value = ((sound.freq && sound.freq/261.616) || 1) * ((freq && freq/261.616) || 1);
	source.start(audio_context.currentTime + delay/1000, 0);
}

function perform_play_note(freq, time, delay=0)
{	
	check_audio();

	var gainNode = audio_context.createGain();
	gainNode.connect(audio_context.destination);
	
	var oscillator = audio_context.createOscillator();
	
	oscillator.connect(gainNode);
	oscillator.frequency.value = freq || 240;
	
	var startTime = audio_context.currentTime + delay/1000;
	oscillator.start(startTime);
	//setTimeout(()=>oscillator.stop(), time || 250);

	oscillator.frequency.setValueAtTime(freq || 240, startTime);
	gainNode.gain.setValueAtTime(50, startTime);
	gainNode.gain.linearRampToValueAtTime(1, startTime+.00001);
	gainNode.gain.linearRampToValueAtTime(0, startTime + (time || 250)/1000 + .0001);
}
function parse_freq_and_octave(note, default_octave=4) 
{
	//console.log(note);
	note = String(note).toUpperCase();
	//debugger;
	// https://newt.phys.unsw.edu.au/jw/notes.html
	if (parseInt(note[0]) && typeof parseInt(note) === 'number')
		return { freq: 440 * Math.pow(2,(parseInt(note)-69)/12), octave: 0 };
	
	if (note.substr(-1)=='.')
		note = note.substr(0,note.length-1);
	if ("WHQESTXO".indexOf(note.substr(-1)) != -1 && note.length > 1)
		note = note.substr(0,note.length-1);
		
	var notes = ['A', 'A#', 'B', 'C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#'], octave = 0, keyNumber;
	
	if (/\d/.test(note.slice(-1)))
		{ octave = note.slice(-1); note = note.slice(0, -1); }
	
	if (note[0] == 'R')
		return { freq: 0, octave };
	
	var flatten = 0;
	if (note.length > 1 && note.substr(-1)=='B')
		{ note = note.substr(0,note.length-1); flatten = -1; }

	keyNumber = notes.length-1 - notes.reverse().findIndex((n)=>note.substr(0,n.length)==n) + flatten;
	//console.log(note,flatten, keyNumber);
	
	//if (keyNumber == -1)
	//	return 0;
	
	if (keyNumber < 3) {
		keyNumber = keyNumber + 12 + (((octave||default_octave) - 1) * 12) + 1; 
	} else {
		keyNumber = keyNumber + (((octave||default_octave) - 1) * 12) + 1; 
	}
	
	return { freq: 440 * Math.pow(2, (keyNumber- 49) / 12), octave };
}
function get_relative_duration(note, prevDuration=0.25)
{
	var dotted;
	if (note.substr(-1)=='.')
		{ dotted = true; note = note.substr(0,note.length-1); }
	
	var i = "WHQESTXO".indexOf(note.substr(-1));
	if (i == -1 || note.length < 2) return prevDuration;	// length < 2 disallows plain "e" note becoming whole
	return Math.pow(2,-(i)) * (dotted ? 1.5 : 1);
}

function perform_system_beep() 
{	
	playSnd(built_in_sounds.beep);
}

// perform_classic_play_command("harpsichord aw b c de de ee fe gw gs gs gs a#w");
function perform_classic_play_command(first, notes)
{
	check_audio();

	var narray = notes ? String(notes).toUpperCase().split(/\s+/) : []
	narray.unshift(String(first));
	var sndName = narray[0], snd = sim.stack.localWAVs[sndName.toLowerCase()] || built_in_sounds[sndName.toLowerCase()];
	if (snd) narray.shift();
	var rd = 0.25, t = 0, tempo = 2, octave = 4, snd_duration = 0;
	if (narray[0] && narray[0].toLowerCase()=='tempo') { narray.shift(); tempo = 250 / number(narray.shift()); }
	if (snd && !narray.length) { narray = ['C']; snd_duration = snd.ready && snd.snd.duration; }
	narray = narray.map((w)=>{ var fo = parse_freq_and_octave(w,octave); octave=(fo.octave||octave); return [fo.freq, snd_duration || (rd=get_relative_duration(w,rd))]; });
	rd = 0.25;
	if (audio_context.soundStopACTime > audio_context.currentTime) t = (audio_context.soundStopACTime - audio_context.currentTime)*1000;
	narray.forEach((n)=>{ rd = n[1] || rd; if (n[0]) snd ? playSnd(snd, n[0], t) : perform_play_note(n[0], 1000*rd*tempo, t); t += snd_duration*1000 || 1000*rd*tempo; });
	sim.sound = snd ? sndName : 'tone';
	audio_context.soundStopACTime = audio_context.currentTime + t/1000;
	clearTimeout(audio_context.soundStopTimeout);
	audio_context.soundStopTimeout = setTimeout(()=>{ if (!audio_context.soundStopACTime || audio_context.currentTime >= audio_context.soundStopACTime) sim.sound=''; }, t+10);
}
	
/*
	A billion gigabytes of thanks to HC retrohackers for figuring out WOBA.
*/

function renderWOBA(WOBA, ctx, magnify)
{
	try
	{
		var boundsRect = new Rectangle(WOBA[1], WOBA[0], WOBA[3]-WOBA[1], WOBA[2]-WOBA[0]);
		var maskRect = new Rectangle(WOBA[5], WOBA[4], WOBA[7]-WOBA[5], WOBA[6]-WOBA[4]);
		var imageRect = new Rectangle(WOBA[9], WOBA[8], WOBA[11]-WOBA[9], WOBA[10]-WOBA[8]);
		var mbytes = new Uint8Array(atob(WOBA[12]).split('').map((c)=>c.charCodeAt(0)));
		var ibytes = new Uint8Array(atob(WOBA[13]).split('').map((c)=>c.charCodeAt(0)));
		var maskPixels = WOBA[12].length && decodeWOBA(boundsRect, maskRect, mbytes, 0, mbytes.length);
		var imagePixels = WOBA[13].length && decodeWOBA(boundsRect, imageRect, ibytes, 0, ibytes.length);
		var imgData = ctx.createImageData(boundsRect.width * magnify, boundsRect.height * magnify);
		
		var b = 0;
		for (var br = 0; br < boundsRect.height; br++)
			{
				var i = br * boundsRect.width*magnify*magnify*4;
				for (var bc = 0; bc < boundsRect.width; bc++)
					{
						var color, alpha;
						if (imagePixels && imagePixels[Math.floor(b/8)] & (0x80>>(b%8)))
							{ color = 0; alpha = 255; }
						else if (maskPixels && maskPixels[Math.floor(b/8)] & (0x80>>(b%8)))
							{ color = 255; alpha = 255; }
						else if (!maskPixels && bc >= maskRect.x && bc < maskRect.x+maskRect.width && br >= maskRect.y && br < maskRect.y+maskRect.height)
							{ color = 255; alpha = 255; }
						else
							{ color = 0; alpha = 0; }
						
						for (var mr=0; mr<magnify; mr++)
							{
								for (var mc=0; mc<magnify; mc++)
									{ 
										imgData.data[i+0 + mc*4 + mr*boundsRect.width*magnify*4] 
										= imgData.data[i+1 + mc*4 + mr*boundsRect.width*magnify*4] 
										= imgData.data[i+2 + mc*4 + mr*boundsRect.width*magnify*4] = color; 
										imgData.data[i+3 + mc*4 + mr*boundsRect.width*magnify*4] = alpha;
									}
							}
						i += 4*magnify;
						b++;
					}
			}
		
		//console.log(i,imgData.data.length/4,b,imagePixels.length*8);
		ctx.putImageData(imgData, 0, 0);
	}
	catch (e)
	{
		console.warn('Could not read WOBA');
	}
}

function pickupWOBA(ctx)
{
	var width = ctx.canvas.width, height = ctx.canvas.height;
	var imgData = ctx.getImageData(0, 0, width, height);
	var mbytes = new Uint8Array(width * height / 8);
	var ibytes = new Uint8Array(width * height / 8);
	// need to round up to nearest 32 pixels or whatever
	for (var y = 0; y < height; y++) {
		for (var x = 0; x < width; x+=8) {
			var pixel = (y * width + x) * 4, wloc = (y * width + x)/8;
			var mbyte = 0, ibyte = 0;
			for (var p = 0; p < 8; p++) {
				mbyte <<= 1;
				ibyte <<= 1;
				if (imgData.data[pixel+p*4+3] >= 128) {
					mbyte |= 1;
					if (imgData.data[pixel+p*4+0]+imgData.data[pixel+p*4+1]+imgData.data[pixel+p*4+2] < 128*3)
						ibyte |= 1;
				}
			}
			mbytes[wloc] = mbyte;
			ibytes[wloc] = ibyte;
		}
	}

	var WOBA = [
		0, 0, height, width,
		0, 0, height, width,
		0, 0, height, width,
		btoa(Array.from(encodeWOBA(new Rectangle(0,0,width,height), mbytes)).map((n)=>String.fromCharCode(n)).join('')),
		btoa(Array.from(encodeWOBA(new Rectangle(0,0,width,height), ibytes)).map((n)=>String.fromCharCode(n)).join(''))
	];
	return WOBA;
}
		
function Rectangle(x,y,width,height) { this.x = x; this.y = y; this.width = width; this.height = height; }

function snap32(/*Rectangle*/ r) {
	/*int*/ var left = r.x & ~0x1F;
	/*int*/ var right = r.x+r.width;
	if ((right & 0x1F) != 0) {
		right |= 0x1F;
		right++;
	}
	return new Rectangle(left, r.y, right-left, r.height);
}

//	private static byte[] decodeWOBA(Rectangle totr, Rectangle r, byte[] data, int offset, int l) {
function decodeWOBA(totr, r, data, offset, l) 
{
	/*Rectangle*/ var tr = snap32(totr);
	/*int*/ var trw = tr.width >> 3;
	/*Rectangle*/ var rf = snap32(r);
	/*int*/ var rw = rf.width >> 3;
	/*byte[]*/ var stuff = new /*byte[trw*tr.height]*/ Uint8Array(trw*tr.height);
	
	try
	{
		if (l == 0) {
			if (r.width > 0 && r.height > 0) {
				/*int*/ var sbyte = r.x >> 3;
				/*int*/ var sbit = r.x & 0x7;
				/*int*/ var ebyte = (r.x+r.width) >> 3;
				/*int*/ var ebit = (r.x+r.width) & 0x7;
				/*int*/ var base = trw*r.y;
				for (/*int*/ var y=r.y; y<r.y+r.height; y++) {
					stuff[base+sbyte] = /*(byte)*/(0xFF >> sbit);
					for (/*int*/ var x=sbyte+1; x<ebyte; x++) {
						stuff[base+x] = /*(byte)*/0xFF;
					}
					if (ebit>0) stuff[base+ebyte] = /*(byte)*/(0xFF << (8-ebit));
					base += trw;
				}
			}
		} else {
			/*int*/ var p = offset;
			/*int*/ var y = rf.y-tr.y;
			/*int*/ var base = trw*y + ((rf.x-tr.x) >> 3);
			/*int*/ var pp = base;
			/*int*/ var repeat = 1;
			/*int*/ var dh = 0, dv = 0;
			var patt = new Uint8Array([0xAA,0x55,0xAA,0x55,0xAA,0x55,0xAA,0x55]);
			while (y<rf.y-tr.y+rf.height && p<data.length) {
				var /*byte*/ opcode = data[p++];
				if ((opcode & 0x80) == 0) {
					/*int*/ var d = (opcode & 0x70) >> 4;
					/*int*/ var z = opcode & 0x0F;
					var /*byte[]*/ dat = new Uint8Array(d);//byte[d];
					for (/*int*/ var i=0; i<d; i++) dat[i] = data[p++];
					while ((repeat--) > 0) {
						pp += z;
						for (/*int*/ var i=0; i<d; i++) stuff[pp++] = dat[i];
					}
				} else if ((opcode & 0xE0) == 0xA0) {
					repeat = (opcode & 0x1F);
					continue;
				} else if ((opcode & 0xE0) == 0xC0) {
					/*int*/ var d = (opcode & 0x1F) << 3;
					var /*byte[]*/ dat = new /*byte[d];*/ Uint8Array(d);
					for (/*int*/ var i=0; i<d; i++) dat[i] = data[p++];
					while ((repeat--) > 0) {
						for (/*int*/ var i=0; i<d; i++) stuff[pp++] = dat[i];
					}
				} else if ((opcode & 0xE0) == 0xE0) {
					pp += ((opcode & 0x1F) << 4)*repeat;
				} else {
					switch (opcode) {
						case /*(byte)*/0x80: {
							var /*byte[]*/ dat = new /*byte[rw]*/ Uint8Array(rw);
							for (/*int*/ var i=0; i<rw; i++) dat[i] = data[p++];
							while ((repeat--) > 0) {
								for (/*int*/ var i=0; i<rw; i++) stuff[pp++] = dat[i];
								y++;
								base += trw;
								pp = base;
							}
							repeat = 1;
						}
							break;
						case /*(byte)*/0x81: {
							y += repeat;
							base += trw*repeat;
							pp = base;
							repeat = 1;
						}
							break;
						case /*(byte)*/0x82: {
							while ((repeat--) > 0) {
								for (/*int*/ var i=0; i<rw; i++) stuff[pp++] = -1;
								y++;
								base += trw;
								pp = base;
							}
							repeat = 1;
						}
							break;
						case /*(byte)*/0x83: {
							var /*byte*/ pb = data[p++];
							while ((repeat--) > 0) {
								patt[y & 0x7] = pb;
								for (/*int*/ var i=0; i<rw; i++) stuff[pp++] = pb;
								y++;
								base += trw;
								pp = base;
							}
							repeat = 1;
						}
							break;
						case /*(byte)*/0x84: {
							while ((repeat--) > 0) {
								var /*byte*/ pb = patt[y & 0x7];
								for (/*int*/ var i=0; i<rw; i++) stuff[pp++] = pb;
								y++;
								base += trw;
								pp = base;
							}
							repeat = 1;
						}
							break;
						case /*(byte)*/0x85: {
							while ((repeat--) > 0) {
								for (/*int*/ var i=0; i<rw; i++) {
									stuff[pp] = stuff[pp-trw];
									pp++;
								}
								y++;
								base += trw;
								pp = base;
							}
							repeat = 1;
						}
							break;
						case /*(byte)*/0x86: {
							while ((repeat--) > 0) {
								for (/*int*/ var i=0; i<rw; i++) {
									stuff[pp] = stuff[pp-(trw*2)];
									pp++;
								}
								y++;
								base += trw;
								pp = base;
							}
							repeat = 1;
						}
							break;
						case /*(byte)*/0x87: {
							while ((repeat--) > 0) {
								for (/*int*/ var i=0; i<rw; i++) {
									stuff[pp] = stuff[pp-(trw*3)];
									pp++;
								}
								y++;
								base += trw;
								pp = base;
							}
							repeat = 1;
						}
							break;
						case /*(byte)*/0x88: dh = 16; dv = 0; break;
						case /*(byte)*/0x89: dh = 0; dv = 0; break;
						case /*(byte)*/0x8A: dh = 0; dv = 1; break;
						case /*(byte)*/0x8B: dh = 0; dv = 2; break;
						case /*(byte)*/0x8C: dh = 1; dv = 0; break;
						case /*(byte)*/0x8D: dh = 1; dv = 1; break;
						case /*(byte)*/0x8E: dh = 2; dv = 2; break;
						case /*(byte)*/0x8F: dh = 8; dv = 0; break;
					}
					continue;
				}
				
				repeat = 1;
				if (pp >= base+rw) {
					if (dh != 0) {
						var /*byte[]*/ row = new /*byte[rw]*/ Uint8Array(rw);
						for (/*int*/ var i=0; i<rw; i++) row[i] = stuff[base+i];
						/*int*/ var numshifts = (rw << 3)/dh;
						while ((numshifts--) > 0) {
							/*int*/ var acc = 0;
							for (/*int*/ var i=0; i<rw; i+=4) {
								/*int*/ var tmp = ((row[i] & 0xFF) << 24) | ((row[i+1] & 0xFF) << 16) | ((row[i+2] & 0xFF) << 8) | (row[i+3] & 0xFF);
								/*int*/ var rowi = acc | (tmp >>> dh);
								row[i] = /*(byte)*/((rowi >>> 24) & 0xFF);
								row[i+1] = /*(byte)*/((rowi >>> 16) & 0xFF);
								row[i+2] = /*(byte)*/((rowi >>> 8) & 0xFF);
								row[i+3] = /*(byte)*/(rowi & 0xFF);
								acc = tmp << (32-dh);
							}
							for (/*int*/ var i=0; i<rw; i++) stuff[base+i] ^= row[i];
						}
					}
					if (dv != 0 && y-dv >= 0) {
						for (/*int*/ var i=0; i<rw; i++) stuff[base+i] = /*(byte)*/(stuff[base+i] ^ stuff[(base-(trw*dv))+i]);
					}
					y++;
					base += trw;
					pp = base;
				}
			}
		}
	} catch (e) {
		//Malformed data did this to us.
		//HyperCard would just crashy crashy with malformed WOBA data;
		//we'll be better than that.
		throw e;
	}
	
	return stuff;
}

/*private static byte[]*/ function encodeWOBA(/*Rectangle*/ totr, /*byte[]*/ stuff) /*throws IOException*/ 
{
	/*
	* NOTE - For encoding, we do not currently implement all the features
	* necessary to get the smallest possible compression. We just implement
	* a smaller subset of possible operations.
	*/
	/*int*/ var bpr = snap32(totr).width >> 3;
	/*ByteArrayOutputStream*/ var out = /*new ByteArrayOutputStream()*/ [];
	/*byte[]*/ var patt = [0xAA,0x55,0xAA,0x55,0xAA,0x55,0xAA,0x55];
	/*byte[]*/ var prevprevrow = null;
	/*byte[]*/ var prevrow = null;
	for (/*int*/ var y = 0, sy = 0; y < totr.height && sy < stuff.length; y++, sy += bpr) {
		/*byte[]*/ var row = new /*byte[bpr]*/ Array(bpr);
		/*byte*/ var npatt = stuff[sy];
		/*boolean*/ var isBlack = true;
		/*boolean*/ var isNewPattern = true;
		/*boolean*/ var isOldPattern = true;
		/*boolean*/ var isWhite = true;
		/*boolean*/ var isPrevRow = true;
		/*boolean*/ var isPrevPrevRow = true;
		for (/*int*/ var x = 0, sx = sy; x < bpr && sx < stuff.length; x++, sx++) {
			row[x] = stuff[sx];
			if (row[x] != /*(byte)*/0xFF) isBlack = false;
			if (row[x] != npatt) isNewPattern = false;
			if (row[x] != patt[y & 7]) isOldPattern = false;
			if (row[x] != /*(byte)*/0x00) isWhite = false;
			if (prevrow == null || row[x] != prevrow[x]) isPrevRow = false;
			if (prevprevrow == null || row[x] != prevprevrow[x]) isPrevPrevRow = false;
		}
		if (isWhite) out.push(0x81);
		else if (isBlack) out.push(0x82);
		else if (isPrevRow) out.push(0x85);
		else if (isPrevPrevRow) out.push(0x86);
		else if (isOldPattern) out.push(0x84);
		else if (isNewPattern) {
			out.push(0x83);
			out.push(npatt);
			patt[y & 7] = npatt;
		}
		else {
			out.push(0x80);
			out = out.concat(row);
		}
		prevprevrow = prevrow;
		prevrow = row;
	}
	return out;
}


function unpack_ICONs(resources)
{
	var workcanvas = document.createElement('canvas');
	var ImportedICONImages = {};
	resources.forEach((icon)=>{
		workcanvas.width = workcanvas.height = 34;
		var ctx = workcanvas.getContext('2d');
		var imgData = ctx.createImageData(32,32), bitmap = atob(icon.data);
		for (var i = 0; i < imgData.data.length; i += 4) 
		{
			var bit = bitmap.charCodeAt(Math.floor(i/32)) & (0x80>>((i/4)%8));
			imgData.data[i+0] = bit ? 0 : 255;
			imgData.data[i+1] = bit ? 0 : 255;
			imgData.data[i+2] = bit ? 0 : 255;
			imgData.data[i+3] = 255;
		}
		ctx.fillStyle = 'white';
		ctx.fillRect(0,0,workcanvas.width,workcanvas.height);
		ctx.putImageData(imgData,1,1);	// put it at 1,1

		var canvasWidth = workcanvas.width, canvasHeight = workcanvas.height, clickloc = {x:0,y:0}, context = ctx, dpr=1;
		var colorLayer = context.getImageData(0,0,canvasWidth,canvasHeight);
		var pixelStack = [[Math.floor(clickloc.x*dpr), Math.floor(clickloc.y*dpr)]];
		var time = Date.now(), pops = 0;
		var startR=(colorLayer.data[(Math.floor(clickloc.y*dpr)*canvasWidth + Math.floor(clickloc.x*dpr))*4]);
		var startG=(colorLayer.data[(Math.floor(clickloc.y*dpr)*canvasWidth + Math.floor(clickloc.x*dpr))*4+1]);
		var startB=(colorLayer.data[(Math.floor(clickloc.y*dpr)*canvasWidth + Math.floor(clickloc.x*dpr))*4+2]);
		var startA=(colorLayer.data[(Math.floor(clickloc.y*dpr)*canvasWidth + Math.floor(clickloc.x*dpr))*4+3]);
		//console.log(startR,startG,startB,startA);
		
		while(pixelStack.length)
		{
			var newPos, x, y, pixelPos, reachLeft, reachRight;
			newPos = pixelStack.pop();
			x = newPos[0];
			y = newPos[1];
			pops++;
			if (pops > 1000000) throw "aborting bucket";
			
			pixelPos = (y*canvasWidth + x) * 4;
			while(y-- >= 0 && matchStartColor(pixelPos))
				pixelPos -= canvasWidth * 4;
			pixelPos += canvasWidth * 4;
			++y;
			reachLeft = false;
			reachRight = false;
			while(y++ < canvasHeight-1 && matchStartColor(pixelPos))
			{							
				/*colorLayer.data[pixelPos] = 197;
				colorLayer.data[pixelPos+1] = 82;
				colorLayer.data[pixelPos+2] = 142;*/
				colorLayer.data[pixelPos+3] = 0;
				
				if(x > 0)
				{
					if (matchStartColor(pixelPos - 4))
					{
						if(!reachLeft){
							pixelStack.push([x - 1, y]);
							reachLeft = true;
						}
					}
					else if (reachLeft)
					{
						reachLeft = false;
					}
				}
				
				if(x < canvasWidth-1)
				{
					if (matchStartColor(pixelPos + 4))
					{
						if(!reachRight)
							{
								pixelStack.push([x + 1, y]);
								reachRight = true;
							}
					}
					else if (reachRight)
					{
						reachRight = false;
					}
				}
				
				pixelPos += canvasWidth * 4;
			}
		}
		
		function matchStartColor(pixelPos)
		{
			var r = colorLayer.data[pixelPos];	
			var g = colorLayer.data[pixelPos+1];	
			var b = colorLayer.data[pixelPos+2];
			var a = colorLayer.data[pixelPos+3];
			
			return (r===startR && g===startG && b===startB && a===startA);
		}
		
		workcanvas.width = workcanvas.height = 32;
		ctx = workcanvas.getContext('2d');
		ctx.clearRect(0,0,32,32);
		ctx.putImageData(colorLayer, -1, -1, 1, 1, 32, 32);
		
		ImportedICONImages[icon.ID] = workcanvas.toDataURL('image/gif');
		if (icon.name && !ImportedICONImages[icon.name]) ImportedICONImages[icon.name] = icon.ID;
	});
	
	return ImportedICONImages;
}


	</script>
	
	<style id=mutable-style>
		body { 
			--selected-part-outline: thin dotted black;
			--overlay-height: 100%; 
			--overlay-translate-y: 0px;
			}
	</style>
	<style>
		
		@font-face {
			/* https://fontsarena.com/sysfont-by-alina-sava/ */
			font-family: 'Chicago';
			src: url('ui-icons/sysfont.woff2') format('woff2');
			font-weight: normal;
			font-style: normal;
		}
		@font-face {
			/* https://fontstruct.com/fontstructions/show/1304775/geneva-9 */
			/* apparently needs to be used as 18px font which affects linespacing */
			font-family: 'GenevaNine';
			src: url('ui-icons/geneva-9-1.ttf');
			font-weight: normal;
			font-style: normal;
		}

		html, body { 
			min-height: 100%; 
			height: min(100%, 100vh); /* Chrome perceives 100vh to be the entire body -- in Dark Mode only!!! -- unless this is heeeeere. */
			margin: 0px;
			user-select: none; -webkit-user-select: none; 
			touch-action: manipulation;
			-webkit-text-size-adjust: none;
			-webkit-touch-callout: none;
			-webkit-tap-highlight-color: transparent;	
			/*supported-color-schemes: light dark;*/ /* supporting it will change all the text colors */
			--layout-padding-left: 2px; //min(1em, 0.1vw);
			--layout-padding-top: 2px; //min(1em, 0.5vh);
			
			box-sizing: border-box;
			image-rendering: pixelated;
			image-rendering: -moz-crisp-edges;
			image-rendering: crisp-edges;
		}
		body {
			background: url(ui-icons/dots.png);
			background-size: 32px 32px;
		}
		body #reference, body x#spacetr, body x#toolbartr { background: white; }
		body x#toolbartr > td { border-bottom: thin dotted gray; }
		
		body #copyright, #referencedetails > summary { color: gray; text-shadow: -1px -1px 0px white, 1px 1px 0px white, 1px -1px 0px white, -1px 1px 0px white; }
		
		#innerbody { position: relative; }
		body.drag-target #innerbody:after
		{
			position: fixed; top: 0; left: 0; content: "";
			width: 100%; height: 100%;
			outline: 1px dashed gray; outline-offset: -2px; xbackground: #8882;
			z-index: 50;
		}
		
		/* for the safari clipping bug in fullscreen, try adding -webkit-transform: translate3d(0,0,0); to the dialog. the bug doesn't affect unzoomed stuff so translating the unzoomed inactive windows is safe */
		#stackcontainer modal-dialog { transition: filter 0.25s, transform 0.25s ease-out; transform-origin: center; --window-order: 0; transform: translate3d(0,0,0); }
		#stackcontainer modal-dialog:not(.current) { filter: sepia(10%); transform: perspective(calc(2000px + calc(50px * var(--window-order)))) translate3d(0,0,calc(-50px * var(--window-order))) rotate3d(1,1,1,1deg); }

		@media (max-width: 450px) {
			#partinfo, #floatmenuexpander { display: none; }
			
		}
		@media (pointer: fine) {
			body:not(.fullscreen) #layout > tbody > tr:first-of-type > td { xborder-top: thick solid transparent; }
			body:not(.fullscreen) #layout > tbody > tr > td:first-of-type { border-left: thick solid transparent; }
			body:not(.fullscreen) #copyright { border: medium solid transparent; }
		}
		
		@media (prefers-color-scheme: dark) { 
			body { background: #111; --dark-mode-softwhite: #CCC; --dark-mode-white: white; --dark-mode-inversion: invert(100%); }
			body, stack-part, .lightmode, input[type=color] { filter: var(--dark-mode-inversion); }
			.lightmode { background: white; }
			body { --dark-mode-link-inversion: var(--dark-mode-inversion); }
			#stackcontainer { --dark-mode-link-inversion: none; }
			a { /*filter: var(--dark-mode-link-inversion); color: lightblue;*/ color: #888; }
			#stackcontainer a { color: #444; }

			/* can't nest, but we could make a body class that indicates the stack is selected */
			x::selection { background-color: #4d3823; color: white; } /* B2C7DC is blue, #4d3823 is inverse */
			x#stackcontainer::selection { background: highlight; color: revert; }
			::selection { background-color: #4d3823; xcolor: white; } /* B2C7DC is blue, #4d3823 is inverse */
			#stackcontainer::selection { background: highlight; xcolor: revert; }
		}
		#stackcontainer a { cursor: var(--pointer-cursor), pointer; }
		
		div[contenteditable] 
			{ user-select: initial; -webkit-user-select: initial; }
		body.contextmenu {
			--context-menu-none: none;
		}
		
		.fingersize button-part:not([hilite="true" i]) { border-color: #AAA; }
		
		@media (pointer: coarse) {	
			.fingersize.simple { font-size: 1.5em; }
		}
		@media (pointer: coarse) and (min-width: 500px) {	
			.fingersize button-part { font-size: max(1em, calc(0.75em + 1vw)); }
			field-part.fingersize  { font-size: max(1em, calc(0.75em + 1vw)); }
			.intertoolbar .fingersize { transform-origin: 25% top; transform: scale(1.5); }
		}
		@media (pointer: coarse) and (max-width: 750px) {
			html {
				min-height: calc(100% + env(safe-area-inset-top));
				padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
				background: black;
			}
			#innerbody { 
				xborder-radius: 8px; background: white;
			}
		}
		@media (pointer: coarse) and (max-width: 750px) and (prefers-color-scheme: light)
		{
			#innerbody { 
				border-radius: 8px;
			}
		}
	</style>
		
</head>
	
<body>		
	<h1 style="position: absolute; opacity: 0; top: -100%;">Import and simulate HyperCard stacks and stack archives.</h1>

	<div id=windowheight style="position: absolute; left: -2px; width: 1px; top: 0px; bottom: 0px;"></div>
	
	<input id=body_focus_proxy type=text tabindex=-1 style="position: absolute; left: -500px; top: -1000px;">

	<div id=NBU2>
			-> 
		</div>
		<style>
			#NBU2 { position: absolute; top: -1000px; width: 30000px; }
			#NBU2 > div { display: inline-block; }
		</style>
		<script>
			
			document.addEventListener('selectionchange',(event)=>{ 
				if (!NBU2.active_range_hold)
					NBU2.active_range = getSelection().rangeCount && getSelection().getRangeAt(0);
			}); 

			NBU2.sequence = 0;
			NBU2.RegisterAction = function(undo_function, redo_function) {
				NBU2.active_range_hold = true;
				NBU2.active_range = getSelection().rangeCount && getSelection().getRangeAt(0);
				getSelection().removeAllRanges();

				this.querySelectorAll('div[undone=true]').forEach((d)=>this.removeChild(d));
				
				var div = document.createElement('div');
				window.setTimeout(()=>{
					div.setAttribute('sequence', ++NBU2.sequence);
					div.setAttribute('undone', false);
					div.setAttribute('tabindex', -1);
					this.appendChild(div);
					div.contentEditable = true;
					getSelection().selectAllChildren(div);
					document.execCommand('insertHTML',false,String(NBU2.sequence));
	
					div.onkeydown = function(event) { event.preventDefault(); return false; }
					div.oninput = function(event) { 
						getSelection().removeAllRanges();
						if (NBU2.active_range)
							getSelection().addRange(NBU2.active_range);
						if (this === document.activeElement)
							this.blur();	
	
						if (parseInt(this.innerText)) { this.setAttribute('undone', false); redo_function(); }
						else { this.setAttribute('undone', true); undo_function(); }
					};
	
					getSelection().removeAllRanges();
					if (NBU2.active_range)
						getSelection().addRange(NBU2.active_range);
					if (div === document.activeElement) {
						div.blur();	
						document.body.focus();
					}
					NBU2.active_range_hold = false;
				}, 0);
				return div;
			}
			
			NBU2.Undo = function(beyond) { 
				if (!beyond)
					document.execCommand('undo'); 
				else setTimeout(uaf);
				function uaf() { 
					if (NBU2.active_range_hold=(beyond.parentNode && beyond.getAttribute('undone')=='false'))
						{ document.execCommand('undo'); setTimeout(uaf); }
					}
			}
			NBU2.Redo = function(beyond) { 
				if (!beyond)
					document.execCommand('redo'); 
				else setTimeout(raf);
				function raf() { 
					if (NBU2.active_range_hold=(beyond.parentNode && beyond.getAttribute('undone')=='true'))
						{ document.execCommand('redo'); setTimeout(raf); }
					}
			}
					
		</script>




<element-template tag="marching-ants" attributes="inset=0,visible">
<template><style>
	:host 
	{
		position: absolute; left: 0px; top: 0px; width: 100px; height: 100px;
		background-image: linear-gradient(to right, #FFFF 50%, #000F 50%), 
			linear-gradient(to right, #FFFF 50%, #000F 50%), 
			linear-gradient(to bottom, #FFFF 50%, #000F 50%), 
			linear-gradient(to bottom, #FFFF 50%, #000F 50%);
		background-size: 8px 1px, 8px 1px, 1px 8px, 1px 8px;
		background-position: 0 0, 0 100%, 0 0, 100% 0;
		background-repeat: repeat-x, repeat-x, repeat-y, repeat-y;
		animation: ants-border 0.25s infinite 0.1s linear;	
		pointer-events: none;
		transform: translate3d(0,0,0);
	}
	:host(:not([visible="true" i])) {
		display: none;
	}
	@keyframes ants-border
	{
		0% { background-position: 0 0, 0 100%, 0 0, 100% 0; }
		100% { background-position: 8px 0, -8px 100%, 0 -8px, 100% 8px; }
	}
</style></template>
<script>
function marching_ants(element, template)
{
	function fit(target, mutationZone)
	{
		var left = target.offsetLeft, top = target.offsetTop, parent = target.offsetParent;
		while (parent && parent !== element.parentNode && parent !== element.getRootNode().host) {
			//console.log(parent);
			var cs = getComputedStyle(parent);
			left += parseFloat(cs.borderLeftWidth) + parent.offsetLeft - parent.scrollLeft;
			top += parseFloat(cs.borderTopWidth) + parent.offsetTop - parent.scrollTop;
			parent = parent.offsetParent;
		} 
			
		element.style.left = left + parseFloat(element.inset) + 'px';
		element.style.top = top + parseFloat(element.inset) + 'px';
		element.style.width = target.offsetWidth - 2*parseFloat(element.inset) + 'px';
		element.style.height = target.offsetHeight - 2*parseFloat(element.inset) + 'px';
	}
	
	var mo;
	return {
		setTarget(target, mutationZone)
		{
			if (mo) 
				{ mo.disconnect(); mo = null; }
			element.visible = !!target;
			if (!mutationZone) 
				mutationZone = target.parentNode;
			if (target) {
				(mo=new MutationObserver((mlist)=>{
					fit(target, mutationZone);
				})).observe(mutationZone, {childList: true, attributes: true, characterData: true, subtree: true});
				fit(target, mutationZone);
			}
		}
	};
}
</script>
</element-template>




<element-template tag=xtalk-common-template attributes="name='',script=''">
	<script>"use strict";
		function xtalk_common_template(element, template)
		{
			return {
				set script(value) 
					{ new XTalk(element, value); if (XTalk.ScriptWasChanged) XTalk.ScriptWasChanged(); },
				set longName(value) {
					element.name = value;
				},
				get longName() {
					var type = element.nodeName.toLowerCase().split('-',1)[0];
					if (type == 'stack')
						return 'stack "'+element.name+'"';
					if (type == 'button' || type == 'field')
						type = { 'card-part': 'card ', 'background-part': 'bkgnd ', '-': '' }[(element.closest('card-part,background-part')||{nodeName:'-'}).nodeName.toLowerCase()] + type;
					return type + ' ' + (element.name ? '"'+element.name+'"' : element.id ? 'id ' + element.id : element.number);
				},
				set longID(value) {
					element.id = value;
				},
				get longID() {
					var type = element.nodeName.toLowerCase().split('-',1)[0];
					if (type == 'stack')
						return 'stack "'+element.name+'"';
					if (type == 'button' || type == 'field')
						type = { 'card-part': 'card ', 'background-part': 'bkgnd ', '-': '' }[(element.closest('card-part,background-part')||{nodeName:'-'}).nodeName.toLowerCase()] + type;
					return type + ' ' + (/*element.name ? '"'+element.name+'"' :*/ element.id ? 'id ' + element.id : element.number);
				},
				get longNumber() {
					var type = element.nodeName.toLowerCase().split('-',1)[0];
					if (type == 'stack')
						return 'stack "'+element.name+'"';
					var layerName = { 'card-part': 'card ', 'background-part': 'bkgnd ', '-': '' }[(element.closest('card-part,background-part')||{nodeName:'-'}).nodeName.toLowerCase()];
					return layerName + ((type == 'button' || type == 'field') ? type : '') + (element.owner ? ' ' + element.number : '');
				}
			};
		}
	</script>
</element-template>







<element-template tag=stack-part inherits=xtalk-common-template attributes="width=512,height=342,tool=Browse,visualEffect='',importedICONs,importedICONResources,importedWAVs,importedPLTEs,importedPICTs,importedCURSs,importedColorData,buttonCSSFont,fieldCSSFont">
	<template><slot></slot><marching-ants inset=0></marching-ants><style>
		:host 
		{ 
			display: inline-block; 
			position: relative;
			background: white;
			--pointer-cursor: url(ui-icons/BrowseCursor.bmp) 6 0;
			cursor: var(--pointer-cursor), pointer; 
			xcontain: paint size style; /* layout triggers 4px margin below us */

		}
	</style></template>
	<style>
		
		stack-part { 
			--card-width: 512px; --card-height: 342px; 
			--modal-dialog-modal-absolute: absolute;
			outline: none;
			position: relative;
			z-index: 0;
			width: var(--card-width); 
			height: var(--card-height);
		}
		stack-part { 			
			user-select: none; -webkit-user-select: none; 
			-webkit-text-size-adjust: none;
			-webkit-touch-callout: none;
			-webkit-tap-highlight-color: transparent;	
		}
		stack-part > card-part > * 
			{ transform: translate3d(0,0,0); } 	/* this, finally, seems to fix the ghastly transform clipping bug in Safari */
			
		stack-part div[contenteditable]
			{ user-select: initial; -webkit-user-select: initial; }
		.bold { font-weight: bold; } 
		.underline { text-decoration: underline; } 
		.italic { font-style: italic; } 
		.outline { -webkit-text-stroke: 0.25px black; text-stroke: 0.25px black; color: white; caret-color: black; font-weight: bold; }
		.shadow { text-shadow: 1px 1px 2px gray; }
		.outline.shadow { text-shadow: 1px 1px 0px black; letter-spacing: 1px; }
		.condense:not(.extend) { letter-spacing: -1px; }
		.extend:not(.condense) { letter-spacing: 1px; }
		.group { text-decoration: underline; text-decoration-style: dotted; text-decoration-thickness: 2px; }
		[textAlign="left" i] { text-align: left; }
		[textAlign="center" i] { text-align: center; }
		[textAlign="right" i] { text-align: right; }
		
		stack-part.background-mode {
			--stack-background-mode-empty-url: url();
			--stack-background-mode-cover: cover;
			--stack-background-mode-normal: normal;
		}
		
		modal-dialog.frameless stack-part {
			margin: 0;
		}
		modal-dialog.frameless stack-part card-part.current {
			/*box-shadow: none !important; */
		}
		modal-dialog stack-part:not(.background-mode) card-part.current {
			xbox-shadow: 1px 1px 0px black;
		}
		/* these really draw over the window frame */
		/*stack-part.background-mode card-part.current {
			outline: 1px dotted white;
		}
		@media (prefers-color-scheme: dark) { 
			stack-part.background-mode card-part.current {
				outline: 1px dotted black;
			}
		}*/
		stack-part:not(.background-mode) card-part {
			--override-backgrounded-card-color: transparent;
		}
		stack-part card-part:not(.current) { 
			display: none;	/* huge speedup */
		}
		
		stack-part.background-mode > card-part {
			background: transparent !important;
			--background-mode-none: none;
			--background-mode-hidden: hidden;
		}
		stack-part.background-mode > card-part > * {
			display: none;
		}

		body.command.option stack-part[tool="Button" i]:not(.background-mode), body.command.option stack-part[tool="Field" i]:not(.background-mode) { 
			--card-button-part-outline: 2px dotted black; 
			--card-field-part-outline: 2px dotted black;
		} 
		
		body.command.option stack-part[tool="Button" i].background-mode, body.command.option stack-part[tool="Field" i].background-mode { 
			--bkgnd-button-part-outline: 2px dotted black; 
			--bkgnd-field-part-outline: 2px dotted black;
		} 
		
		body.command.option stack-part[tool="Button" i] { --bkgnd-button-part-outline: 2px dotted black; } 
		body.command.option stack-part[tool="Field" i] { --bkgnd-field-part-outline: 2px dotted black; } 
		body.command.option.shift stack-part[tool="Button" i] { --bkgnd-field-part-outline: 2px dotted black; } 
		body.command.option.shift stack-part[tool="Field" i] { --bkgnd-button-part-outline: 2px dotted black; } 
		
		body.command.option stack-part:not([tool]):not(.background-mode) 
		{ --card-button-part-outline: 2px dotted black; --card-field-part-outline: 2px dotted black; } 
		body.command.option stack-part:not([tool])/*.background-mode*/  
		{ --bkgnd-button-part-outline: 2px dotted black; --bkgnd-field-part-outline: 2px dotted black; } 
		
		body.command.option:not(.contextmenu) stack-part {
			--card-or-bkgnd-part-pointer-events: none;
		}
		body:not(.contextmenu) stack-part[tool] {
			--card-or-bkgnd-part-pointer-events: none;
		}
		
		body.command.option stack-part > card-part *[visible="false" i],
		stack-part[tool="Button" i] > card-part button-part[visible="false" i],
		stack-part[tool="Field" i] > card-part field-part[visible="false" i]
		{
			--override-visibility: initial;	/* this causes an overlay to block things you need to work on; i think it should be sorted last in the list */
			opacity: 0.25;
			z-index: 0;
		}
		stack-part
		{ --tool-touch-action: none; }
		stack-part[tool] 
		{ cursor: default; }
		stack-part[tool="Pencil" i],
		stack-part[tool="Brush" i],
		stack-part[tool="Eraser" i],
		stack-part[tool="Bucket" i], 
		stack-part[tool="Line" i], 
		stack-part[tool="Rectangle" i], 
		stack-part[tool="Round Rect" i], 
		stack-part[tool="Oval" i], 
		stack-part[tool="Curve" i], 
		stack-part[tool="Polygon" i], 
		stack-part[tool="Select" i] 
		{ cursor: crosshair; }
		stack-part[tool="Text" i]
		{ cursor: text; }
		stack-part[tool="Pencil" i]:active,
		stack-part[tool="Brush" i]:active,
		stack-part[tool="Eraser" i]:active
		stack-part[tool="Line" i]:active, 
		stack-part[tool="Rectangle" i]:active, 
		stack-part[tool="Round Rect" i]:active, 
		stack-part[tool="Oval" i]:active, 
		stack-part[tool="Curve" i]:active, 
		stack-part[tool="Polygon" i]:active 
		{ cursor: none; }
		
		body.command:not(.option) stack-part[tool="Button" i], body.command:not(.option) stack-part[tool="Field" i] 
		{ cursor: crosshair; }
		
		body:not(.contextmenu) stack-part[tool] > card-part *:not(field-part) {
			-webkit-user-select: none; user-select: none;
			pointer-events: none;
		}
		body:not(.contextmenu) stack-part[tool="Field" i] > card-part field-part {
			-webkit-user-select: none; user-select: none;
			xpointer-events: none;
		}
		
		stack-part[tool="Button" i], stack-part[tool="Field" i] {
			--card-button-part-outline: 1px solid gray;  
			--bkgnd-button-part-outline: 1px solid gray; 
			--card-field-part-outline: 1px solid gray; 
			--bkgnd-field-part-outline: 1px solid gray;
		}
		stack-part[tool="Field" i] field-part {
			--special-field-tool-background: repeating-linear-gradient(var(--background, transparent), var(--background, transparent) calc(1.125em - 1px), #CCC 1.125em);
			--special-field-tool-background-color-attribute: repeating-linear-gradient(var(--color-attribute, var(--background, transparent)), var(--color-attribute, var(--background, transparent)) calc(1.125em - 1px), #CCC 1.125em);
		}
		stack-part[tool="Button" i]:not(.background-mode) 
			{ --card-button-part-outline: 1px solid black; --bkgnd-button-part-outline: 1px solid gray; }
		stack-part[tool="Field" i]:not(.background-mode) 
			{ --card-field-part-outline: 1px solid black; --bkgnd-field-part-outline: 1px solid gray; }
		stack-part[tool="Button" i].background-mode { --bkgnd-button-part-outline: 1px solid black; }
		stack-part[tool="Field" i].background-mode { --bkgnd-field-part-outline: 1px solid black; }

		/* recent card visual effects */
		stack-part card-part { clip-path: inset(0px 0px); }	/* this doesn't seem to trigger safari xor drawing bug! but i don't even like the clippath animation*/
		
		stack-part card-part.forward-card:not(.current) {
			display: initial;
			position: absolute; left: 0px; top: 0px;
			background: white;
			z-index: 2;
			opacity: 0;
			pointer-events: none;
		}
		
		stack-part[visualEffect] { --visual-effect-duration: 0.5s; }
		stack-part[visualEffect~="slow" i], stack-part[visualEffect~="slowly" i] { --visual-effect-duration: 1s; }
		stack-part[visualEffect~="very" i][visualEffect~="slow"], stack-part[visualEffect~="very" i][visualEffect~="slowly" i] { --visual-effect-duration: 2s; }
		stack-part[visualEffect~="fast" i] { --visual-effect-duration: 0.25s; }
		stack-part[visualEffect~="very" i][visualEffect~="fast" i] { --visual-effect-duration: 0.1s; }
		
		stack-part[visualEffect] > card-part.forward-card:not(.current) {
			transition: transform 0.0s;
			transform: scale(1) translate(0,0);
		}
		stack-part[visualEffect~='left'] > card-part.forward-card:not(.current) {
			transition: transform var(--visual-effect-duration) , opacity 0s var(--visual-effect-duration) ;
			transform: scale(1) translate(-100%, 0px);
		}
		stack-part[visualEffect~='right'] > card-part.forward-card:not(.current) {
			transition: transform var(--visual-effect-duration), opacity 0s var(--visual-effect-duration) ;
			transform: scale(1) translate(100%, 0px);
		}
		stack-part[visualEffect~='up'] > card-part.forward-card:not(.current) {
			transition: transform var(--visual-effect-duration) , opacity 0s var(--visual-effect-duration) ;
			transform: scale(1) translate(0px, -100%);
		}
		stack-part[visualEffect~='down'] > card-part.forward-card:not(.current) {
			transition: transform var(--visual-effect-duration), opacity 0s var(--visual-effect-duration) ;
			transform: scale(1) translate(0px, 100%);
		}
		stack-part[visualEffect~='dissolve'] > card-part.forward-card:not(.current) {
			transition: transform var(--visual-effect-duration), opacity var(--visual-effect-duration);
			transform: scale(1) translate(0,0);
		}
		
	</style>
	<script>"use strict";
		document.addEventListener('keydown',(event)=>{
			if ('sim' in window && event.isTrusted && sim.stack && !body.classList.contains('command')
				&& (document.activeElement === body || sim.stack.contains(document.activeElement) || sim.stack.parentNode===document.activeElement)) 
				return sim.stack.card_key_down(event);
		});

		function stack_part(element,template) 
		{			
			var outline_marcher, sel_element;
			
			function stackpoint(event, allowOutOfBounds) {
				if (event.simulatedStackPoint)
					return event.simulatedStackPoint;
				if (event.clientX===undefined && event.touches[0]) 
					{ event.clientX = Math.floor(event.touches[0].clientX); event.clientY = Math.floor(event.touches[0].clientY); }

				var dp;
				if (element.matches('modal-dialog > stack-part')) {
					var dialog = element.parentNode.shadowRoot.qs('#dialog');
					var content = element.parentNode.shadowRoot.qs('#content');
					var x = event.clientX - content.getBoundingClientRect().x;
					var y = event.clientY - content.getBoundingClientRect().y;
					//console.log(element.parentNode, getComputedStyle(element.parentNode).getPropertyValue('--scale'));
					x /= parseFloat(getComputedStyle(element.parentNode).getPropertyValue('--scale') || 1);
					y /= parseFloat(getComputedStyle(element.parentNode).getPropertyValue('--scale') || 1);
					var dp = new DOMPoint(x,y);
					/*var dialogMatrix = new DOMMatrix(getComputedStyle(dialog).transform);
					var dp = dialogMatrix.inverse().transformPoint(new DOMPoint(x,y));*/
					if (!allowOutOfBounds) {
						dp.x = Math.min(element.width-1,Math.max(0,dp.x));
						dp.y = Math.min(element.height-1,Math.max(0,dp.y));
					}
				}
				else dp = new DOMPoint(event.clientX - element.getBoundingClientRect().x, event.clientY - element.getBoundingClientRect().y);
				dp.x = Math.floor(dp.x);
				dp.y = Math.floor(dp.y);
				return dp;
			}
			function offsetrect(rect,x,y) {
				return [rect[0]+x,rect[1]+y,rect[2]+x,rect[3]+y];
			}
			function get_visible_buttonorfield_at(clientX, clientY)
			{
				var layer = element.currentLayer, search = Array.from(layer.qsa(':scope [topLeft], :scope [topLeft] button-part'))
					.reverse()
					.concat(Array.from(layer.qsa(':scope button-part:not([topLeft]), :scope field-part:not([topLeft])')).reverse());
					
				if (layer.matches('card-part') && element.background) {
					search = search.concat(
						Array.from(element.background.qsa(':scope [topLeft]'))
						.reverse()
						.concat(Array.from(element.background.qsa(':scope button-part:not([topLeft]), :scope field-part:not([topLeft])')).reverse()));
				}

				var target = search.find((e)=>{
					do {
						if (!e.visible) return;
						var bcr = e.getBoundingClientRect();
						// this could be improved for buttons inside scrolling fields; make sure the click is in the parent BCR too
						// i did it but this is dumb, would be better to drill in with search. oh well whatever
						if (!(clientX >= bcr.x && clientX < bcr.right && clientY >= bcr.y && clientY < bcr.bottom)) return false;
					} while ((e=e.parentNode.closest('field-part')) && element.contains(e));
					return true;
				});
				return target && target.closest('button-part, field-part');
			}
			function card_mouse_down(event)
			{
				// just rewrite this entirely with the new stuff
				var clickloc = stackpoint(event), layer = element.currentLayer;
				
				if (element.tool=='Browse' && (!body.qs('#toolbar') || !body.matches('.command.option')))
					{
						/* regular click */
						//console.log('click started');
												
						// here's the problem: target is nothing in a simulated click.
						var target = element.partOfEvent(event,'button-part,field-part,card-part');
						if (!target)
							target = get_visible_buttonorfield_at(event.clientX, event.clientY) || layer;

						if (target.matches('button-part[enabled="false" i]')) 
							return;
						
						//console.log(target);
						// send the hc mouse messages
						var mouseloc = clickloc, activehover = true;
						sim.clickLoc = Math.round(clickloc.x)+','+Math.round(clickloc.y);
						sim.mouseLoc = Math.round(mouseloc.x)+','+Math.round(mouseloc.y);
						sim.mouse = 'down';
						element.mouse = 'down';
						element.mouseClick = true;
						element.isProcessingMouseDown = true;
												
						//XTalk.Send(target || layer, 'mouseDown');
						var isdown=true, msdtimeout=false, abortmsgs=false;
						function nextstep(success)
						{
							if (success===false) abortmsgs=true;
							cancelAnimationFrame(msdtimeout); msdtimeout = null;
							element.isProcessingMouseDown = isdown;
							if (!isdown) {
								if (activehover && target && target.matches(`button-part[family]`) && target.autoHilite && target.enabled != 'false') 
									target.hilite = true;
								if (!abortmsgs && !(target && target.matches(`button-part[type="Popup" i]`))) XTalk.Send(target || layer, activehover ? 'mouseUp' : 'mouseCancel', []);
								//console.log('click completed');
								element.isProcessingMouseDown = false;
								element.checkIfIdleMessagesAllowed();
							}
							else {
								msdtimeout = window.requestAnimationFrame(()=>{ msdtimeout=null; if (!abortmsgs) { msdtimeout=true; XTalk.Send(target || layer, 'mouseStillDown', [], nextstep); } });
							}
						}
						follow_mouse(event, 
							(event)=>{
								mouseloc = stackpoint(event);
								/*var fun = document.elementFromPoint(event.clientX, event.clientY);
								if (fun && fun.matches('card-part') && fun !== target)
									fun = fun.shadowRoot.elementFromPoint(event.clientX, event.clientY);
								if (event.type!='mousedown') 
									activehover = (target || layer).matches(":active:hover") || target.contains(fun);*/
								if (event.type!='mousedown') {
									var bcr = (target||layer).getBoundingClientRect();
									activehover = (event.clientX >= bcr.x && event.clientX < bcr.right && event.clientY >= bcr.y && event.clientY < bcr.bottom);
								}
								//sim.put(activehover + ' ' + Date.now() + fun.nodeName);
								sim.mouseLoc = Math.round(mouseloc.x)+','+Math.round(mouseloc.y);
								//sim.mouse = activehover ? 'down' : 'up';
								//sim.mouse = 'down';
							},
							(event, begin)=>{
								if (begin == true) {
									msdtimeout = true;
									XTalk.Send(target || layer, 'mouseDown', [], nextstep);
									return true;
								}
								else
								{
									isdown = false;	
									sim.mouse = 'up';
									element.mouse = 'up';
									if (begin == 'cancel') activehover = false;
									if (!msdtimeout) nextstep();
								}
							});
						
						return;
					}
				
				if (['pencil','eraser','bucket','line','rectangle','round rect','oval','curve','polygon','brush','select','text','martin'].includes(element.tool.toLowerCase())) 
					{
						/* painting tool click */
						if (element.tool.toLowerCase() =='text' && event.composedPath)
						{
							if (layer.shadowRoot.qs('.text-tool-overlay').contains(event.composedPath()[0]))
								return;	
							if (layer.shadowRoot.qs('.text-tool-overlay field-part'))
							{ 
								layer.shadowRoot.qs('.text-tool-overlay field-part').blur();
								//debugger;
							}
						}
					
						//element.focus();
						if (layer) paint_mouse_down(event, layer, clickloc);
						event.preventDefault(); event.stopPropagation();
						return;
					}
				
				/* what is it? */
				
				var tool_type_part = ''; (['Button','Field'].includes(element.tool) && element.tool.toLowerCase()+'-part') || '';
													
				var search = tool_type_part 
				? Array.from(layer.qsa(tool_type_part)).reverse() 
				: Array.from(layer.qsa(':scope [topLeft], :scope [topLeft] button-part')).reverse()
				.concat(Array.from(layer.qsa(':scope button-part:not([topLeft]), :scope field-part:not([topLeft])')).reverse());
				if (layer.matches('card-part') && element.background) {
					search = search.concat(tool_type_part 
						? Array.from(element.background.qsa(tool_type_part)).reverse() 
						: Array.from(element.background.qsa(':scope [topLeft]')).reverse()
						.concat(Array.from(element.background.qsa(':scope button-part:not([topLeft]), :scope field-part:not([topLeft])')).reverse()));
					//console.log(search);
				}
				//console.log(search);

									//debugger;
				var target = search.find((e)=>{
					do {
						if (!e.visible) return;
						var bcr = e.getBoundingClientRect();
						// this could be improved for buttons inside scrolling fields; make sure the click is in the parent BCR too
						// i did it but this is dumb, would be better to drill in with search. oh well whatever
						if (!(event.clientX >= bcr.x && event.clientX < bcr.right && event.clientY >= bcr.y && event.clientY < bcr.bottom)) return false;
					} while ((e=e.parentNode.closest('field-part')) && element.contains(e));
					return true;
				});
				target = target && target.closest('button-part, field-part');
				//console.log(target || layer);
				
				/* a command option click to script, or a command option shift click to inspect */
				
				if (body.matches('.command.option')) {
					if (body.classList.contains('fullscreen'))
						leaveFullscreen(true);
					/*if (target && (target.nodeName.toLowerCase()==element.tool.toLowerCase()+'-part' || body.classList.contains('shift'))) {
						body.qs('#toolbar button-part[name=\"' + target.nodeName.split('-')[0] + '\" i]').click();
						//element.tool = target.nodeName.split('-')[0];
						element.selectedPart = target;
					}*/
					launch_info_dialog(target || layer, !body.classList.contains('shift'));
				}
				else if (body.matches('.command:not(.fullscreen)')) 
				{
					element.selectedPart = null;
					var clickX = event.clientX, clickY = event.clientY;
					target = null;
					follow_mouse(event, (event)=>{
						var mouseloc = stackpoint(event);
						target.rect = [Math.min(clickloc.x,mouseloc.x),Math.min(clickloc.y,mouseloc.y),
							Math.max(clickloc.x,mouseloc.x),Math.max(clickloc.y,mouseloc.y)];
					}, (event,to_begin)=>{
						var wiggle = (Math.pow(event.clientX-clickX,2)+Math.pow(event.clientY-clickY,2) >= 16);
						if (!to_begin) {
							if (target && wiggle) element.selectedPart = target;
							else if (target) layer.removeChild(target);
						}
						else if (wiggle) {
							target = document.createElement(element.tool.toLowerCase()+'-part');
							target.ID = layer.maxID + 1;
							layer.appendChild(target);
							return true;
						}
					});
				}
				else if (target && (element.tool == 'Button' || element.tool == 'Field'))
				{
					tool_type_part = (['Button','Field'].includes(element.tool) && element.tool.toLowerCase()+'-part') || '';
					
					//console.log(element.tool.toLowerCase(), tool_type_part, element.tool.toLowerCase()+'-part' == tool_type_part);
					
					body.qs('#toolbar button-part[name=\"' + target.nodeName.split('-')[0] + '\" i]').click();
					element.selectedPart = target;
					
					if (event.detail == 2) 
						launch_info_dialog(target, body.classList.contains('shift'));
					else {
						var clickX = event.clientX, clickY = event.clientY, clickRect = target.rect;
						//console.log(clickRect);
						var lt = [clickRect[0] - (clickloc.x || clickX - layer.getBoundingClientRect().x), 
							clickRect[1] - (clickloc.y || clickY - layer.getBoundingClientRect().y), 
							clickRect[2] - (clickloc.x || clickX - layer.getBoundingClientRect().x), 
							clickRect[3] - (clickloc.y || clickY - layer.getBoundingClientRect().y)];
						var m = 12, resize = (lt[2] <= m && lt[3] <= m), newrect = clickRect, longpress = null, cancel_follow = false, cloned_target = null;
						
						if (matchMedia("(pointer:coarse)").matches)
							longpress = setTimeout(()=>{ cancel_follow = true; launch_info_dialog(target); }, 500);	
						
						follow_mouse(event, (event)=>{
							var mouseloc = stackpoint(event);
							if (resize) 
								newrect = [clickRect[0], clickRect[1], clickRect[2]+mouseloc.x-clickloc.x, clickRect[3]+mouseloc.y-clickloc.y];
							else {
								newrect = offsetrect(clickRect, mouseloc.x-clickloc.x, mouseloc.y-clickloc.y);
								newrect = offsetrect(newrect, -Math.min(0, newrect[0]), -Math.min(0, newrect[1]))
								newrect = offsetrect(newrect, -Math.max(0, newrect[2]-element.width), -Math.max(0, newrect[3]-element.height));
							}
							target.rect = newrect;
						}, (event,to_begin)=>{
							if (to_begin=='cancel')
								clearTimeout(longpress);
							else if (!to_begin) {
								element.selectedPart = target;
								element.refreshAddColorStage();
								if (window.NBU2) NBU2.RegisterAction(()=>{ if (cloned_target) layer.removeChild(target); else target.rect = clickRect; element.selectedPart = cloned_target||target; }, 
									()=>{ if (cloned_target) layer.appendChild(target); else target.rect = newrect; element.selectedPart = target; });
									}
									else if (cancel_follow)
										{ event.preventDefault(); return false; }
									else if (Math.pow(event.clientX-clickX,2)+Math.pow(event.clientY-clickY,2) >=16) {
										if (longpress) 
											clearTimeout(longpress);
										if (target.topLeft) {
											if (body.classList.contains('option')) 
												layer.appendChild(target = (cloned_target=target).cloneNode(true));
											element.selectedPart = null; 
											return true; 
										}
									}
								}, true);	// the true means always to end
							}
						}
					else {
						/* we dunno. bail */
						element.selectedPart = null;
						return;
					}
							
			return event.preventDefault();
		}	
						
		function paint_mouse_down(event, layer, clickloc)
		{
			var canvas = layer.canvas, context = layer.canvasContext2d, dpr = Math.round(window.devicePixelRatio||1);
			var canvasWidth = canvas.width, canvasHeight = canvas.height;
			var tool = element.tool.toLowerCase();
			
			var undoLayer = (!event.type.includes('simulated') || tool=='line') && context.getImageData(0,0,canvasWidth,canvasHeight);
			
			function allowundo(colorLayer)
			{
				if (!undoLayer) return;
				// so easy. could record max area to save space though, and put in weak map.
				// i'm starting to think mark canvas dirty needs infrastructure; the layers from two successive paints are the same.
				// currentData = markCanvasState(), markCanvasState(optionalNewData), 
				colorLayer = colorLayer || context.getImageData(0,0,canvasWidth,canvasHeight);
				if (window.NBU2) NBU2.RegisterAction(
					()=>{ context.putImageData(undoLayer, 0, 0); layer.markCanvasUsed(); },
					()=>{ context.putImageData(colorLayer, 0, 0); layer.markCanvasUsed(); });
				layer.markCanvasUsed();
			}
			
			if (element.tool == 'martin')
			{
				follow_mouse(event, (event)=>{
					var currentpoint = stackpoint(event);
					(window.MartinFunction || console.log)(event, currentpoint, canvas);
				}, (event,start)=>{
					if (start) return true;
					var currentpoint = stackpoint(event);
					(window.MartinFunction || console.log)(event, currentpoint, canvas);
					layer.markCanvasUsed();
					allowundo();
				});
			}
			else if (tool == 'pencil' || tool == 'brush') 
				{
					var prevpoint = clickloc, startpoint = clickloc;
					var onBlack = context.getImageData(startpoint.x*Math.round(devicePixelRatio),startpoint.y*Math.round(devicePixelRatio),1,1).data.join() == '0,0,0,255';
					//console.log([startpoint.x*Math.round(devicePixelRatio),startpoint.y*Math.round(devicePixelRatio)]);
					var shrink = (tool == 'brush') ? 2 : 1;	// adjust for pattern blowing up
					context.scale(1/shrink,1/shrink);
					//context.translate(0.5,0.5);
					context.globalCompositeOperation = body.matches('.option.shift') ? "destination-out" : "source-over";
					follow_mouse(event, (event)=>{
						var currentpoint = stackpoint(event);
						//console.log(currentpoint);
						context.lineWidth = ((tool == 'pencil') ? 1  : 4) * shrink;
						context.lineJoin = 'round';
						context.fillStyle = context.strokeStyle = 
							(tool == 'brush' && body.matches('.option.shift')) ? '#000F' 
							: (tool == 'pencil' && onBlack || body.classList.contains('option')) ? 'white' 
							: (tool == 'brush' && !body.classList.contains('shift')) ? context.gray_pattern 
							: 'Black';

						context.beginPath();
						context.moveTo(prevpoint.x * shrink, prevpoint.y * shrink);
						context.lineTo(currentpoint.x * shrink, currentpoint.y * shrink);
						context.stroke();
						//context.endPath();
						//console.log(context.getImageData(currentpoint.x*Math.round(devicePixelRatio),currentpoint.y*Math.round(devicePixelRatio),1,1).data.join() == '0,0,0,255')
						if (tool == 'brush') context.ellipse(currentpoint.x* shrink, currentpoint.y* shrink,context.lineWidth/2,context.lineWidth/2,0,0,2 * Math.PI);
						else context.fillRect(currentpoint.x* shrink, currentpoint.y* shrink,context.lineWidth,context.lineWidth);
						context.fill();
						prevpoint = currentpoint;
					}, (event,start)=>{
						if (start) return true;
						//context.translate(-0.5,-0.5);
						context.scale(shrink,shrink);
						context.globalCompositeOperation = "source-over";
						layer.markCanvasUsed();
						allowundo();
					});
				}
			else if (tool == 'eraser') 
				{
					follow_mouse(event, (event)=>{
						var currentpoint = stackpoint(event);
						//context.putImageData(undoLayer, 0, 0);
						var erasersize = 20 / ('visualViewport' in window && visualViewport.scale || 1);
						context.clearRect(currentpoint.x-erasersize/2,currentpoint.y-erasersize/2,erasersize,erasersize);
						prevpoint = currentpoint;
					}, (event,start)=>{
						if (start) return true;
						layer.markCanvasUsed();
						allowundo();
					});
				}
			else if (tool == 'text')
				{
					var f = document.createElement('field-part');
					f.style = "margin: -4px; padding: 4px; margin-top: -0.8em; padding-top: -0.8em; outline: 1px dotted #8888; outline-offset: -0.25em";
					if (window.painttext_proxy)
						['textFont','textSize','textStyle','textAlign','textHeight'].forEach((a)=>f[a]=painttext_proxy[a]);
					f.addEventListener('blur', (event)=>{
						if (f.dontBlur) return;
						
						function getLineBreaks(node) {
							// https://stackoverflow.com/questions/55604798/find-rendered-line-breaks-with-javascript
							// we only deal with TextNodes
							// our Range object form which we'll get the characters positions
							const range = document.createRange();
							// here we'll store all our lines
							const lines = [];
							// begin at the first char
							range.setStart(node, 0);
							// initial position
							let prevBottom = range.getBoundingClientRect().bottom;
							let str = node.textContent;
							let current = 1; // we already got index 0
							let lastFound = 0;
							let bottom = 0;
							// iterate over all characters
							while(current <= str.length) {
							// move our cursor
							range.setStart(node, current);
							if(current < str.length -1)
							range.setEnd(node, current+1);
							bottom = range.getBoundingClientRect().bottom;
							if(bottom > prevBottom) { // line break
								lines.push(
									str.substr(lastFound , current - lastFound)
								);
								prevBottom = bottom;
								lastFound = current;
							}
							current++;
							}
							// push the last line
							lines.push(str.substr(lastFound));
						
							return lines;
						}
						var nodes = document.createTreeWalker(f.contentsContainer(), NodeFilter.SHOW_TEXT, null, null), tn = nodes.nextNode();
						if (tn) {
							const range = document.createRange();
							range.setStart(tn, 0);
							var bcr1 = range.getBoundingClientRect(), sp1 =stackpoint({ clientX: bcr1.x, clientY: bcr1.y },true); 
							context.font = getComputedStyle(f).font;
							context.textBaseline = 'top';
							context.fillStyle = 'black';	
							var lh = parseFloat(getComputedStyle(f).fontSize) * 1.2;
							//console.log(getComputedStyle(f).font, parseFloat(getComputedStyle(f).fontSize));
							do { getLineBreaks(tn).forEach((t,i)=>{ context.fillText(t,sp1.x,sp1.y); sp1.y+=lh; }); } while (tn = nodes.nextNode());
						}
						f.parentNode.removeChild(f);
						layer.markCanvasUsed();
						allowundo();
					});
					f.onkeyup = ()=>{ 
						var range = layer.shadowRoot.getSelection().getRangeAt(0);
						if (range)
							console.log(f.contentsContainer().innerHTML, range.commonAncestorContainer, range.startContainer, range.startOffset, range.endContainer, range.endOffset); 
						else console.log(f.contentsContainer().innerHTML, 'no range');
						/*if (range.commonAncestorContainer===f)
							{ debugger; f.FixCENow(); }*/
					}
					layer.shadowRoot.qs('.text-tool-overlay').appendChild(f);
					f.topLeft = [clickloc.x, clickloc.y]; 
					f.contents = ""; 
					f.focus();
					getSelection().selectAllChildren(f);
					getSelection().collapseToStart();
					//console.log(f);
				}
			else if (tool == 'line' || tool == 'rectangle' || tool == 'round rect' || tool == 'oval' || tool == 'curve' || tool == 'polygon')
				{					
					var curvepoints = [clickloc], optionclick = body.classList.contains('option'), currentpoint = clickloc;
					if (tool == 'polygon' && element.polygonDragInProgress)
						return;
					element.polygonDragInProgress = (tool == 'polygon');
					
					context.fillStyle = context.gray_pattern;
					var shrink = 2;	// adjust for pattern blowing up
					context.scale(1/shrink,1/shrink);
					
					follow_mouse(event, (event)=>{
						if (undoLayer)
							context.putImageData(undoLayer, 0, 0);
						currentpoint = stackpoint(event);
						context.beginPath();
						context.strokeStyle = (tool == 'line' && body.classList.contains('option')) ? 'white' : 'black';
						context.lineWidth = (tool != 'line' && optionclick) ? 0 : (sim.lineSize || 1)*dpr;
						if (tool=='line') 
						{
							if (body.classList.contains('shift') && Math.abs(currentpoint.x-clickloc.x) > Math.abs(currentpoint.y-clickloc.y))
								currentpoint.y = clickloc.y;
							else if (body.classList.contains('shift'))
								currentpoint.x = clickloc.x;
							context.moveTo(clickloc.x*shrink,clickloc.y*shrink);
							context.lineTo(currentpoint.x*shrink,currentpoint.y*shrink);
						}
						else if (tool=='rectangle') 
						{
							context.rect(clickloc.x*shrink,clickloc.y*shrink,(currentpoint.x-clickloc.x)*shrink,(currentpoint.y-clickloc.y)*shrink);
						}
						else if (tool=='round rect') 
						{
							function roundRect(x, y, w, h, r) 
							{
								if (w < 0) { x += w; w *= -1; }
								if (h < 0) { y += h; h *= -1; }
								r = Math.min(Math.abs(r), w/2, h/2);
								context.moveTo(x+r, y);
								context.arcTo(x+w, y,   x+w, y+h, r);
								context.arcTo(x+w, y+h, x,   y+h, r);
								context.arcTo(x,   y+h, x,   y,   r);
								context.arcTo(x,   y,   x+w, y,   r);
							}
							roundRect(clickloc.x*shrink,clickloc.y*shrink,(currentpoint.x-clickloc.x)*shrink,(currentpoint.y-clickloc.y)*shrink,8*shrink);
						}
						else if (tool=='oval') 
						{
							//context.ellipse((clickloc.x+currentpoint.x)/2,(clickloc.y+currentpoint.y)/2,(currentpoint.x-clickloc.x)/2,(currentpoint.y-clickloc.y)/2,0,0,Math.PI*2);
							var x = clickloc.x, y = clickloc.y, w = (currentpoint.x-clickloc.x), h = (currentpoint.y-clickloc.y);
							if (w < 0) { x += w; w *= -1; }
							if (h < 0) { y += h; h *= -1; }
							context.ellipse((x+w/2)*shrink,(y+h/2)*shrink,(w/2)*shrink,(h/2)*shrink,0,0,Math.PI*2);
						}
						else if (tool=='curve')
						{
							if (curvepoints[curvepoints.length-1].x != currentpoint.x || curvepoints[curvepoints.length-1].y != currentpoint.y)
								curvepoints.push(currentpoint);
							context.moveTo(clickloc.x*shrink,clickloc.y*shrink);
							for (var i = 1; i < curvepoints.length; i++)
								context.lineTo(curvepoints[i].x*shrink, curvepoints[i].y*shrink);
						}
						else if (tool=='polygon')
						{
							/*if (curvepoints[curvepoints.length-1].x != currentpoint.x || curvepoints[curvepoints.length-1].y != currentpoint.y)
								curvepoints.push(currentpoint);*/
							context.moveTo(clickloc.x*shrink,clickloc.y*shrink);
							for (var i = 1; i < curvepoints.length; i++)
								context.lineTo(curvepoints[i].x*shrink, curvepoints[i].y*shrink);
							context.lineTo(currentpoint.x*shrink,currentpoint.y*shrink);
						}
						if (body.classList.contains('option') || optionclick)
						{
							context.closePath();
							context.fill();
						}
						if (tool == 'line' || !optionclick)
							context.stroke();
						
					}, (event,start)=>{
						if (start) return true;
						
						if (tool == 'polygon')
						{
							// polygon mouseup just continues
							console.log('finished first polygon drag');
							continuePolygon(event);
							
							function continuePolygon(event)
							{
								curvepoints.push(currentpoint);
								
								follow_mouse(event, (event)=>{
									currentpoint = stackpoint(event);
									if (undoLayer)
										context.putImageData(undoLayer, 0, 0);
									context.beginPath();
									context.moveTo(clickloc.x*shrink,clickloc.y*shrink);
									for (var i = 1; i < curvepoints.length; i++)
										context.lineTo(curvepoints[i].x*shrink, curvepoints[i].y*shrink);
									context.lineTo(currentpoint.x*shrink,currentpoint.y*shrink);
									if (body.classList.contains('option') || optionclick)
									{
										context.closePath();
										context.fill();
									}
									context.stroke();
								}, (event,start)=>{
									if (start && element.polygonDragInProgress) return true;
									console.log('ended polygon drag segment ');
									if (!element.polygonDragInProgress ||
										(currentpoint.x == curvepoints[curvepoints.length-1].x && currentpoint.y == curvepoints[curvepoints.length-1].y))
									{
										if (body.classList.contains('option') || optionclick)
										{
											context.closePath();
											context.fill();
										}
										context.stroke();
										context.scale(shrink,shrink);
										layer.markCanvasUsed();
										allowundo();
										element.polygonDragInProgress = false;
									}
									else continuePolygon(event);
								});
							}
						}
						else
						{
							context.scale(shrink,shrink);
							layer.markCanvasUsed();
							allowundo();
						}
					});

				}
			else if (tool == 'select') 
				{
					// having the layer hold a marching ants is silly when the stack has one all ready to go,
					// we could easily have it do the job for us.
					var select = layer.shadowRoot.qs('canvas#select'), copy = body.classList.contains('option');
					if (event.composedPath()[0]===select) {
						var sloc = [select.offsetLeft, select.offsetTop, select.offsetWidth, select.offsetHeight];
						if (!layer.putItDown) {
							// starting to move, grab the canvas
							//select.width = sloc[2]*dpr; select.height = sloc[3]*dpr;
							select.getContext('2d').putImageData(undoLayer, -sloc[0]*dpr, -sloc[1]*dpr);	
							layer.putItDown = ()=>{};
							if (!copy)
								context.clearRect(sloc[0],sloc[1],sloc[2],sloc[3]);
						}
						else if (copy)
							layer.putItDown(true);
						
						follow_mouse(event, (event)=>{
							var currentpoint = stackpoint(event);
							select.style.left = sloc[0]+(currentpoint.x-clickloc.x)+'px';
							select.style.top = sloc[1]+(currentpoint.y-clickloc.y)+'px';
						}, (event,start)=>{
							select.style.background = start ? 'none' : '';
							template.qs('marching-ants').visible = !start;
						//	layer.shadowRoot.qs('marching-ants').style.display = start ? 'none' : 'initial';
							if (start) return true;
							layer.putItDown = function(markMutation,otherContext) {
								//console.log(select.offsetLeft, select.offsetTop, sloc[2], sloc[3]);
								(otherContext||context).drawImage(select, select.offsetLeft, select.offsetTop, sloc[2], sloc[3]);
								if (markMutation) { layer.markCanvasUsed(); allowundo(); }
							};
							layer.markCanvasUsed();	// autosave will be able to save the new location even though it's not official
						});
					}
					else {
						if (layer.putItDown)
							element.clearUserSelections();
						follow_mouse(event, (event)=>{
							var currentpoint = stackpoint(event);
							/*currentpoint.x = Math.min(element.width-1,Math.max(0,currentpoint.x));
							currentpoint.y = Math.min(element.height-1,Math.max(0,currentpoint.y));*/
							layer.moveSelAnts(true, Math.min(currentpoint.x,clickloc.x), Math.min(currentpoint.y,clickloc.y),
								Math.abs(currentpoint.x - clickloc.x)+1, Math.abs(currentpoint.y - clickloc.y)+1);
						}, (event,start)=>{
							if (start) {
								layer.moveSelAnts(false);
								select.copyFromLayerNow = null;
								return true;
							}
							else if (!select.getBoundingClientRect().width || !select.getBoundingClientRect().height)
								layer.moveSelAnts(false);
							else {
								layer.pickItUp = function(markMutation) {
									context.clearRect(select.offsetLeft, select.offsetTop, select.offsetWidth, select.offsetHeight);
									if (markMutation) { layer.markCanvasUsed(); allowundo(); }
								}
								select.copyFromLayerNow = function() {
									var sloc = [select.offsetLeft, select.offsetTop, select.offsetWidth, select.offsetHeight];
									select.width = sloc[2]*dpr; select.height = sloc[3]*dpr;
									select.getContext('2d').putImageData(context.getImageData(0,0,canvasWidth,canvasHeight)/*undoLayer*/, -sloc[0]*dpr, -sloc[1]*dpr);	
									layer.putItDown = function(markMutation,otherContext) {
										//console.log(select.offsetLeft, select.offsetTop, sloc[2], sloc[3]);
										(otherContext||context).drawImage(select, select.offsetLeft, select.offsetTop, sloc[2], sloc[3]);
										if (markMutation) { layer.markCanvasUsed(); allowundo(); }
									};
									context.clearRect(sloc[0],sloc[1],sloc[2],sloc[3]);
									select.copyFromLayerNow = null;
								}
							}
						});
					}
				}
			else if (tool == 'bucket') 
				{
					//http://www.williammalone.com/articles/html5-canvas-javascript-paint-bucket-tool/
					var colorLayer = context.getImageData(0,0,canvasWidth,canvasHeight);
					var pixelStack = [[Math.floor(clickloc.x*dpr), Math.floor(clickloc.y*dpr)]];
					var time = Date.now(), pops = 0;
					var startR=(colorLayer.data[(Math.floor(clickloc.y*dpr)*canvasWidth + Math.floor(clickloc.x*dpr))*4]);
					var startG=(colorLayer.data[(Math.floor(clickloc.y*dpr)*canvasWidth + Math.floor(clickloc.x*dpr))*4+1]);
					var startB=(colorLayer.data[(Math.floor(clickloc.y*dpr)*canvasWidth + Math.floor(clickloc.x*dpr))*4+2]);
					var startA=(colorLayer.data[(Math.floor(clickloc.y*dpr)*canvasWidth + Math.floor(clickloc.x*dpr))*4+3]);
					//console.log(startR,startG,startB,startA);
					
					var fillColorFunc = body.matches('.option.shift') ? function(pp) { return [0,0,0,0]; }	// transparent
					: body.matches('.option') ? function(pp) { return [255,255,255,255]; }	// white
					: body.matches('.shift') ? function(pp) { return [0,0,0,255]; }	// black
					: 'better';//function(pp,y) { return (((pp>>2)%4<2)===!(y%4<2)) ? [255,255,255,255] : [0,0,0,255]; }	// classic gray
					
					// better than just gray, it's whatever we ask
					if (fillColorFunc=='better')
					{
						var graycanvas = document.createElement('canvas');
						graycanvas.width = 16; graycanvas.height = 16;
						var graycontext = graycanvas.getContext('2d');
						graycontext.drawImage(grayPngImg,0,0);
						var grayimgdata = graycontext.getImageData(0,0,16,16);
						fillColorFunc = function(pp,x,y) {
							var where = ((y%16)*16 + (x % 16)) * 4;
							return [grayimgdata.data[where], grayimgdata.data[where+1], grayimgdata.data[where+2], grayimgdata.data[where+3]];
						}
					}
					
					while(pixelStack.length)
						{
							var newPos, x, y, pixelPos, reachLeft, reachRight;
							newPos = pixelStack.pop();
							x = newPos[0];
							y = newPos[1];
							pops++;
							if (pops > 1000000) throw "aborting bucket";
							
							pixelPos = (y*canvasWidth + x) * 4;
							while(y-- >= 0 && matchStartColor(pixelPos))
								pixelPos -= canvasWidth * 4;
							pixelPos += canvasWidth * 4;
							++y;
							reachLeft = false;
							reachRight = false;
							while(y++ < canvasHeight-1 && matchStartColor(pixelPos))
								{							
									// coloring a color the same color never terminates
									// lets color it an unlilekely color to start
									colorLayer.data[pixelPos] = 197;
									colorLayer.data[pixelPos+1] = 82;
									colorLayer.data[pixelPos+2] = 142;
									colorLayer.data[pixelPos+3] = 223;
									
									/*var ch = fillColorFunc(pixelPos,y);
									colorLayer.data[pixelPos] = ch[0];
									colorLayer.data[pixelPos+1] = ch[1];
									colorLayer.data[pixelPos+2] = ch[2];
									colorLayer.data[pixelPos+3] = ch[3];*/
									
									if(x > 0)
										{
											if(matchStartColor(pixelPos - 4))
												{
													if(!reachLeft){
														pixelStack.push([x - 1, y]);
														reachLeft = true;
													}
											}
											else if (reachLeft)
												{
													reachLeft = false;
											}
										}
									
									if(x < canvasWidth-1)
										{
											if(matchStartColor(pixelPos + 4))
												{
													if(!reachRight)
														{
															pixelStack.push([x + 1, y]);
															reachRight = true;
													}
											}
											else if(reachRight)
												{
													reachRight = false;
											}
										}
									
									pixelPos += canvasWidth * 4;
								}
						}
					
					// now recolor all that shitty purple
					for (var y=0; y < canvasHeight; y++)
						for (var x=0; x < canvasWidth; x++)
							{
								var pixelPos = (y*canvasWidth + x) * 4;
								if (colorLayer.data[pixelPos]===197 && colorLayer.data[pixelPos+1]===82 && colorLayer.data[pixelPos+2]===142 && colorLayer.data[pixelPos+3]===223)
									{
										var ch = fillColorFunc(pixelPos,x,y);
										colorLayer.data[pixelPos] = ch[0];
										colorLayer.data[pixelPos+1] = ch[1];
										colorLayer.data[pixelPos+2] = ch[2];
										colorLayer.data[pixelPos+3] = ch[3];
									}
							}					
					
					context.putImageData(colorLayer, 0, 0);
					element.card.markCanvasUsed();
					
					function matchStartColor(pixelPos)
					{
						var r = colorLayer.data[pixelPos];	
						var g = colorLayer.data[pixelPos+1];	
						var b = colorLayer.data[pixelPos+2];
						var a = colorLayer.data[pixelPos+3];
						
						return (r===startR && g===startG && b===startB && a===startA);
					}
					console.log('bucket complete ' + (Date.now()-time) + 'ms ' + pops + ' pops');
					allowundo(colorLayer);
				}
		}
							
		function card_key_down(event)
		{
			// activeElement needs to be the stack, not an inner field...
			if (event.metaKey) return;
			//console.log('card key down ' + event.key);
			
			var meta = event.metaKey || event.ctrlKey, tool = element.tool.toLowerCase();
			
			if (tool=='text')
			{
				// typing is fine
				return;
			}
			else if (tool=='browse')
			{
				//console.log(event);
				var cefae = ContentEditableFix.ActiveElement();
				if (cefae.nodeName != 'FIELD-PART') cefae = null;
				//else if (event.key.substr(0,5)=='Arrow' && body.classList.contains('arrow-keys-in-text')) event.preventDefault();
				//console.log('key event ' + event.code + '/' + event.key);
				
				var ascii = { 'ArrowLeft': 28, 'ArrowRight': 29, 'ArrowUp': 30, 'ArrowDown': 31, 'Enter': 13, 'Tab': 9, 'Backspace': 8 }[event.key];
				
				// if the keyDown message is passed to the simulator script, it will send returnKey, arrowKey, etc.
				if (ascii || event.key.length == 1) 
				{
					if (!cefae) event.preventDefault();	// if it's not in the field don't move the window or tab or whatever
					XTalk.Send(cefae || element.card, 'keyDown', [ascii ? String.fromCharCode(ascii) : event.key]);
				}
				
				event.stopPropagation();
				return;
			}
			else if (sel_element && ['ArrowLeft','ArrowRight','ArrowUp','ArrowDown'].includes(event.key))
			{
				sel_element.left += (event.key=='ArrowLeft') ? -1 : (event.key=='ArrowRight') ? 1 : 0;
				sel_element.top += (event.key=='ArrowUp') ? -1 : (event.key=='ArrowDown') ? 1 : 0;
			}
			else if (sel_element && event.key=='Backspace') 
			{
				var target = sel_element, parent = target.parentNode, sibling = target.nextElementSibling;
				if (window.NBU2) NBU2.RegisterAction(()=>{ parent.insertBefore(target, sibling); }, ()=>{ parent.removeChild(target); });
				parent.removeChild(target);
				element.selectedPart = null
			}
			else if (tool == 'select' && event.key=='Backspace') 
			{ 
				if (element.currentLayer.pickItUp) element.currentLayer.pickItUp(true);
				element.currentLayer.pickItUp = element.currentLayer.putItDown = null; 
				element.currentLayer.moveSelAnts(false); element.clearUserSelections(); 
			}
			/*else if (element.tool=='Browse' && !body.classList.contains('arrow-keys-in-text') 
				&& (event.key=='ArrowLeft' || event.key=='ArrowRight' || event.key=='ArrowUp' || event.key=='ArrowDown'))
			{
				XTalk.Send(element.card, 'arrowKey', [ event.key.substr(5).toLowerCase() ]);
			}*/
			/*/else if (!sel_element && event.key=='ArrowLeft' && !body.classList.contains('arrow-keys-in-text')) XTalk.Do('go prev'); 
			else if (!sel_element && event.key=='ArrowRight' && !body.classList.contains('arrow-keys-in-text')) XTalk.Do('go next');
			else if (!sel_element && event.key=='ArrowDown' && !body.classList.contains('arrow-keys-in-text')) XTalk.Do('go back'); */
			else if (sel_element && event.key=='Enter') launch_info_dialog(sel_element);
			else if (sel_element && event.key=='Escape') element.clearUserSelections();
			/*else if (!meta) {
				console.log('sending keydown ' + event.key);
				XTalk.Send(sim.card, 'keyDown', [event.key=='Enter'?'\n':event.key]);
				element.focus(); event.preventDefault(); return;
			}*/
			/*else if (!meta && (document.activeElement===body || document.activeElement===sim.stack) && !messagebox.contains(document.activeElement)) {
			// send it to the stack. no this is weirding out blindtyping, gotta check, not sure. might be much easier to put the key and set the selection if it doesn't pass
			window.passedKeyDown = false;
			XTalk.Send(sim.card, 'keyDown', [event.key]);
			event.stopPropagation();
			}*/
			
			if (event.stopPropagation) { event.stopPropagation(); event.preventDefault();  }
			return true;
		}
					
		element.addEventListener(('ontouchstart' in document) ? 'touchstart' : 'mousedown', (event)=>{
			//console.log(event.composedPath()[0]);
			var card = element.partOfEvent(event, 'card-part');
			//console.log(card);
			//	alert(card.name);
			//	console.log(card, element.partOfEvent(event).closest('card-part'));
			//				var card = event.target.closest('stack-part > card-part');
			if (card && card.matches('.current')) card_mouse_down(event);
		},true);
		
		var mousecurrent = null;
		element.addEventListener('mousemove', (event)=>{
			var mouseloc = stackpoint(event);
			sim.mouseLoc = Math.round(mouseloc.x)+','+Math.round(mouseloc.y);
			
			var part = element.partOfEvent(event, 'button-part,field-part');
			//console.log(part);
			
			//console.log(element.isProcessingMouseDown)
			if (!element.isProcessingMouseDown && element.tool=='Browse' && (!body.qs('#toolbar') || !body.matches('.command.option')))
			{
				if (mousecurrent !== part) {
					if (mousecurrent)
						XTalk.Send(mousecurrent, 'mouseLeave', [], (success)=>{
							if ((mousecurrent=part) && success)
								XTalk.Send(mousecurrent, 'mouseEnter');
						});
					else if (mousecurrent=part)
						XTalk.Send(mousecurrent, 'mouseEnter');
				}
				
				if (mousecurrent)
					XTalk.Send(mousecurrent, 'mouseWithin');
			}
		},true);
		
		element.tabIndex=0;
		function stackresize() {
			
			element.style.setProperty('--card-width', element.width + 'px');
			element.style.setProperty('--card-height', element.height + 'px');
			
		/*	var w = number(element.getAttribute('width')), h = number(element.getAttribute('height'));
			if (element.getAttribute('width')) element.style.setProperty('--card-width', w && w+'px' || '');
			if (element.getAttribute('height')) element.style.setProperty('--card-height', h && h+'px' || '');*/
			element.dispatchEvent(new Event('windowmoved', { bubbles: true }));
		}
		stackresize();
		
		if (document.readyState == 'loading') 
			document.addEventListener('DOMContentLoaded', dcl, true);
		function dcl(event) {
			document.removeEventListener('DOMContentLoaded',dcl); 
			if (!currentCard)
				element.card = element.card;
		} 
		
		element.style.setProperty('--stack-button-font', element.buttonCSSFont);
		element.style.setProperty('--stack-field-font', element.fieldCSSFont);
		
		element.recently_visited_cards = [];					
		element.recently_visited_cards.lock_recent_cards = false;
		
		var stackQueue = new XTalkQueue(), waitingTimeout = null;
		stackQueue.Stack = element;
		stackQueue.stateChangeWatcher = function(inprocess) { 
			// this messed up clicks obviously in retrospect
			//if (element.parentNode) element.parentNode.classList.toggle('waiting', inprocess); 
			
			if (!inprocess) {
				// this should all be on the stack, not the sim!
				delete sim.itemDelimiter;
				element.visualEffect = '';
				element.mouseClick = '';
				sim.lockMessages = false;
			}
		}
		
		var currentCard = null;
		return {
			queue() 
				{ return stackQueue; },
			card_key_down,
			card_mouse_down,
			paint_mouse_down,
			partOfEvent(event, selectors) {
				// trace the target to the containing field, button, or card
				var target = event.composedPath()[0];
				//console.log(target);
				while (target) {
					if (target instanceof ShadowRoot) target = target.host;
					else if (!target.closest) { target = target.parentNode; }
					else if (target.matches(selectors || 'button-part,field-part,card-part,background-part')) { break; }
					else if (target.slot && target.assignedSlot) { target = target.assignedSlot; }
					else { target = target.parentNode; }
				}
				return target;
			},
			clickDrag(startx, starty, stopx, stopy, modifiers)
			{
				var bcr = element.getBoundingClientRect();
				var startevent = new MouseEvent('simulateddown', { bubbles: true, 
					clientX: bcr.x + startx/element.width*bcr.width, clientY: bcr.y + starty/element.height*bcr.height });
				startevent.simulatedStackPoint = { x: startx, y: starty };
				var stopevent = new MouseEvent('simulatedup', { bubbles: true, 
					clientX: bcr.x + stopx/element.width*bcr.width, clientY: bcr.y + stopy/element.height*bcr.height });
				stopevent.simulatedStackPoint = { x: stopx, y: stopy };
				card_mouse_down(startevent);
				document.dispatchEvent(stopevent);
			},
			get size() { return JSON.stringify(element.savableJSON).length; },
			get freeSize() { return 0; },
			set buttonCSSFont(value) { element.style.setProperty('--stack-button-font', element.buttonCSSFont); },
			set fieldCSSFont(value) { element.style.setProperty('--stack-field-font', element.fieldCSSFont); },
			set visualEffect(value) { },
			set width(value) { stackresize(); },
			set height(value) { stackresize(); },
			set name(value) { },
			toString()
			{
				return element.longName;
			},
			get background() { return element.card.background; },
			get card() 
				{ return currentCard || element.qs('card-part.current') || element.firstCard; },
			set card(card) {
				if (!card) throw "Can't find that card";
				if (card.closest('stack-part') !== element) throw "Not a card in this stack";
				if (card===currentCard) return;
				//console.log('going to card id ' + card.id);
				var was_currentCard = currentCard;
				if (!!(currentCard=element.card)) 
				{
					if (was_currentCard && 'push_recent_card' in window && !recent_cards.lock_recent_cards)
						push_recent_card(currentCard);
						
					//var md = element.closest('#stackcontainer > modal-dialog');
					//if (md && md.enable_mutation_observer)
					//	md.enable_mutation_observer(false);	// turn off the mutations observer . Changing cards by itself shouldn't trigger a save.
					
					currentCard.classList.remove('current', 'forward-card', 'back-card');

					// push the card we're leaving IF we're not going back
					if (was_currentCard && !element.recently_visited_cards.lock_recent_cards) {
						
						element.recently_visited_cards.push(currentCard);
						if (element.recently_visited_cards.length > 40)
							element.recently_visited_cards.shift();
					}

					// want to find animation that works for better control than transitions!
					if (element.visualEffect)
					{
						((cc, tc)=>{
							var el = cc.addEventListener('transitionend', (event)=>{
								if (event.propertyName!='transform') return;
								cc.removeEventListener('transitionend',el);
								element.visualEffect = '';
								cc.classList.remove('forward-card','back-card');
								//console.log('effect done',cc.className);
							});
							cc.classList.add('forward-card');
						})(currentCard, card);
					}
					
					/*if (md && md.enable_mutation_observer)
						md.enable_mutation_observer(true);*/
				}
				
				element.clearUserSelections();
				//if (md && md.enable_mutation_observer)
				//	md.enable_mutation_observer(false);	// turn off the mutations observer . Changing cards by itself shouldn't trigger a save.
				
				var s = parseFloat(getComputedStyle(element).getPropertyValue('--visual-effect-duration'));
				s = (!isNaN(s) ? s : 0) * 1000;
				function setHideTimeout(card, install)
				{
					if (card.hide_timeout)
						{ clearTimeout(card.hide_timeout); delete card.hide_timeout; }
					if (install) {
						if (s)
							card.hide_timeout = setTimeout(()=>{ card.prepareToHide(); }, s);
						else
							card.prepareToHide();
					}
				}
				
				setHideTimeout(currentCard, true);
				
				(currentCard=card).classList.add('current');
				//if (md && md.enable_mutation_observer)
				//	md.enable_mutation_observer(true);
				
				setHideTimeout(currentCard, false);
				
				var bkgnd = card.bkgndID && element.qs(`:scope > background-part[ID="${card.bkgndID}"]`);
				
				if (!bkgnd) 	// the actual background element
					throw "card id " + card.ID + " has no background id " + card.bkgndID;
					
				// okay, the true means that it's always gonna make a new clone of the background when the card is prepared. This is needed for
				// visual effects, but could make something weird or slow. Verified that background card text still works.
				if (true || !bkgnd.cloned_node) 
				{
					// maybe it would be easier to make two background clones period and switch between as needed
					
					var srcbkgnd = bkgnd.cloned_node || bkgnd;
					
					//if (bkgnd.cloned_node) console.log('loading from a clone'); else console.log('loading from the original');
					
					// I need to put the cloned_node in there BEFORE cloning so icons know where they're coming from ! otherwise stackOf is wrong during startup, when the stack that is in front may not be the one loading.
					(bkgnd.cloned_node=srcbkgnd.cloneNode(true)).clone_of = bkgnd;	// ok the clone node could use links back to the original for the field maybe
					bkgnd.cloned_node.card_for_bkgnd_clone = card;
					
					// what does it take to insta-load an img in Safari? Chrome doesn't have any trouble.
					// stealing the background images from the old one is not so bad; there is a small flicker during the visual effect slide though.
					var iconButtons = bkgnd.cloned_node.qsa('button-part[icon]').forEach((btn)=>{
						var fromBtn = srcbkgnd.childNodes[Array.from(btn.parentNode.childNodes).indexOf(btn)] /*srcbkgnd.qs('button-part[icon="' + btn.icon + '" i]')*/, fromImg, toImg;
						if (fromBtn && fromBtn.shadowRoot && (fromImg=fromBtn.shadowRoot.qs('#icon img')) && fromImg.getAttribute('src')
							&& btn.shadowRoot && (toImg=btn.shadowRoot.qs('#icon img'))) {
							var clone = fromImg.cloneNode();
							fromImg.parentNode.insertBefore(clone, fromImg);
							clone.style.width = fromImg.offsetWidth ? fromImg.offsetWidth + 'px' : '';
							clone.style.height = fromImg.offsetHeight ? fromImg.offsetHeight + 'px' : '';
							clone.style.background = 'url(' + fromImg.src + ')';	
							toImg.parentNode.replaceChild(fromImg,toImg);
//							console.log('cloned ' + (toImg.src=fromImg.src));
							}
					});

					var bitmap = srcbkgnd.savableJSON.bitmap;
					
					bkgnd.cloned_node.qsa('field-part:not([sharedText="true" i])').forEach((bgfld)=>{
						bgfld.assumeBkgndFieldDuty();
					});
					if (bitmap)
						bkgnd.cloned_node.card_bitmap_to_load = { dataURL: bitmap, WOBA: (srcbkgnd.card_bitmap_to_load || {}).WOBA };
					//if (srcbkgnd.bitmap)
					//	bkgnd.cloned_node.bitmap = srcbkgnd.bitmap;
										
					makeclonemutationobserver(bkgnd);
					function makeclonemutationobserver(savebkgnd)
					{
						new MutationObserver((mlist)=>{
							//	console.log(mlist);
						//	console.log('mutated bkgnd clone',mlist);
							savebkgnd.setAttribute('data-mutator', Date.now()); 	// is this working??
							//if (element.closest('modal-dialog') && element.closest('modal-dialog').mo_callback)
							//	element.closest('modal-dialog').mo_callback(mlist);	// will this work?
						}).observe(bkgnd.cloned_node, {childList: true, attributes: true, attributeOldValue: true, characterData: true, subtree: true});
					}
					
				}
				
				bkgnd.cloned_node.qsa('field-part:not([sharedText])').forEach((bgfld)=>{
					var slotname = '-'+bgfld.id, target_slot;
					if (!(target_slot=currentCard.qs(`:scope > div[slot="${slotname}"]`))) 
						{
							target_slot = document.createElement('div');
							target_slot.slot = slotname;
							currentCard.insertBefore(target_slot, currentCard.firstChild);
						}
				});
				
				if (currentCard.internalBkgnd)
					currentCard.internalBkgnd.parentNode.removeChild(currentCard.internalBkgnd);
				currentCard.shadowRoot.qs('span.background').parentNode.insertBefore((currentCard.internalBkgnd=bkgnd.cloned_node), currentCard.shadowRoot.qs('span.background'));
				// mutual background editing. for now let's just have savableJSON save the clone instead
				
				bkgnd.cloned_node.prepareToShow();

				element.refreshAddColorStage();
				
				card.prepareToShow();
				
				element.dispatchEvent(new Event('openCard', { bubbles: true }));
				element.checkIfIdleMessagesAllowed();
			},
			refreshAddColorStage()
			{
				var card = element.card, bkgnd = element.background, hasAddColorData, 
					bkgndCSS = bkgnd.produceAddColorCSS(element.localPICTs), cardCSS = card.produceAddColorCSS(element.localPICTs), 
					useAddColorData = {
					'--colorData-background-for-bkgnd': bkgndCSS.background,
					'--colorData-background-size-for-bkgnd': bkgndCSS.size,
					'--colorData-background-blend-mode-for-bkgnd': bkgndCSS.blendMode,
					'--colorData-background-for-card': cardCSS.background,
					'--colorData-background-size-for-card': cardCSS.size,
					'--colorData-background-blend-mode-for-card': cardCSS.blendMode
				};
				for (var acd in useAddColorData) {
					card.shadowRoot.qs('#cardcolor').style.setProperty(acd, useAddColorData[acd]);
					//hasAddColorData = hasAddColorData || !!useAddColorData[acd];
				}
				hasAddColorData = card.addColorData || bkgnd.addColorData;	// have an AddColor stage mode
				if (hasAddColorData) {
					card.shadowRoot.qs('#cardcolor').setAttribute('hasAddColorData', 'true');
					card.shadowRoot.qs('div.display').setAttribute('hasAddColorData', 'true');
				}
				else {
					card.shadowRoot.qs('#cardcolor').removeAttribute('hasAddColorData');
					card.shadowRoot.qs('div.display').removeAttribute('hasAddColorData');
				}
			},
			GoCoroutine:function*(card) 
			{
				var goingBack = (card=='back');
				if (goingBack) {
					card = element.recently_visited_cards.pop();
					if (!card) return;
				}
				
				if (element.card===card) return;
				
				if (element.card.contains(document.activeElement))
					document.activeElement.blur();
				
				var changeBkgnd = (element.card.background !== card.background);
				if (!sim.lockMessages) 
				{
					yield*xtalk_send_coroutine('closeCard', [], element.card);
					if (changeBkgnd) 
						yield*xtalk_send_coroutine('closeBackground', [], element.card);
				}
				
				
				element.recently_visited_cards.lock_recent_cards = goingBack;
				element.card = card;
				element.recently_visited_cards.lock_recent_cards = false;
				
				if (!sim.lockMessages) 
				{
					if (changeBkgnd) 
						yield*xtalk_send_coroutine('openBackground', [], card);
					yield*xtalk_send_coroutine('openCard', [], card);
				}
				
				var s = parseFloat(getComputedStyle(element).getPropertyValue('--visual-effect-duration'));
				s = (!isNaN(s) ? s : 0) * 1000 + 20;
				yield({timeout: s });
				/*if (element.visualEffect)
					yield({timeout: 250});*/
				
				// should not return from the script until the visual effect is over.
				// however this allows CSS to highlight buttons in the meantime. 
				/*if (element.visual_effect_arrival) {
					var xtqas = XTalkQueue.Active.Service;
					element.visual_effect_arrival = ()=>{ xtqas(); };
					yield({timeout: -1});
				}*/
				
				//element.checkIfIdleMessagesAllowed();
			},
			get currentLayer() 
				{ return element.classList.contains('background-mode') ? element.background : element.card; },
			get recentCard() 	// this doesn't pop, so go backCard isn't really go back
				{ return element.recently_visited_cards[element.recently_visited_cards.length-1] || stackcontainer.qs('modal-dialog[ID="1"] card-part'); },
			get firstCard()
				{ return element.qs('card-part:nth-of-type(1)'); },
			get firstMarkedCard()
				{ return element.qs('card-part[marked]:not([marked="false" i])'); },
			get lastCard()
				{ return element.qs('card-part:last-of-type'); },
			get lastMarkedCard() {
				var last = element.lastCard; 
				while (last && !(last.matches && last.matches('card-part[marked]:not([marked="false" i])'))) 
					last = last.previousSibling;
				return last;
			},
			get nextCard() 
				{ return element.qs('card-part.current ~ card-part') || element.firstCard; },
			get nextMarkedCard() 
				{ return element.qs('card-part.current ~ card-part[marked]:not([marked="false" i])') || element.firstMarkedCard; },
			get prevCard() {
				var prev = element.card;
				while ((prev=prev.previousSibling) && !(prev.matches && prev.matches('card-part'))) {}
				return prev || element.qs('card-part:last-of-type');
			},
			get prevMarkedCard() {
				var prev = element.card;
				while ((prev=prev.previousSibling) && !(prev.matches && prev.matches('card-part[marked]:not([marked="false" i])'))) {}
				return prev || element.lastMarkedCard;
			},
			cardOf(ordinal, marked, bkgnd) {
				var descriptor = 'card-part' + (bkgnd ? '[bkgndID="'+bkgnd.id+'"]' : '') + (marked ? '[marked]:not([marked="false" i])' : '');
				
				if (ordinal === 'next')
					return element.qs(':scope > card-part.current~'+descriptor) || element.qs(':scope > '+descriptor);
				
				if (ordinal === 'prev') {
					var prev = currentCard;
					while (prev=prev.previousSibling) 
						if (prev.matches && prev.matches(descriptor))
						return prev;
					prev = element.lastChild;
					do {
						if (prev.matches && prev.matches(descriptor))
							return prev;
					} while ((prev!==currentCard) && (prev=prev.previousSibling)); 
					
					return null;
				}
				
				var cards = element.qsa(':scope > ' + descriptor);
				
				if (ordinal==='last')
					return cards[cards.length-1];
				if (ordinal==='middle')
					return cards[Math.floor(cards.length/2)];
				if (ordinal==='any')
					return cards[Math.floor(Math.random()*cards.length)];
				if (ordinal==='number')
					return cards.length;
				
				ordinal=number(ordinal);
				return cards[ordinal-1];
			},
			backgroundOf(ordinal) {
				var descriptor = 'background-part';
				
				if (ordinal === 'next')
					return element.qs(':scope > background-part[id=\"'+(currentCard.background.ID)+'\"]~'+descriptor) || element.qs(':scope > '+descriptor);
				
				if (ordinal === 'prev') {
					var currentBkgnd = currentCard.background.clone_of, prev = currentBkgnd;
					while (prev=prev.previousSibling) 
						if (prev.matches && prev.matches(descriptor))
						return prev;
					prev = element.lastChild;
					do {
						if (prev.matches && prev.matches(descriptor))
							return prev;
					} while ((prev!==currentBkgnd) && (prev=prev.previousSibling)); 
					
					return null;
				}
				
				var bkgnds = element.qsa(':scope > ' + descriptor);
				
				if (ordinal==='last')
					return bkgnds[bkgnds.length-1];
				if (ordinal==='middle')
					return bkgnds[Math.floor(bkgnds.length/2)];
				if (ordinal==='any')
					return bkgnds[Math.floor(Math.random()*bkgnds.length)];
				if (ordinal==='number')
					return bkgnds.length;
				
				ordinal=number(ordinal);
				return bkgnds[ordinal-1];
			},
			newCard(newBackground) { 
				var target = document.createElement('card-part'), maxid = 0, bkgndID = currentCard.bkgndID;
				element.qsa(':scope > card-part').forEach((e)=>maxid=Math.max(maxid,Number(e.id)||0)); 
				target.id = maxid + 1;
				if (newBackground)
				{
					var newbg = document.createElement('background-part');
					maxid = 0;
					element.qsa(':scope > background-part').forEach((e)=>maxid=Math.max(maxid,Number(e.id)||0)); 
					newbg.id = bkgndID = (maxid+1);
					element.insertBefore(newbg, currentCard.nextSibling);
				}
				target.bkgndID = bkgndID;
				element.insertBefore(target, currentCard.nextSibling);
				element.card = target;
				return target;
			},
			deleteCard(target) {
				if (target.cantDelete) throw "Can't delete card because cantDelete property is true.";
				if (element.card === target)
					element.card = element.qs('card-part.current + card-part') || element.prevCard;
				if (element.card === target) throw "Can't delete last card of stack.";
				element.removeChild(target);
			},
			pushCard(card) {
				if (!element.pushedCards) element.pushedCards = [];
				element.pushedCards.push(card);
				//console.log('card pushed',card);
			},
			popCard() {
				var card = (element.pushedCards ? element.pushedCards.pop() : null) || element.firstCard;	// instead of the home stack , just pop the first card
				//console.log('card popped', card); 
				return card;	
			},
			get selectedPart() 
				{ return sel_element; },
			set selectedPart(target) {
				
				//template.qs('marching-ants').inset = 0;
				template.qs('marching-ants').setTarget(target, element);
				sel_element = target;
				if (ContentEditableFix.ClosestEditable(target)) {
					getSelection().setBaseAndExtent(target.parentNode, Array.from(target.parentNode.childNodes).indexOf(target), target.parentNode,Array.from(target.parentNode.childNodes).indexOf(target)+1);
					/*if (document.activeElement !== closest_editable_container(target))
					closest_editable_container(target).focus();*/
				} else {
					getSelection().removeAllRanges();
					//element.focus();	// this is not perfect, want to untangle blindtyping in the message box and forward events
				}
			},
			set tool(value) { 
				element.clearUserSelections();
				element.refreshAddColorStage();
				element.checkIfIdleMessagesAllowed();
			},
			get localICONs() {
				if (!element.importedICONs && !element.importedICONResources) return {};	// sometimes the import happens after init...
				if (!element.importedICONImages)
				{
					element.importedICONImages = JSON.parse(element.importedICONs || '{}');
					Object.assign(element.importedICONImages, unpack_ICONs(JSON.parse(element.importedICONResources || '[]')));
				}
				return element.importedICONImages;
			},
			get localPICTs() {
				if (!element.importedPICTs) return [];	// sometimes the import happens after init...
				if (!element.importedPICTImages)
					element.importedPICTImages = JSON.parse(element.importedPICTs);
				return element.importedPICTImages;
			},
			get localCURSs() {
				if (!element.importedCURSs) return [];	// sometimes the import happens after init...
				if (!element.importedCURSImages)
					element.importedCURSImages = JSON.parse(element.importedCURSs);
				return element.importedCURSImages;
			},
			get localWAVs() {
				if (!element.importedWAVs) return [];	// sometimes the import happens after init...
				if (!element.importedWAVSounds) {
					element.importedWAVSounds = {};
					var wavs = JSON.parse(element.importedWAVs);
					if (wavs.length) console.log('sounds in stack: ' + Object.keys(wavs).join(', '));
					for (var wav in wavs) 
						element.importedWAVSounds[String(wav).toLowerCase()] = loadBase64Sound(wavs[wav], ()=>console.log('could not decode sound '+wav));
				}
				return element.importedWAVSounds;
			},
			importedAttributes() {
				// there are others but these go at the end
				return ['importedICONResources','importedICONs','importedWAVs','importedPLTEs','importedPICTs','importedCURSs','buttonCSSFont','fieldCSSFont','version'];
			},
			get savableJSON() {
				var out = { $:'stack-part', name:element.name, width:element.width, height:element.height, script:element.script||'', 
					$$:Array.from(element.qsa(':scope > card-part, :scope > background-part')).map((c)=>{
						if (c.cloned_node) { 
							//c.cloned_node.savableJSON_request_clone = true; 
							return c.cloned_node.savableJSON; 
						}
						return c.savableJSON;
					}) };
				element.importedAttributes().forEach((a)=>{
					if (element[a])
						out[a] = element[a];
				});
				return out;
			},
			set savableJSON(json) {
				currentCard = null;
				element.width = parseInt(json.width) || 512;
				element.height = parseInt(json.height) || 342;
				if (json.script) 
					element.script = json.script;
				element.importedAttributes().forEach((a)=>{
				if (json[a])
					element[a] = json[a];
				});
				var initWAVs = element.localWAVs;	// inits the sound
				
				var maxid = 0;
				(json.$$||[]).forEach((c)=>{ if (c.$ && c.$.toLowerCase()=='card-part') maxid = Math.max(maxid, Number(c.id)||0); }); 
				(json.$$||[]).forEach((c)=>{ if (c.$ && c.$.toLowerCase()=='card-part' && !c.id && !c.ID && !c.iD && !c.Id) 
					{ c.id = ++maxid; console.log('tagging card with id '+maxid); } }); 

				element.innerHTML = '';
				readchildren(element,json);
				element.card = element.card;
				//console.log(element.card);
				Array.from(element.qsa('card-part')).map((c)=>c.classList.toggle('current', c===element.card));
				Array.from(element.qsa('card-part')).map((c)=>c.classList.remove('forward-card'));

				function readchildren(node,json) {
					
					(json.$$||[]).forEach((json)=>{
						if (json && typeof json === 'object' && json.$) {
							var child = document.createElement(json.$);
							// we can't uncomment this because it puts a spurious line in the field when it's connected.
							// we'd like to though because then the xTalk can see where it errors when compiled.
							//node.appendChild(child);	// Safari debugger?
							Object.keys(json).forEach((key)=>{
								if (key.toLowerCase()=='class') child.className = json[key];
								else if (['card-part','background-part'].includes(json.$.toLowerCase()) && key.toLowerCase()=='bitmap')
									child.card_bitmap_to_load = { dataURL: json[key] };
								else if (['card-part','background-part'].includes(json.$.toLowerCase()) && key.toLowerCase()=='woba')
									child.card_bitmap_to_load = { WOBA: json[key] };
								if (key[0]!='$') try { child.setAttribute(key,json[key]); } catch(e) { console.log('setAttribute '+key,e); }
							});
							readchildren(child,json);
							node.appendChild(child);	// Safari debugger?
							
						}
						else 
							node.appendChild(document.createTextNode(json));
					});
				}
			},
			get savableHTML() {
				var stackjson = element.savableJSON;
				
				element.importedAttributes().forEach((a)=>{
					if (element[a])
						stackjson[a] = element[a];
				});

				if (element.localICONs.length) 
				{
					var expandedICONsList = Object.assign({},element.localICONs);	// start with shallow copy
					element.querySelectorAll('button-part[icon]').forEach((btn)=>{
						if (!expandedICONsList[String(btn.icon)])
							expandedICONsList[String(btn.icon)] = exportimage(btn.shadowRoot.qs('#icon img'));
					});
					stackjson.importedICONs = JSON.stringify(expandedICONsList);
				}
				function exportimage(img) {
					var canvas = document.createElement('canvas');
					canvas.width = img.naturalWidth; canvas.height = img.naturalHeight;
					var ctx = canvas.getContext('2d');
					ctx.drawImage(img,0,0);
					return canvas.toDataURL('image/gif');
				}
				
				return better_emit_json_as_html(stackjson,1);
			},
			replaceAllContents(ds) {
				element.innerHTML='';
				element.appendChild(ds);
				currentCard = null;
				element.card = element.card;
			},
			clearUserSelections() {
				element.selectedPart = null; 
				element.polygonDragInProgress = false;
				var layer = element.currentLayer;
				if (layer) {
					if (layer.putItDown) { layer.putItDown(); delete layer.putItDown; }
					delete layer.pickItUp;
					layer.moveSelAnts(false);
				}
			},
			checkIfIdleMessagesAllowed() {
				
				// problem: idle is sent to card with no handler. then card changes. idle callback reports no idle, but we need to check again! soluton: just kill the timeout
				var allow = (element===sim.stack 
					&& !(element.parentNode && element.parentNode.classList && element.parentNode.classList.contains('loading')) 
					&& !element.isProcessingMouseDown 
					&& element.tool=='Browse' 
					&& !(window.scripteditor && scripteditor.visible));
				//console.log('idle allowed = ' + allow + ' on card ' + (sim.card && sim.card.name) + ', timer=' + element.idleTimer);
				if (!allow && element.idleTimer)
					{ clearTimeout(element.idleTimer); element.idleTimer = null; }
				else if (allow /*&& !element.idleTimer*/) {
					clearTimeout(element.idleTimer);
					element.idleTimer = setTimeout(()=>{ 
						//console.log('idle'); 
						if (element===sim.stack && !element.isProcessingMouseDown && element.tool=='Browse' && !(window.scripteditor && scripteditor.visible)) {
							//console.log('sending idle to card ' + (sim.card && sim.card.name) + ', timer=' + element.idleTimer);
							XTalk.Send(sim.card, 'idle', [], (success)=>{ /*console.log('idle success ' + success);*/ element.idleTimer = null; if (success) { element.checkIfIdleMessagesAllowed(); } }, false, true);
						}
						else element.checkIfIdleMessagesAllowed();
					}, 1); 
				}
			}
		};
	}
	</script>
</element-template>

































<element-template tag=card-or-background-template inherits=xtalk-common-template attributes="color,ID=0,dontSearch=false,cantDelete=false,showPict=true,bitmap,addColorData=''">
	<template><div id=cardcolor></div><div class=display><span class=background></span><span class=canvas></span><span class=text-tool-overlay></span><canvas id=select width=0 height=0></canvas><slot></slot></div><style>
		:host { 
			position: relative; display: inline-block; 
			--stack-or-card-width: calc(var(--stack-width, var(--card-width)));
			--stack-or-card-height: calc(var(--stack-height, var(--card-height)));
			touch-action: var(--tool-touch-action);
			contain: paint size style; /* layout triggers 4px margin below us */
		}
		:host #cardcolor 
		{ 
			position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: -1; pointer-events: none; 
		}

		:host div.display {
			position: absolute;
			left: 0;
			top: 0;
			right: 0;
			bottom: 0;
			padding: 0px; margin: 0px;
		}
		:host span.canvas, :host span.background {	/* stand in location for canvas if not used */ 
			display: none;
		}
		:host canvas.canvas {
			image-rendering: pixelated;
			image-rendering: -moz-crisp-edges;
			image-rendering: crisp-edges;
			background: transparent;
			position: absolute; left: 0px; top: 0px;
			width: calc(var(--stack-or-card-width) - 0px); height: var(--stack-or-card-height);
			pointer-events: none; 
			xmargin-right: -4px; xborder-right: 4px solid red;	/* This might fix Safari's bug with not drawing the backgrounds or beign in srcOr or something. However it stops working if the overflow is hidden. */
		}
		
		/* this gets the layering right, but now clicks in the background don't register */
		/*:host(background-part)  { z-index: -1;  }
		:host(background-part) canvas.canvas { xz-index: -1;  }
		:host(card-part) canvas.canvas { z-index: -1; }*/
		/* ok, leaving it alone right now, everything is good except the overflow is not hidden */
		
		:host([showPict="false" i]) canvas.canvas {
			display: none;
		}
		:host #select { /* the border appears below the image though when it's got a drag. Could fix with a container element with :after. It would make more sense to have <span class=select></span> and then put a canvas in there only when it's needed. */
			position: absolute; left: 0px; top: 0px; width: 0px; height: 0px;
			display: none;
			z-index: 1;
		}

	</style></template>
	<script>"use strict";
		var grayPngImg = new Image();
		grayPngImg.src = "ui-icons/gray.png";
		function set_gray_pattern(src)
		{
			grayPngImg.src = src || "ui-icons/gray.png";
		}
		
		function card_or_background_template(element,template) 
		{
			var canvas, context2d, dpr = Math.round(window.devicePixelRatio||1);
			template.qs('#cardcolor').style.setProperty('--background', element.color);
			
			// we can't do this here because at this point the template's <marching-ants> apparently hasn't been initialized at this time
			//template.qs('marching-ants').setTarget(template.qs('canvas#select'));
			
			return {
				prepareToShow()
				{
					// card_bitmap_to_load used 
					//if (element.name == 'A') debugger;
					//console.log('showing',element);
					
					var bitmap = (element.card_bitmap_to_load && element.card_bitmap_to_load.dataURL) || element.bitmap;
					if (bitmap) {
						var loader_img = new Image;
						loader_img.onload = function() {
							// there's an annoying flicker while it 'loads' why does it have to load from local base64 anyway?
							if (!element.parentNode) return;	// the card was created but then destroyed
							element.canvasContext2d.drawImage(this, 0, 0, this.width, this.height, 0, 0, this.width/dpr, this.height/dpr);   
							element.canvas.image_is_present = true;
						}
						loader_img.src = bitmap;
						//delete element.card_bitmap_to_load.dataURL;
					}
					else if (element.card_bitmap_to_load && element.card_bitmap_to_load.WOBA) {
						renderWOBA(element.card_bitmap_to_load.WOBA, element.canvasContext2d, dpr);
						//if (element.name == 'A') debugger;
					}
					else if (element.hasAttribute('WOBA')) {
						element.card_bitmap_to_load = { WOBA: element.getAttribute('WOBA').split(',').map((a,i)=>(i<12)?Number(a):a) };
						renderWOBA(element.card_bitmap_to_load.WOBA, element.canvasContext2d, dpr);
					}
					
					if (element.matches('card-part') && element.background) {
						//console.log('prepareToShow',element,element.background,element.background.qsa('button-part[id][sharedHilite="false" i]'));
						// default is sharedHilite, we're looking for not sharedhilite
						
						element.background.qsa('button-part[id][sharedHilite="false" i]').forEach((b)=>{
							//console.log(b, element.qs('div[slot="-' + b.id +'"]'));
							// oh great, now the btns and fields need different ids...hmm well in HC they do anyway...need ID creation
							b.hilite = !!element.qs('div[slot="-' + b.id +'"]');
						});
					}
					
					if (element.qs('video')) element.qs('video').load();
					if (element.qs('audio')) element.qs('audio').load();
				},
				prepareToHide()
				{
					//console.log('hiding',element);
					if (template.qs('canvas.canvas')) 
					{
						// need to copy back canvas?
						var span = document.createElement('span');
						span.className = 'canvas';
						template.qs('canvas.canvas').parentNode.replaceChild(span,template.qs('canvas.canvas'));
					}
					canvas = context2d = null;
					
					var select = template.qs('canvas#select');
					select.width = select.height = 0;
					select.getContext("2d").clearRect(0,0,1,1);
					
					if (element.internalBkgnd) {
						element.internalBkgnd.prepareToHide();
						element.internalBkgnd.parentNode.removeChild(element.internalBkgnd);
					}
					delete element.internalBkgnd;
				},
				connected() 
				{
				},
				toString()
				{
					return element.longName;
				},
				set color(value) {
					template.qs('#cardcolor').style.setProperty('--background', element.color);
					//template.qs('#cardcolor').style.background = value;
				},
				set addColorData(value) {
					var stack = sim.stackOf(element,true);
					if (stack && (stack.card===element || stack.background===element))
						stack.refreshAddColorStage();
				},
				produceAddColorCSS(localPICTs) {	// pass in stack.localPICTs[]
					var cssB = [], cssBS = [], cssBBM = [];
					JSON.parse(element.addColorData || '[]').forEach((obj)=>{
						if (obj.type=='rectangle')
							cssB.push('linear-gradient(to bottom, ' + obj.color + ' 0% , ' + obj.color + ' 100%) ' + obj.left + 'px ' + obj.top + 'px no-repeat');
						else if (obj.type=='picture') {
							// new import stores pict by ID with .name, older import stored pict by name with .ID
							var pict=null;
							for (var p in localPICTs)
								if (localPICTs[p].name && localPICTs[p].name.toLowerCase()==obj.name.toLowerCase()) { pict = localPICTs[p]; break; }
							if (!pict)
								pict = localPICTs[obj.name];
							cssB.push('url('+(pict ? pict.bitmap : '')+')' + ' ' + obj.left + 'px ' + obj.top + 'px no-repeat');
						}
						else return;
						cssBS.push((obj.right-obj.left) + 'px ' + (obj.bottom-obj.top) + 'px');
						cssBBM.push((obj.type=='picture' && obj.transparent) ? 'multiply' : 'normal');
					});
					element.qsa(':scope > button-part[color], :scope > field-part[color]').forEach((p)=>{
						if (!p.visible) return;
						var bevel = Math.abs(parseInt(p.bevel)), obj = { color: p.color, left: p.left+bevel, top: p.top+bevel, right: p.right-bevel, bottom: p.bottom-bevel };
						cssB.push('linear-gradient(to bottom, ' + obj.color + ' 0% , ' + obj.color + ' 100%) ' + obj.left + 'px ' + obj.top + 'px no-repeat');
						cssBS.push((obj.right-obj.left) + 'px ' + (obj.bottom-obj.top) + 'px');
						cssBBM.push((obj.type=='picture' && obj.transparent) ? 'multiply' : 'normal');
					});
					return { 'background': cssB.reverse().join(', '), 'size': cssBS.reverse().join(', '), 'blendMode': cssBBM.reverse().join(', ') };
				},
				get canvas() { 
					if (!canvas) {
						template.qs('span.canvas').parentNode.replaceChild((canvas=document.createElement('canvas')),template.qs('span.canvas'));
						canvas.className = 'canvas';
						if (element.nodeName.toLowerCase()=='background-part') canvas.style.zIndex = -1;
						
						canvas.style.width = element.width;
						canvas.style.height = element.height;
						canvas.width = element.width * dpr;
						canvas.height = element.height * dpr;
						//if (element.name=='A') debugger;
						
						context2d = canvas.getContext('2d', { willReadFrequently: true, antialias: false });
						context2d.lineWidth = 1;
						context2d.strokeStyle = 'black';
						context2d.scale(dpr,dpr);
						context2d.imageSmoothingEnabled = true;
					}
					return canvas;
				},
				get canvasContext2d() { 
					if (!context2d)
					{
						context2d = element.canvas.getContext("2d");
						context2d.gray_src = grayPngImg.src;
						context2d.gray_pattern = context2d.createPattern(grayPngImg, "repeat");
						//context2d.globalCompositeOperation = 'source-over';
						/*const img = new Image();
						img.src = "ui-icons/gray.png";
						img.onload = () => {
							context2d.gray_pattern = context2d.createPattern(img, "repeat");
						};*/
					}
					if (context2d.gray_src !== grayPngImg.src)
					{
						//console.log('recreating gray pattern');
						context2d.gray_pattern = context2d.createPattern(grayPngImg, "repeat");
					}
					
					return context2d; 
				},
				moveSelAnts(show, left, top, width, height) {
					var select = template.qs('canvas#select'), stack = element.closest('stack-part') || element.getRootNode().host.closest('stack-part');
					select.style.display = show ? 'initial' : 'none';
					stack.shadowRoot.qs('marching-ants').setTarget(show && select);
					stack.shadowRoot.qs('marching-ants').visible = show;
					if (show) {
						select.style.left = left+'px';
						select.style.top = top+'px';
						select.width = width * (window.devicePixelRatio||1);
						select.height = height * (window.devicePixelRatio||1);
						select.style.width = width+'px';
						select.style.height = height+'px';
					}
				},
				get savableJSON() {
					var out = sanitary(element);
					delete out.woba;
					if (element.card_bitmap_to_load && element.card_bitmap_to_load.WOBA)
						out.WOBA = element.card_bitmap_to_load.WOBA;
					else if (canvas && canvas.image_is_present) {
						if (element.putItDown) {
							var savecanvas = document.createElement('canvas');
							savecanvas.width = canvas.width; savecanvas.height = canvas.height;
							var saveContext = savecanvas.getContext('2d');
							saveContext.drawImage(canvas,0,0);
							saveContext.scale(dpr,dpr);
							saveContext.imageSmoothingEnabled = true;
							element.putItDown(false,saveContext);
							out.bitmap = savecanvas.toDataURL();
						}
						else if (false && element.putItDown) {
							// again it seems reasonable to control the process of saving canvas snapshots for undos
							console.log(1);
							var imgData = context2d.getImageData(0,0,canvas.width,canvas.height);
							console.log(2);
							element.putItDown(false);
							console.log(3);
							out.bitmap = canvas.toDataURL();
							console.log(4);
							context2d.putImageData(imgData,0,0);	// CRASH!
							console.log(5);
						}
						else out.bitmap = canvas.toDataURL('image/gif');
					}
					return out;
					function sanitary(node) {
						var out = {$:node.nodeName.toLowerCase()};
						Array.from(node.attributes).forEach((attr)=>{
							var key = attr.name.toLowerCase();
							if (key.substr(0,2)=='on' || key=='style' || key=='data-mutator' || key=='contenteditable') return;	// really want to exclude all nondeclared from -part types. 
							if (key=='src' && attr.value.substr(0,11).toLowerCase()=='javascript:') return;
							out[key] = attr.value;
						});
						Array.from((node.shared_contents || node).childNodes).forEach((child)=>{
							if (child.nodeType===1) 
								(out.$$=(out.$$||[])).push(sanitary(child));
							else if (child.nodeType===3)
								(out.$$=(out.$$||[])).push(child.nodeValue);
						});
						//if (node.shared_contents) console.log('serializing shared contents instead: ',node,node.shared_contents);
						return out;
					}
				},
				get savableHTML() {
					return better_emit_json_as_html(element.savableJSON);
				},
				markCanvasUsed() {
					if (canvas)
						canvas.image_is_present = true; 
					
					// put all this in a timeout or something! it doesnt need to fire until the stack saves
					if (element.clone_of) 
						delete element.clone_of.card_bitmap_to_load;
					delete element.card_bitmap_to_load;
					
					clearTimeout(element.canvasMutateTimeout);
					element.canvasMutateTimeout = setTimeout(()=>{
						//console.log('marked canvas mutated');
						element.setAttribute('bitmap', element.savableJSON.bitmap || '');
						element.setAttribute('data-mutator', Date.now()); 	// trigger mutation observer
					}, 10);
				},
				fld(n) { 
					return element.qsa('field-part')[number(n)-1]; 
				},
				btn(n) 
					{ return element.qsa(element.qsa('button-part'))[number(n)-1]; },
				part(n) 
					{ return element.qsa(element.qsa('button-part,field-part'))[number(n)-1]; },
				get maxID() {
					var maxid = 0;
					element.qsa('button-part,field-part').forEach((e)=>maxid=Math.max(maxid,Number(e.id)||0)); 
					return maxid;
				},
				/* would be nice to have some kind of interface that handles this stuff from rectangle */
				get left() { return 0; },
				get width() { return (element.clone_of || element).closest('stack-part').width; },
				get right() { return (element.clone_of || element).closest('stack-part').width; },
				get top() { return 0; },
				get height() { return (element.clone_of || element).closest('stack-part').height; },
				get bottom() { return (element.clone_of || element).closest('stack-part').height; },
				get rect() { return [0,0,(element.clone_of || element).closest('stack-part').width,(element.clone_of || element).closest('stack-part').height]; },
				get rectangle() { return [0,0,(element.clone_of || element).closest('stack-part').width,(element.clone_of || element).closest('stack-part').height]; }
				
			}
		}
	</script>
</element-template>

<element-template tag=card-part inherits=card-or-background-template attributes="marked=false,bkgndID=0">
	<template><style>
		:host {
			box-sizing: border-box;
		}
		
		:host:before { content: "-"; font-size: 1px; visibility: hidden; pointer-events: none; display: inline-block; height: 0px; width: 0px; }	 
		/*:host:after { content: "-"; font-size: 1px; visibility: hidden; pointer-events: none; display: inline-block; height: 0px; width: 0px; }	 */
		/* Safari bug workaround: the " " avoids that 4px margin below the card in Safari. But it causes a repaint on every mouseEnter and mouseLeave of card parts...
		 I think it's the larger outside web component that gets redrawn, sometimes the modal dialog, sometimes the card */
		
		/* the background is above the card color. So we want to hide the background color if we have a card color. */
		/* But ONLY in non-background mode. */
		:host([color]) background-part { --backgrounded-card-color: var(--override-backgrounded-card-color); }

		:host canvas.canvas { display: var(--background-mode-none, initial); z-index: 1; }
		:host slot { visibility: var(--background-mode-hidden, visible); }
		:host background-part { 
			position: absolute; left: 0; top: 0;
			width: var(--stack-or-card-width); 
			height: var(--stack-or-card-height); 
			--background: white;
		}
		:host background-part button-part { outline: var(--bkgnd-button-part-outline, var(--part-outline)); pointer-events: var(--card-or-bkgnd-part-pointer-events); }
		:host background-part field-part { outline: var(--bkgnd-field-part-outline, var(--part-outline)); pointer-events: var(--card-or-bkgnd-part-pointer-events); }

		:host background-part field-part:not([wideMargins="false" i]):not([sharedText]) { padding: 4px 5px; }
		:host background-part field-part[autoSelect]:not([autoSelect="false" i]) > div.selected { background: black; color: white; margin-left: -0.25em; margin-right: -0.25em; padding: 0 0.25em; } 

		:host background-part > *  
			{ transform: translate3d(0,0,0); } 	/* this, finally, seems to fix the ghastly transform clipping bug in Safari */

		/* this one works for background flds */
		:host /*background-part*/ field-part:not([fixedLineHeight]) > div:nth-of-type(1):first-line { xcolor: green; line-height: var(--first-field-line-line-height); }
				
		:host /*background-part*/ .bold { font-weight: bold; } 
		:host /*background-part*/ .underline { text-decoration: underline; } 
		:host /*background-part*/ .italic { font-style: italic; } 
		:host /*background-part*/ .outline { -webkit-text-stroke: 0.5px black; text-stroke: 0.5px black; color: white; caret-color: black; font-weight: bold; }
		:host /*background-part*/ .shadow { text-shadow: 1px 1px 2px gray; }
		:host /*background-part*/ .outline.shadow { text-shadow: 1px 1px 0px black; letter-spacing: 1px; }
		:host /*background-part*/ .condense:not(.extend) { letter-spacing: -1px; }
		:host /*background-part*/ .extend:not(.condense) { letter-spacing: 1px; }
		:host /*background-part*/ .group { text-decoration: underline; text-decoration-style: dotted; text-decoration-thickness: 2px;  }
		:host /*background-part*/ [textAlign="left" i] { text-align: left; }
		:host /*background-part*/ [textAlign="center" i] { text-align: center; }
		:host /*background-part*/ [textAlign="right" i] { text-align: right; }
		
		:host #cardcolor 
		{ 
			background: var(--background, transparent); 
			background-size: contain;
		}
		:host #cardcolor[hasAddColorData=true] {
			background: var(--stack-background-mode-empty-url, var(--colorData-background-for-card, url())), var(--colorData-background-for-bkgnd, url());
			background-size: var(--stack-background-mode-cover, var(--colorData-background-size-for-card, cover)), var(--colorData-background-size-for-bkgnd, cover);
			background-blend-mode: var(--stack-background-mode-normal, var(--colorData-background-blend-mode-for-card, normal)), var(--colorData-background-blend-mode-for-bkgnd, normal);
		}
		:host div.display[hasAddColorData=true] {
			mix-blend-mode: multiply;
			--hasAddColorData-inhibit-color: hasAddColorData-inhibit-color;
		}

	</style></template>
	<style>
		
		/*stack-part.background-mode > card-part {
			--colorData-background-mode-url-empty: url();
		}*/
		
		card-part {
			width: var(--stack-or-card-width); 
			height: var(--stack-or-card-height); 
			--first-field-line-line-height: 1;
		}
				
		card-part button-part { outline: var(--card-button-part-outline, var(--part-outline)); pointer-events: var(--card-or-bkgnd-part-pointer-events); cursor: var(--pointer-cursor), pointer; }
		card-part field-part { outline: var(--card-field-part-outline, var(--part-outline)); pointer-events: var(--card-or-bkgnd-part-pointer-events); cursor: var(--pointer-cursor), pointer; }
		stack-part[tool] > card-part field-part { outline: var(--card-field-part-outline, var(--part-outline)); pointer-events: var(--card-or-bkgnd-part-pointer-events); }
		card-part a { pointer-events: var(--card-or-bkgnd-part-pointer-events); }
		card-part > iframe { outline: thin solid gray; position: relative; }
		card-part > video { position: relative; }
		
		/* buttons inside fields make sense and carets work well */
		field-part button-part:not([topLeft]) { margin: 0 1px 0 3px; vertical-align: middle; }
		
		body stack-part:not([tool]) > card-part field-part button-part:not(topLeft]):not(:active) { 
			-webkit-user-select: all; user-select: all; x--background: transparent;
		}
		
		/* this one really works for bg flds with card text, but does nothing for shared text or card fields */
		card-part > div[slot] > div:nth-of-type(1):first-line { xcolor: red; line-height: var(--first-field-line-line-height); }
		
		/* this one works for card flds */
		card-part field-part:not([fixedLineHeight]) > div:nth-of-type(1):first-line { xcolor: orange; line-height: var(--first-field-line-line-height); }
		
	</style>
	<script>
		function card_part(element,template) 
		{
			return {
				get background() {
					// returns the cloned node if it exists
					var bg = element.bkgndID && element.closest('stack-part') && element.closest('stack-part').qs(`:scope > background-part[ID="${element.bkgndID}"]`);
					return bg && (bg.cloned_node || bg);
				},
				get card() {
					return element;
				},
				get owner() {
					return this.background;	
				},
				get number() {
					return Array.from(element.closest('stack-part').qsa(element.nodeName)).indexOf(element) + 1;
				},
				set number(value) {
					var stack = element.closest('stack-part'), group = Array.from(stack.qsa(element.nodeName));
					if ((value=Math.max(1, number(value))) < group.length)
						group[value-1].parentNode.insertBefore(element, group[value - (group.indexOf(element)>value ? 1 : 0)]);
					else stack.appendChild(element);
				}
			};
		}
	</script>
</element-template>

<element-template tag=background-part inherits=card-or-background-template attributes="">
	<template><slot></slot><style>
		:host #cardcolor 
		{ 
			background: var(--backgrounded-card-color, var(--background, transparent)); 
			background-size: contain;
		}
	</style></template>
	<style>
		body stack-part > background-part { display: none; }
		
	</style>
	<script>
		function background_part(element,template) 
		{
			return {
				get background() {
					return element;
					// returns the cloned node if it exists
					/*var bg = element.bkgndID && element.closest('stack-part').qs(`:scope > background-part[ID="${element.bkgndID}"]`);
					return bg && (bg.cloned_node || bg);*/
				},
				get card() {
					return sim.card;
				},
				get number() {
					var me = element.clone_of || element;
					return Array.from(me.closest('stack-part').qsa(me.nodeName)).indexOf(me) + 1;
				},
			};
		}
	</script>
</element-template>






















<element-template tag=button-or-field-template inherits=xtalk-common-template attributes="id,visible=true,topLeft,width,height,textHeight,textAlign='',textFont='',textSize='',textStyle='plain',color='',bevel=0">
	<template><style>
		:host {
			position: relative; z-index: 1;
			width: var(--width, auto); 
			height: var(--height, auto); 
			font: var(--font); 
			--left: 0px; --top: 0px;
		}
		:host([visible="false" i]) { 
			/* making the bg fld invisible doesn't hide the slotted div apparently. But display: none will. (--override-visibility is 'initial' so still works) */
			visibility: var(--override-visibility, hidden); 
			display: var(--override-visibility, none); 	
			/*opacity: 0; pointer-events: none; */
		}
		:host([topLeft]) { position: absolute; left: var(--left); top: var(--top); }
		:host([topleft][width][height]) { contain: strict; }
	</style></template>
	<script>"use strict";
		function button_or_field_template(element,template)
		{			
			function adjustFont()
			{
				// hc lineheight is different! very mysterious. let's say if it's 32 then go to css lineheight 0
				//element.style.lineHeight = (element.textSize && element.textSize >= 16) ? 1.2-(Math.min(8,element.textSize-16)/40) : '';
				element.style.lineHeight = (element.textSize && element.textHeight) 
					? parseFloat(element.textHeight)/parseFloat(element.textSize) 
					: '';
				/*element.style.lineHeight = (element.lineHeight && parseFloat(element.lineHeight) >= 16) 
					? 1.2-(Math.max(24,element.lineHeight)/4) 
					: (element.textSize && element.lineHeight) 
					? parseFloat(element.lineHeight)/parseFloat(element.textSize)
					: '';*/
				//if (element.style.lineHeight) console.log(element.style.lineHeight);
				element.style.fontFamily = element.textFont;
				element.style.fontSize = element.textSize+'px';
				var styles = String(element.textStyle).toLowerCase().split(/[\W]+/g);
				['bold','italic','underline','outline','shadow','condense','extend','group'].forEach((s)=>element.classList.toggle(s,styles.includes(s)));
			}
			adjustFont();
			
			return {
				get owner() {
					return element.closest('card-part, background-part'); 
				},
				get number() {
					return Array.from(element.owner.qsa(element.nodeName)).indexOf(element) + 1;
				},
				set number(value) {
					var group = Array.from(element.closest('card-part, background-part').qsa(element.nodeName));
					if ((value=Math.max(1, number(value))) < group.length)
						group[value-1].parentNode.insertBefore(element, group[value - (group.indexOf(element)>value ? 1 : 0)]);
					else element.owner.appendChild(element);
				},
				get partNumber() {
					return Array.from(element.owner.qsa('button-part,field-part')).indexOf(element) + 1;
				},
				set partNumber(value) {
					var group = Array.from(element.closest('card-part, background-part').qsa('button-part,field-part'));
					if ((value=Math.max(1, number(value))) < group.length)
						group[value-1].parentNode.insertBefore(element, group[value - (group.indexOf(element)>value ? 1 : 0)]);
					else element.owner.appendChild(element);
				},
				get visible() {
					return !element.matches('[visible="false" i]');
				},
				set textFont(value) { adjustFont(); },
				set textSize(value) { adjustFont(); },
				set textStyle(value) { adjustFont(); },
				set textAlign(value) { adjustFont(); },
				set textHeight(value) { adjustFont(); },
				set topLeft(value) {
					value = value && point(value) || '';
					element.style.setProperty('--left', (value.length==2) ? value[0]+'px' : '');
					element.style.setProperty('--top', (value.length==2) ? value[1]+'px' : '');
				},
				get location() {
					if (!(element.topLeft && element.width && element.height))
						return "";
					var value = point(element.topLeft); 
					return [value[0] + Math.floor(parseInt(element.width)/2), value[1] + Math.floor(parseInt(element.height)/2)];
				},
				set location(value) {
					value = point(value); 
					if (value.length == 2)
						element.topLeft = [value[0] - Math.floor((parseInt(element.width)||0)/2),
							value[1] - Math.floor((parseInt(element.height)||0)/2)];
				},
				get loc() { return element.location; }, set loc(value) { element.location = value; },
				get left() {
					return point(element.topLeft)[0];
				},
				set left(value) {
					var loc = point(element.topLeft);
					element.topLeft = [value,loc[1]];
				},
				get top() {
					return point(element.topLeft)[1];
				},
				set top(value) {
					var loc = point(element.topLeft);
					element.topLeft = [loc[0],value];
				},
				get right() {
					return point(element.topLeft)[0] + number(element.width);
				},
				set right(value) {
					element.left = number(value) - number(element.width);
				},
				get bottom() {
					return point(element.topLeft)[1] + number(element.height);
				},
				set bottom(value) {
					element.top = number(value) - number(element.height);
				},
				set width(value) {
					// note that if something changes the style.width on the obejct itself it will stick there
					element.style.setProperty('--width', (value=='') ? '' : value+'px');
				},
				get bottomRight() {
					return [number(element.left) + number(element.width), number(element.top) + number(element.height)]; 
				},
				set bottomRight(value) {
					value = point(value);
					element.right = value[0];
					element.bottom = value[1];
				},
				get botRight() { return element.bottomRight; }, 
				set botRight(v) { element.bottomRight = v; },
				set height(value) {
					element.style.setProperty('--height', (value=='') ? '' : value+'px');
				},
				get rectangle() {
					var loc = element.topLeft&&point(element.topLeft) || [0,0] 
					return loc.concat([loc[0] + parseInt(element.width || element.offsetWidth), loc[1] + parseInt(element.height || element.offsetHeight)]);
				},
				set rectangle(value) {
					value = rectangle(value); 
					element.topLeft = [value[0],value[1]];
					element.width = value[2]-value[0];
					element.height = value[3]-value[1];
				},
				get rect() { return element.rectangle; }, 
				set rect(v) { element.rectangle = v; }
			}
		}
	</script>
</element-template>

<element-template tag=field-part inherits=button-or-field-template attributes="type,scroll=0,lockText=false,dontWrap=false,autoSelect=false,sharedText=false,multipleLines=false,wideMargins=true,fixedLineHeight=false,showLines=false">
	<!-- Chrome gets confused if you're editing inside contenteditable but it's not the div, luckily we have a workaround here !-->
	<template><div id=inner><slot></slot></div><style>
		:host { 
			display: flex; box-sizing: border-box; overflow: hidden; 
			-webkit-user-select: text; user-select: auto; /* text,auto? */ 
			min-height: 1em;
			word-wrap: break-word;
			white-space: pre-wrap;
			tab-size: 2;
			-webkit-nbsp-mode: space;
			line-break: after-white-space;	
			--background: white;
			--fld-border: none;
			--font: var(--stack-field-font, inherit); 
			position: relative; 
			border: var(--fld-border, 1px solid transparent);
			box-sizing: border-box;
			--part-outline: 1px solid transparent;
			outline: var(--part-outline); outline-offset: -1px; 
			
			background: var(--special-field-tool-background-color-attribute, var(--color-attribute, var(--background, white)));
			/* note: this keyframe has the same 0%,100% and the animation has one step. If the browser is wasting cycles redrawing your page that's ITS fault. */
			animation: var(--hasAddColorData-inhibit-color, none) 2147483647s normal steps(1);
			
			background-size: contain; 
			background-attachment: local; 
			background-position: var(--special-field-tool-background-position, 0px calc(3px - 0.1em));
		}
		@keyframes hasAddColorData-inhibit-color { 
			0%,100% { background: var(--special-field-tool-background, var(--background, white)); }
		}
		
		:host([showLines]:not([showLines="false" i])) {
			--special-field-tool-background: repeating-linear-gradient(var(--background, transparent), var(--background, transparent) calc(1.125em - 1px), #CCC 1.125em);
			--special-field-tool-background-color-attribute: repeating-linear-gradient(var(--color-attribute, var(--background, transparent)), var(--color-attribute, var(--background, transparent)) calc(1.125em - 1px), #CCC 1.125em);
		}
		:host([wideMargins="false" i]) {
			--special-field-tool-background-position: 0px calc(0px - 0.1em);
		}

		:host(:not([lockText])) { cursor: text; }
		:host(:not([topLeft])) { margin: 0.25em; }
		:host(:not([wideMargins="false" i])) div#inner { padding: var(--field-padding, 4px); }
		:host([wideMargins="false" i]) div#inner { padding: var(--field-padding, 1px 3px); }
		:host([dontWrap]) { white-space: nowrap; }
		:host([type="transparent" i]), :host(:not([type])) { xbackground: var(--background); --background: transparent; --fld-border: 1px solid transparent; --plusbevel: 0px; }
		:host([type="opaque" i]) { xbackground: var(--background); --plusbevel: 0px; --fld-border: 1px solid transparent; 
			clip-path: inset(0px 0px);	/* workaround for another Safari draw bug */
		}
		:host([type="rectangle" i]) { xbackground: var(--background); --fld-border: 1px solid transparent; --part-outline: 1px solid black; --plusbevel: 1px; }
		:host([type="shadow" i]) { xbackground: var(--background); --fld-border: 1px solid transparent; --part-outline: 1px solid black; --plusbevel: 1px; 
			box-shadow: 2px 2px 0px 0px black; }
		:host([type="scrolling" i]) { xbackground: var(--background); --plusbevel: 1px; --fld-border: 1px solid transparent; --part-outline: 1px solid black; overflow: scroll; max-height: 100%; --background: white; overscroll-behavior: contain; }
		
		::slotted(div[slot]) { flex: 1; }
		
		:host div#inner { flex: 1; outline: none; --color-attribute: transparent; }
		/* this seems to cover Chrome's need to have a container div for CE text. Otherwise it limits selection to a single div -- wrong behaviour. */
		/* turns out it's not enough for safari though, because it won't accept clicks in the empty space without contenteditable. Oh well
		/*:host(:not([lockText])) > div#inner { -webkit-user-modify: read-write; -webkit-user-select: text; }*/
			
	</style></template>
	<style>
		/* none of this gets seen in the background field unfortunately */
		/*field-part[autoSelect]:not([autoSelect="false" i]) > div { user-select: all; -webkit-user-select: all; }*/
		
		field-part a { color: #222; text-decoration-style: solid; text-decoration-color: gray; }
		field-part a:visited { color: #66A; }
		field-part a:active { color: blue; }
		card-part > div[slot] { outline: none; }
		
		/* this will work for card fields, but not background fields */
		field-part:not([fixedLineHeight="true"]) > div:nth-of-type(1):first-line { line-height: 1; } 	/* might help dunno yet */
		field-part[autoSelect]:not([autoSelect="false" i]) > div.selected { background: black; color: white; margin-left: -0.25em; margin-right: -0.25em; padding: 0 0.25em; } 
		card-part > div[slot] > div.selected { background: black; color: white; margin-left: -0.25em; margin-right: -0.25em; padding: 0 0.25em; } 

	</style>
	<script>"use strict";
		
		function field_part(element,template)
		{			
			if (element.getAttribute('spellcheck')) template.qs('#inner').setAttribute('spellcheck',element.getAttribute('spellcheck'));
			if (element.getAttribute('autoreplace')) template.qs('#inner').setAttribute('autoreplace',element.getAttribute('autoreplace'));
			
			element.addEventListener('scroll',(event)=>element.scroll=element.scrollTop);
			
			element.dirty = false; 
			//element.addEventListener('input', (event)=>{ /*console.log('input',element);*/ dirty = true; XTalk.Send(element, 'keyDown', [event.data]); }, true);
			element.addEventListener('input', (event)=>{ /*console.log('input',element);*/ element.dirty = true; }, true);
			//element.addEventListener('keydown', (event)=>{ console.log('keydown',element); element.dirty = true; XTalk.Send(element, 'keyDown', [(event.key=='Enter')?'\n':event.key]); }, true);
			element.addEventListener('focus', (event)=>{ /*console.log('focis',element);*/ /*element.dirty = false;*/ XTalk.Send(element, 'openField'); }, true);
			element.addEventListener('blur', (event)=>{ /*console.log('blur',element);*/ 
				var wasDirty = element.dirty;
				if (!element.leaveDirtyOnClose) element.dirty=false; 
				XTalk.Send(element, wasDirty ? 'closeField' : 'exitField'); 
			}, true);
			
			element.addEventListener('pointerdown', (event)=>{
				var target = event.composedPath()[0] || event.target;
				var clickDiv = target.closest('field-part > div') || target.closest('div[slot] > div');
				//console.log(clickDiv);
				
				/*if (element.matches('[autoSelect]:not([autoSelect="false" i])'))
					element.contentsContainer().qsa(':scope > div').forEach
						((d,i,a)=>d.classList.toggle('selected', (d===clickDiv) || (i===a.length-1 && !clickDiv && (clickDiv=d))));*/
				if (element.matches('[autoSelect]:not([autoSelect="false" i])'))
					element.selectedLine = Array.from(element.contentsContainer().qsa(':scope > div')).findIndex((d)=>(d===clickDiv)) + 1;

				if (element.closest('card-part, background-part'))	// only for stacks
					sim.clickLine = clickDiv ? 'line ' + (Array.from(clickDiv.parentNode.qsa(':scope > div')).findIndex((d)=>d===clickDiv)+1) + ' of ' + element.longName : '';
			});
			
			var bkgnd_content_slot = null, attachedTarget = null;
			function detachfix() 
				{ if (attachedTarget) { ContentEditableFix.Detach(attachedTarget); attachedTarget = null; } }
			function adjustcontenteditable() { 
				if (!element.isConnected) return;	// don't do this until the field is 'awake'
				// there is an issue: if the field is connected, and then text streams in, an initial <div><br></div> would be placed, this is bad
				detachfix();
				var ceTarget = bkgnd_content_slot && bkgnd_content_slot.assignedNodes()[0], lock = (element.lockText && element.lockText != 'false');
				if (ceTarget) {
					ContentEditableFix.Attach(attachedTarget=ceTarget);
					//ceTarget.contentEditable = !(element.lockText && element.lockText != 'false');
					element.contentEditable = false;
				}
				else {
					ContentEditableFix.Attach(attachedTarget=element);
					template.qs('#inner').contentEditable = !lock;
					//element.contentEditable = !(element.lockText && element.lockText != 'false');
				}
				(ceTarget || element).contentEditable = !lock;
			}
			//if (element.name=='Safari') debugger;
			function setaddcolor() {
				element.style.setProperty('--fld-border', (element.color || element.bevel)
					? ('calc(' + Math.abs(element.bevel||0) + 'px + var(--plusbevel, 0px)) ' + ((element.bevel < 0) ? 'inset' : 'outset') + ' ' + (element.color || ''))
				: '');
				element.style.setProperty('--color-attribute', element.color || '');
			}
			setaddcolor();
			//element.style.setProperty('--background', element.color);
			return {
				// ok I need bkgndFieldDuty to track changes to sharedText. the original sharedtext maybe belongs in the original background.
				assumeBkgndFieldDuty() {	// this is permanent and seems to run before connected()
					detachfix();
					Array.from(element.qsa('slot')).forEach((c)=>{ if (c.nodeName=='SLOT') c.parentNode.removeChild(c); });
					//console.log('assuming bg fld duty',element);
					var slotname = '-'+element.id;
					template.qs('div#inner').parentNode.insertBefore(template.qs('slot'),template.qs('div#inner'));
					template.qs('div#inner').style.display='none';
					//template.replaceChild(template.qs('div#inner slot'), template.qs('div#inner'));	// needed or we a click in empty space won't select the field
					if (bkgnd_content_slot && bkgnd_content_slot.parentNode) bkgnd_content_slot.parentNode.removeChild(bkgnd_content_slot);
					bkgnd_content_slot = document.createElement('slot');
					bkgnd_content_slot.name = slotname;
					bkgnd_content_slot.addEventListener('slotchange',(event)=>{ /*console.log('slot changed', bkgnd_content_slot.assignedNodes());*/ adjustcontenteditable(); });
					// here's the trick...KEEP the inner HTML. (do we care if it's nodes here?)
					element.shared_contents = new DocumentFragment();
					while (element.firstChild) {
						if (element.firstChild.nodeName=='SLOT') element.removeChild(element.firstChild);
						else element.shared_contents.appendChild(element.firstChild);
					}
					element.appendChild(bkgnd_content_slot);
					//console.log('assumeBkgndFieldDuty');
					adjustcontenteditable();
				},
				relieveBkgndFieldDuty() {
					detachfix();
					//console.log('relieving bkgnd duty',element);
					//debugger;
					// background fields have a <slot name=-id></slot>, which tends to get turned into <div><slot name=-id></slot><br></div>
					if (bkgnd_content_slot && bkgnd_content_slot.parentNode) bkgnd_content_slot.parentNode.removeChild(bkgnd_content_slot);
					bkgnd_content_slot = null;
					template.qs('div#inner').appendChild(template.qs('slot'));
					template.qs('div#inner').style.display='';
					element.innerHTML = '';
					element.appendChild(element.shared_contents);
					delete element.shared_contents;
					Array.from(element.qsa('slot')).forEach((c)=>{ if (c.nodeName=='SLOT') c.parentNode.removeChild(c); });
					adjustcontenteditable();
				},
				contentsContainer() {
					return (bkgnd_content_slot && bkgnd_content_slot.assignedNodes()[0]) || element;
				},
				connected() {
					//console.log('field connected');
					adjustcontenteditable();
					element.scrollTop = element.scroll||0;
				},
				disconnected() {
					detachfix();
				},
				set color(value) { setaddcolor(); },
				set bevel(value) { setaddcolor(); },
				set scroll(value) {
					element.scrollTop = value||0;
				},
				get contents() { 
					return ContentEditableFix.InnerText(element.contentsContainer());
				},
				set contents(value) { 
					// would be nice to trigger the ContentEditableFix quickly, but this will work
					//console.log(element.id);
					//if (element===askdialog.qs('#askdialog #result')) console.log('beep');
					//element.contentsContainer().innerHTML = String(value).split('\n').map((v)=>"<div>"+ContentEditableFix.HTMLEncode(v)+"<br></div>").join('');
					value = String(value);
					element.contentsContainer().innerHTML = !value.trim() ? "<div><br></div>" : "<div>"+value.split('\n').map((v)=>ContentEditableFix.HTMLEncode(v)).join('<br></div><div>')+"</div>";
				},
				contentsProxyForCard(card) {
					if (element.sharedText) return element;
					return new Proxy(element, {
						get(obj,prop,receiver) {
							//console.log(obj,prop);
							if (typeof prop === 'string' && prop.toLowerCase() === 'contents') {
								var src = card.qs(':scope > div[slot="-' + element.id + '"]');
								return src ? ContentEditableFix.InnerText(src) : '';
							}
							return Reflect.get(...arguments);
						},
						set(obj,prop,value) {
							//console.log(obj,prop,value);
							if (typeof prop === 'string' && prop.toLowerCase() === 'contents') {
								var src = card.qs(':scope > div[slot="-' + element.id + '"]');
								if (!src) {
									card.appendChild(src=document.createElement('div'));
									src.setAttribute('slot', "-" + element.id);
								}
								//src.innerHTML = String(value).split('\n').map((v)=>"<div>"+ContentEditableFix.HTMLEncode(v)+"<br></div>").join('');
								value = String(value);
								src.innerHTML = !value.trim() ? "<div><br></div>" : "<div>"+value.split('\n').map((v)=>ContentEditableFix.HTMLEncode(v)).join('<br></div><div>')+"</div>";
								return true;
							}
							return Reflect.set(...arguments);
						}
					});
				},
				/*contentsContainerForCard(card) {
					return (!element.sharedText && card.qs(':scope > div[slot="-' + element.id + '"]')) || element;
				},
				contentsForCard(card) {
					if (element.sharedText) return element.contents;
					var src = card.qs(':scope > div[slot="-' + element.id + '"]');
					return src ? ContentEditableFix.InnerText(src) : '';
				},*/
				set lockText(value) { 
					adjustcontenteditable();
				},
				set sharedText(value) {
					var st = String(value) && String(value)!='false';
					if (st && bkgnd_content_slot)
						element.relieveBkgndFieldDuty();
					else if (!st && !bkgnd_content_slot 
						&& element.closest('background-part,card-part') && element.closest('background-part,card-part').matches('background-part'))
						element.assumeBkgndFieldDuty();
				},
				get selectedDiv() {
					// for autoSelect
					return element.contentsContainer().qs(':scope > div.selected');
				},
				get selectedText() {
					// for autoSelect
					var text = Array.from(element.contentsContainer().qsa(':scope > div.selected')).map((d,i)=>ContentEditableFix.InnerText(d)).join('\n');
					text = (text[text.length-1]=='\n') ? text.substr(0,text.length-1) : text;
					return text;
				},
				set selectedText(value) {
					value = String(value).toLowerCase();
					var lines = Array.from(element.contentsContainer().qsa(':scope > div'));
					var index = lines.findIndex((d)=>{
						var text = ContentEditableFix.InnerText(d).toLowerCase();
						text = (text[text.length-1]=='\n') ? text.substr(0,text.length-1) : text;
						return (text.toLowerCase()==value);
					});
					lines.forEach((d,i)=>d.classList.toggle('selected', (i===index)));
				},
				get selectedLine() {
					// for autoSelect or for regular selection
					var min = 0, max = 0, sel = getSelection(), range = sel.rangeCount && sel.getRangeAt(0);
					Array.from(element.contentsContainer().qsa(':scope > div')).forEach((d,i)=>{
						if (!d.classList.contains('selected') && !(range && range.intersectsNode(d))) return;
						min = Math.min(i+1, min || (i+1));
						max = Math.max(i+1, max || (i+1));
					});
					return 'line ' + min + ' to ' + max + ' of ' + element.longName;
				},
				set selectedLine(value) {
					// for autoSelect
					//debugger;
					if (element.matches('[autoSelect]:not([autoSelect="false" i])')) {
						value=number(value);
						Array.from(element.contentsContainer().qsa(':scope > div')).forEach
							((d,i,a)=>d.classList.toggle('selected', (i==value-1) || (i===a.length-1 && value>a.length)));
					}
					else { 
						value = parseInt(value);
						var div = element.contentsContainer().qsa(':scope > div')[value-1];
						if (div) getSelection().selectAllChildren(div);
					}
				}
			};
		}
	</script>
</element-template>

<element-template tag=button-part inherits=button-or-field-template 
	attributes="type=transparent,hilite|highlight|highlite|hilight=false,autoHilite=true,sharedHilite=true,family='',showName=true,enabled=true,icon=0,selectedLine=0">
	<template><section id=section><slot></slot></section><label id=inner for=#><input type=checkbox><div id=icon><img draggable=false></div><div id=caption></div><select></select></label><style>		
		:host { 
			position: relative; display: inline-block; overflow: hidden; box-sizing: border-box; 
			vertical-align: middle;
			--default-font: bold 1em system-ui;
			--font: var(--stack-button-font, var(--default-font)); 
			--width: auto; --height: auto; --inner-inset: 0px;
			-webkit-user-select: none; user-select: none; -webkit-user-modify: none; user-modify: none;
			--part-outline: 1px solid transparent;
			outline: var(--part-outline); outline-offset: -1px; 
			/*outline: none; outline-offset: -1px;*/
		} 
		:host * { pointer-events: var(--context-menu-none); }	/* make shadow invisible to context events */
		:host([textFont]:not([textFont=""])) { --default-font: inherit; }
		
		:host #section { 
			/* this needs to be here for innerText to work...*/
			display: inline; opacity:0; position:absolute; width: 0px; height: 0px; overflow: hidden; pointer-events: none;
		}
		
		/* need to go down the list and make variables for everything */
		:host { --background: white; --color: black; --border: black; }
		:host(:not([type])), :host([type="transparent" i]), :host([type="oval" i]), :host([type=checkbox i]), :host([type=radiobutton i]), :host([type=popup i]) { 
			--background: --transparent; 
			--icon-caption-background: white;
		}
		
		/* transparent disabled buttons gray out the background */
		:host([enabled="false" i]:not([type])), :host([enabled="false" i][type="transparent" i]) {
			-webkit-backdrop-filter: invert(100%) brightness(33%) invert(100%);
			backdrop-filter: invert(100%) brightness(33%) invert(100%);
		}
		
		:host([enabled="false" i]) { --border: gray; x-webkit-filter: invert(100%) brightness(70%) invert(100%); }
		:host([enabled="false" i]) #inner *:not(input) { opacity: 0.5; }
		
		:host(:not([autoHilite="false" i]):not([enabled="false" i]):hover:active), 
		:host([hilite]:not([hilite="false" i])) { 
			--active-background: black; --active-color: var(--background); --active-img-filter: invert(100%); --active-value-none: none; --icon-caption-background: inherit; 
		}
		:host(:not([autoHilite="false" i]):not([enabled="false" i]):not([type="checkbox" i]):not([type="radiobutton" i]):hover:active), 
		:host([hilite]:not([hilite="false" i]):not([type="checkbox" i]):not([type="radiobutton" i])) { 
			--hasAddColorData-inhibit-color: none;	/* just during the hilite should be fine */
		}
				
		:host(:not([type]):not([autoHilite="false" i]):not([enabled="false" i]):active:hover), 
		:host(:not([type])[hilite]:not([hilite="false" i])),
		:host([type="transparent" i]:not([autoHilite="false" i]):not([enabled="false" i]):active:hover), 
		:host([type="transparent" i][hilite]:not([hilite="false" i])),
		:host([type="oval" i]:not([autoHilite="false" i]):not([enabled="false" i]):active:hover), :host([type="oval" i][hilite]:not([hilite="false" i])) {
			--special-background-filter: var(--inversion-backdrop-filter-transparent);	/* if supported */
			-webkit-backdrop-filter: var(--inversion-backdrop-filter); 
			-moz-backdrop-filter: var(--inversion-backdrop-filter); 
			backdrop-filter: var(--inversion-backdrop-filter); 
			--active-color: white; 
		}
		:host([type="popup" i]:not([autoHilite="false" i]):not([enabled="false" i]):active:hover), :host([type="popup" i][hilite]:not([hilite="false" i])) 
			{ --active-color: white; }
		
		@keyframes hasAddColorData-inhibit-color { 
			/* Safari problem: when --active-background changes, the animation doesn't notice. I think we can fix this temporarily by zeroing out the animation during hilite */
			/* we're doing all this, by the way, so that the card can set a CSS variable that will inhibit --color-attribute. Isn't there a better way?? */
			0%,100% { background: var(--special-background-filter, var(--active-background, var(--background))); }
		}

		:host(:not([type])) #inner, :host([type="transparent" i]) #inner, :host([type="opaque" i]) #inner, :host([type="rectangle" i]) #inner, :host([type="roundrect" i]) #inner, :host([type="shadow" i]) #inner, :host([type="standard" i]) #inner, :host([type="default" i]) #inner, :host([type="oval" i]) #inner, :host([type="popup" i]) #icon 
		{
			background: var(--special-background-filter, var(--active-background, var(--color-attribute, var(--background))));
			/* note: this keyframe has the same 0%,100% and the animation has one step. If the browser is wasting cycles redrawing your page that's ITS fault. */
			animation: var(--hasAddColorData-inhibit-color, none) 2147483647s normal steps(1);
						
			color: var(--active-color, var(--color));
			border: var(--border);
		}
		:host([type="popup" i]) #inner
		{
			background: var(--color-attribute, var(--background));
			animation: var(--hasAddColorData-inhibit-color, none) 2147483647s normal steps(1);
			
			color: var(--color);
			border: var(--border); 
		}
		:host([type="popup" i]) #caption
		{
			background: var(--active-background, var(--color-attribute, none));
			animation: var(--hasAddColorData-inhibit-color, none) 2147483647s normal steps(1);

			color: var(--active-color, var(--color));
		}
		:host([type="checkbox" i]) #inner, :host([type="radiobutton" i]) #inner {
			background: var(--color-attribute, var(--background));
			--active-background: transparent;
			animation: var(--hasAddColorData-inhibit-color, none) 2147483647s normal steps(1);
			--override-img-filter: none;
		}
		
		:host input { margin-right: 0.25em; }
		:host(:not([type="checkbox" i]):not([type="radiobutton" i])) input { display: none; }
		:host(:not([type="popup" i])) select { display: none; }
		
		:host(:not([type])), :host([type="transparent" i]) { }
		:host([type="opaque" i]) { border: 1px solid var(--special-background-filter, var(--active-background, var(--background))); }
		:host([type="rectangle" i]) { border: thin solid var(--border); }
		:host([type="roundrect" i]) { border: thin solid var(--border); border-radius: 10px; box-shadow: 1px 1px 0px var(--border); }
		:host([type="shadow" i]) { border: thin solid var(--border); box-shadow: 1px 1px 0px var(--border); }
		/* there is a Safari bug that misclips the roundrect on the right leaving a white spot; this (3/16)px and absolutely no less inset boxshadow untriggers the bug */
		:host([type="standard" i]) { border: thin solid var(--border); border-radius: 8px; box-shadow: inset 0px 0px 0px 0.1875px black; }
		:host([type="default" i]) { border: 3px solid var(--border); border-radius: 10px; padding: 1px; }
		:host([type="default" i]) #inner { border: var(--styledborder, thin solid var(--border)); border-radius: 6px; xpadding: 0.25em; }
		:host([type="oval" i]) { border-radius: 47.5%; }
		
		:host([type="default" i]) #inner, :host([type="standard" i]) #inner, :host([type="roundrect" i]) #inner { --inner-inset: 1px; }

		:host #inner { flex: 1; box-sizing: border-box; display: flex; place-items: center; justify-content: space-around; align-items: center; position: relative; cursor: inherit; overflow: hidden; }
		:host(:not([height]):not([type="Default" i])) #inner { height: 100%; }
		:host(:not([width]):not([type="Default" i])) #inner { xwidth: 100%; }
				
		:host(:not([width]):not([type="checkbox" i]):not([type="radiobutton" i])) #inner { white-space: pre; padding: 4px; }
		:host([width]:not([type="radiobutton" i]):not([type="checkbox" i]):not([type="popup" i])) #inner { flex-wrap: wrap; }
		x:host([topLeft]) #inner { position: absolute; left: var(--inner-inset); top: var(--inner-inset); right: var(--inner-inset); bottom: var(--inner-inset); overflow: hidden; }
		:host([width]) #inner { position: absolute; left: var(--inner-inset); right: var(--inner-inset); }
		:host([height]) #inner { position: absolute; top: var(--inner-inset); bottom: var(--inner-inset); }

		:host([type="roundrect" i]) #inner { xmargin: -1px; border-radius: 9px; }
		:host([type="standard" i]) #inner { xmargin: -1px; border-radius: 7px; }
		:host([width][type="roundrect" i]) #inner, :host([width][type="standard" i]) #inner { margin: -1px; }
		
		:host([type="oval" i]) #inner { border-radius: 47.5%; }
		
		:host([type="default" i]) #inner { xborder-radius: 10px; }
		x:host([type="default" i]/*[bevel]:not([bevel=""]):not([bevel="0"])*/) #inner { margin: 1px; box-shadow: 0px 0px 0px 1px black; }
		:host([type="default" i][color]) #inner { margin: 1px; box-shadow: 0px 0px 0px 1px black; }

		:host #icon { box-sizing: border-box; --wrap-allowance: 0px; height: calc(auto - var(--wrap-allowance)); max-height: 100%; padding: 0 calc(var(--wrap-allowance) / 2) 0 calc(var(--wrap-allowance) / 2); display: flex; place-items: center; xoutline: thin solid red; pointer-events: none; }
		:host/*([showName])*/ #icon { xwidth: 100%; }
		:host([width]) #icon { --wrap-allowance: var(--caption-height, 0px); }
		:host(:not([icon])) #icon { display: none; }
		:host([type="radiobutton" i]) #icon { display: none; }
		:host([type="checkbox" i]) #icon { display: none; }
		:host([type="popup" i]) #icon { display: none; }
		:host #icon img { xdisplay: block; height: auto; width: auto; max-height: 32px; max-width: 32px; xobject-fit: cover; min-height: 16px; filter: var(--override-img-filter, var(--active-img-filter)); xbackground: red; flex-grow: 1; object-fit: scale-down; xoutline: thin dotted red;
			image-rendering: pixelated;
			image-rendering: -moz-crisp-edges;
			image-rendering: crisp-edges;
		}
		:host([icon][showname="false" i]) #icon  { xwidth: 100%; xoutline: thin dotted red }
		:host(:not([topLeft])) #icon img { max-height: 1.5em; }
		:host #icon img[data-fullsize="true"] { max-height: 100%; max-width: 100%; }
		
		:host #caption { flex-grow: 1; text-align: center; xpadding: 0.25em 0 0.25em 0; xwidth: 100%; }
		:host(:not([type="radiobutton" i]):not([type="checkbox" i]):not([type="popup" i])) #caption { width: 100%; }
		:host([icon]:not([showname="false" i]):not([type="radiobutton" i]):not([type="checkbox" i]):not([type="popup" i])) #caption { --caption-wrapped-font: 18px GenevaNine; }
		:host([type="radioButton" i]) #caption, :host([type="checkBox" i]) #caption { text-align: left; }
		
		:host([showname="false" i]:not([type="radiobutton" i]):not([type="checkbox" i]):not([type="popup" i])) #caption  { display: none; }
		:host(:not([icon])) #caption:after { content: "\A0\A0"; }
		:host([name]:not([showname="false" i])) #caption:after { content: attr(data-name); xmargin: -3px; padding: 1px 3px;
			font: var(--caption-wrapped-font, inherit); line-height: 0.8em; xletter-spacing: -0.45px; }
		:host([topLeft][name]:not([showname="false" i])) #caption:after { margin: -3px; }
		:host([icon][name]:not([showname="false" i])) #caption:after {  
			background: var(--active-background, var(--icon-caption-background, var(--background))); 
		}
		:host([name]:not([showname="false" i]):not([topLeft])) #caption:after { padding: 0 0.25em; white-space: pre; }
		
		:host([type="popup" i]) #caption { padding: 0.25em;}
		:host([type="popup" i]) select {
			cursor: inherit;
			outline: none;
			border: 1px solid black;
			border-radius: 0;
			box-shadow: 1px 1px 0px black;
			-moz-appearance: none;
			-webkit-appearance: none;
			appearance: none;
			padding: 0px 2em 0px 1em; /*padding: 5px 2em 2px 7px;*/
			/*margin: -1px 0px 0px 0px;*/
			font: inherit;
			color: var(--color);
			background: white;
			background-image: url("data:image/svg+xml;charset=US-ASCII,<svg xmlns='http://www.w3.org/2000/svg' width='12' height='10'><path fill='black' d='M0,2 l12,0 l-6,8 l-6,-8'/></svg>");
			background-repeat: no-repeat;
			background-position: right .7em top 50%;
			background-size: 10px auto;
		}
	</style></template>
	<style>
		@supports (-webkit-backdrop-filter: invert(1)) or (-moz-backdrop-filter: invert(1)) or (backdrop-filter: invert(1)) {
			:root {
				--inversion-backdrop-filter: invert(1);
				--inversion-backdrop-filter-transparent: transparent;
			}
		}
	</style>
	<script>"use strict";
		function button_part(element,template)
		{
			var inner = template.qs('#inner'), 
			input = template.qs('input'), 
			caption = template.qs('#caption'), 
			icon = template.qs('#icon'),
			select = template.qs('select');
			
			input.id = Math.random();
			
			inner.addEventListener('click', (event)=>{
				if (['radiobutton','checkbox'].includes(element.type.toLowerCase())) {
					element.hilite=input.checked;
					if (event.composedPath()[0] !== input) event.stopPropagation();	// stop double sends.
				}
			}, true);
			select.onchange = (event)=>{ (element.selectedLine=select.selectedIndex+1); XTalk.Send(element, 'mouseUp'); };
			
			element.addEventListener('mousedown', (event)=>{ 
				// autohilite is based on :active:hover, but we have to prevent text selection drags out of the button (but only in safari)
				if (navigator.vendor=='Apple Computer, Inc.' && (event.composedPath()[0].nodeName||'').toLowerCase()!='select')
					event.preventDefault(); 
			});
			
			element.addEventListener('click',(event)=>{ 		// should this be in mouseup or what
				if (element.autoHilite && element.family && element.enabled != 'false' && element.type.toLowerCase()!='checkbox' && element.type.toLowerCase()!='radiobutton') 
					element.hilite = true;
			}, true);
			
			function fillselect() { 
				if (document.readyState == 'loading') return;
				var splits = ContentEditableFix.InnerText(element).split('\n');
				if (!splits[splits.length-1].trim()) splits.pop();
				select.innerHTML = splits.map((l)=>"<option>"+l+"</option>").join(''); 
				select.selectedIndex = parseInt(element.selectedLine)-1;
			}
			
			function setaddcolor() {
				inner.style.setProperty('--border', (element.bevel || element.color)
					? (Math.abs(element.bevel||0) + 'px ' + ((element.bevel < 0) ? 'inset' : 'outset') + ' ' + (element.color || ''))
				: '');
				inner.style.setProperty('--styledborder', (element.bevel || element.color)
					? (Math.abs(element.bevel||0) + 'px ' + ((element.bevel < 0) ? 'inset' : 'outset') + ' ' + (element.color || ''))
				: '');
				inner.style.setProperty('--color-attribute', element.color || '');
				}
			setaddcolor();

			function seticon(value, onlyForLocalICON) 
			{				
				if (value=='0')
					{ template.qs('#icon img').src = ''; return; }
				if (!value)
					{ element.icon = 0; return; }
				if ( (/^(https|http|file)[\:][\/][\/]/).test(value))
					{ template.qs('#icon img').src = value; template.qs('#icon img').dataset.fullsize = 'true'; return; }
				
				var data64 = '', isInt, stack;
				if (typeof sim != 'undefined' && (stack=sim.stackOf(element,!onlyForLocalICON)))
				{
					// this will pull icons from the current stack instead, for dialog boxes
					data64 = stack.localICONs[Object.keys(stack.localICONs).find((k)=>k.toLowerCase()==String(value).toLowerCase())];
					if (typeof data64 === 'number')	
						{ element.icon = data64; return; }
					else if (data64)
						{ template.qs('#icon img').src = data64; return; }
					/*else if (value==32069)
						debugger;*/
				}
				else if (onlyForLocalICON)
					return;
				
				//if (value==32069) debugger;
				if (!stack) { 
					//console.log('icon timeout ' + value);	// second chance for localICONs load
					setTimeout(()=>{ 
						//if (value==32069) debugger;
						if (typeof sim != 'undefined' && sim.stackOf(element, false)) seticon(element.icon, true);	// this one's needed when it's a localICON! Gotta fix
						else setnow();
					}, 0);
				}
				else 
					setnow();

				function setnow()
				{
					if (isNaN(value) || !Number.isInteger(Number(value)))
						template.qs('#icon img').src = value+(/[.][A-Za-z0-9]+$/.test(value)?'':'.png'); 
					else
						template.qs('#icon img').src = 'png-icons/icon_'+value+'.png'; 
					//console.log(template.qs('#icon img').src);
					template.qs('#icon img').dataset.fullsize = 'false'; 
				}
			}
			seticon(element.icon);
			//if (element.icon) console.log('set ' + element.icon + ' src=' + template.qs('#icon img').src);
			
			return {
				set type(value) { 
					input.type = (value.toLowerCase()=='radiobutton' ? 'radio' : 'checkbox');
					//input.id = ['radiobutton','checkbox'].includes(value.toLowerCase()) ? 'input' : '';
					template.qs('label').setAttribute('for', ['radiobutton','checkbox'].includes(value.toLowerCase()) ? input.id : '#');
				},
				set name(value) { caption.dataset.name = element.name; },
				set color(value) { setaddcolor(); },
				set bevel(value) { setaddcolor(); },
				set icon(value) { 
					//if (value==32069) debugger;
					seticon(value);
				},
				set enabled(value) { input.disabled = select.disabled = !boolean(value); },
				get hilite() 
					{ return element.matches(`[hilite]:not([hilite="false" i]), :not([autoHilite="false" i]):hover:active`); },
				set hilite(value) { 
					input.checked = (value=boolean(value));
					var layer = element.closest('card-part,background-part');
					if (element.id && !element.sharedHilite && layer && layer.matches('background-part')) {
						var card = layer.getRootNode().host, dataObj = card && card.qs('div[slot="-' + element.id + '"]');
						if (card && card.matches('card-part') && !value && dataObj)
							dataObj.parentNode.removeChild(dataObj);
						else if (card && card.matches('card-part') && value && !dataObj) {
							dataObj = document.createElement('div');
							dataObj.slot = '-' + element.id;
							dataObj.innerText = '1';
							card.appendChild(dataObj);
						}
					}
					if (!element.setting_family_hilite /*&& element.autoHilite*/ && element.family) {
						var ec = element.closest('card-part, background-part, stack-part, modal-dialog') || body;
						ec.qsa('button-part[family]').forEach((e)=>{
							if (e !== element && e.family == element.family && e.hilite && (e.closest('card-part, background-part, stack-part, modal-dialog')||body) === ec) {
								e.setting_family_hilite = true;
								e.hilite = false;
								delete e.setting_family_hilite;
							}
						});
					}
				},
				get highlite() { return element.hilite; }, get hilight() { return element.hilite; }, get highlight() { return element.hilite; }, 
				set highlite(v) { element.hilite = v; }, set hilight(v) { element.hilite = v; }, set highlight(v) { element.hilite = v; }, 
				get sharedHilite() 
				{ return element.matches(`:not([sharedHilite="false" i])`); },
				connected() { 
					if (element.type.toLowerCase()=='popup') {
						if (document.readyState != 'loading') fillselect();
						else document.addEventListener('DOMContentLoaded', dcl, true);
						function dcl(event) 
						{ document.removeEventListener('DOMContentLoaded',dcl); fillselect(); } 
					}
				},
				disconnected() { //resizeObserver.unobserve(caption); 
				},
				get contents() { 
					var it = ContentEditableFix.InnerText(element);
					if (element.has_false_innerHTML && it==' ') it = '';
					return it.substring(0,(it[it.length-1]=='\n') ? it.length-1 : it.length); 
				},
				set contents(value) { 
					value = String(value);
					element.innerText = (element.has_false_innerHTML=!value) ? ' ' : value; /* needed for in-text sel */
					fillselect();
				},
				get selectedLine() {
					if (element.owner)
						return 'line ' + (select.selectedIndex+1) + ' of ' + element.longNumber;
					else 
						return select.selectedIndex + 1;
				},
				set selectedLine(value) { select.selectedIndex = parseInt(value)-1; },
				get selectedText() { return select.value; },
				set selectedText(value) {
					select.value = value;	// try exactly...but if that doesn't work....
					var index = select.selectedIndex;
					if (index==-1) index = Array.from(select.qsa('option')).findIndex( (o)=>((o.value||'').toLowerCase().replaceAll(/[\s]/g,'')==value.toLowerCase().replaceAll(/[\s]/g,'')) );
					element.selectedLine = index+1;
				}
				
			};
		}
	</script>
</element-template>




<element-template tag=title-bar-menu attributes="name,show=false">
	<template>
		<div><slot></slot></div>
		<span style="">Menu ▼</span>
		<style>
			:host { display: inline-block; position: relative; user-select: none; -webkit-user-select: none; 
				font: 12px Chicago; text-align: left; position: relative; box-sizing: border-box; xoutline: thin dotted red;
				border: thin solid black; border-radius: 2px; box-shadow: 1px 1px 1px gray; }
			:host > span { display: inline-block; xoutline: thin dotted green; padding: 1px 4px; }
			:host > div { display: none; position:absolute; top: calc(100% - 1px); background: white; border: 1px solid black; box-shadow: 0px 0px 3px gray; white-space: nowrap; z-index: 1; transform: translate3d(0,0,0); }
			:host > div > div { padding: 4px 1em; }
			:host([show="true" i]) > span, :host > div > div:hover { background: black; color: white; }
			:host([show="true" i]) > div, :host > div:hover { display: initial; }
		</style>
	</template>
	<script>
		function title_bar_menu(element,template)
		{
			var to, div = template.qs('div'), span = template.qs('span');
			
			span.onpointerdown = ()=>{ template.qs('div').style.display = ''; element.show = !boolean(element.show); }
			span.onmouseleave = ()=>{ clearTimeout(to); element.show = false; }
			div.onmoveleave = ()=>{ div.style.display = ''; }
			div.onpointerdown = (event)=>{
				element.show = false;
				clearTimeout(to); to = setTimeout(()=>div.style.display = 'none', 250);
				event.preventDefault();
				var menuItem = event.target.closest('title-bar-menuitem');
				if (menuItem)
					menuItem.dispatchEvent(new CustomEvent('title-bar-domenu', { bubbles: true, composed: true, detail: menuItem }));
			};
			
			return {
				set name(value) {
					span.innerText = value + ' ▼';
				},
				
				set longName(value) { element.name = value; },
				get longName() { return element.name },
				
				set contents(value) {
					// seems like you can use commas or returns in HC
					element.innerHTML = String(value).split(/[,\n]/).map((i)=>"<title-bar-menuitem>"+ContentEditableFix.HTMLEncode(i)+"</title-bar-menuitem>").join('');
				},
				get contents() 
					{ return Array.from(element.qsa('title-bar-menuitem')).map((tbmi)=>tbmi.contents).join('\n'); },
					
				set menuMessages(value) {
					var mm = String(value).split(/[,\n]/);
					Array.from(element.qsa('title-bar-menuitem')).forEach((tbmi,i)=>tbmi.menuMessage = mm[i] || '');
				},
				get menuMessages() {
					Array.from(element.qsa('title-bar-menuitem')).map((tbmi)=>tbmi.menuMessage || '').join('\n');
				}
			};
		}
	</script>
</element-template>
<element-template tag=title-bar-menuitem attributes="contents,markChar,menuMessage|menuMsg">
	<template>
		<span id=markChar style="min-width: 1em;">&nbsp;</span>
		<slot></slot>
		<style>
			:host { padding: 4px 1em 4px 0.5em; display: block; }
			:host(:hover) { background: black; color: white; } 
		</style>
	</template>
	<script>
		function title_bar_menuitem(element,template)
		{
			return {
				set contents(value) 
					{ element.innerText = String(value).split('\n')[0]; },
				get contents() 
					{ return element.innerText; },
				set name(value)
					{ element.contents = value; },
				get name() 
					{ return element.innerText; },
				set longName(value) 
					{ element.name = value; },
				get longName() 
					{ return element.name },
				set markChar(value) 
					{ template.qs('#markChar').innerText = String(value)[0] || ' '; },
				get markChar() 
					{ return template.qs('#markChar').innerText.trim(); },
				set checkMark(value) 
					{ template.qs('#markChar').innerText = boolean(value) ? '√' : ' '; },
				get checkMark() 
					{ return template.qs('#markChar').innerText=='√'; }
				/*set menuMsg(value)
					{ element.menuMessage = value; },
				get menuMsg()
					{ return element.menuMessage; }*/
			};
		}
	</script>
</element-template>


<element-template tag=modal-dialog attributes="name,visible,x,y">
	<template><div id=dialog><div id=titlebar><div class='boxmargin left' style="flex: 0 1 2em;"><div id=closebox></div></div><div style="background-position: top right;"></div><span id=title style="position: relative;"></span><span id=flashmessage style="color: green;"></span><span id=menubar style="margin-top: -2px;"></span><div> </div><div class='boxmargin right' style="flex: 0 1 2em; "><div id=zoombox></div></div></div><div id=content><span id=cover onpointerdown="if (typeof sim != 'undefined') sim.mouse='down';" onpointerup="if (typeof sim != 'undefined') sim.mouse='up';"><div class=answer><button-part type=standard visible=false name=Extrabutton onclick=""></button-part><button-part class=reload type=default name="Reload ↺" onclick="this.getRootNode().host.performUpdateReload(); this.getRootNode().host.classList.remove('loading','offer-update');"></button-part> <button-part type=standard class=cancel name=Cancel onclick="this.getRootNode().host.classList.remove('loading','offer-update');"></button-part> </div></span><slot></slot><!--div style="clear:both;"></div!--></div></div><style>
		
		:host #flashmessage { width: fit-content; font: caption; padding-right: 4px; xtransition: opacity 0.15s; }
		:host #flashmessage:empty { xwidth: 0px; xpadding: 0px; opacity: 0; display: none; }
		
		:host { 
			cursor: default;
			font: var(--modal-dialog-font, bold 1em system-ui);
			outline: none;
			--x: 0px; --y: 0px; --transform: ;
			--dialog-border: #444;
			pointer-events: none; 	
			position: relative;
			overscroll-behavior: contain;
		}
		:host(.dotted) {
			//font: var(--modal-dialog-font, caption);
		}
		:host(.static) {
			visibility: hidden;
			pointer-events: none;
			font: var(--modal-dialog-font, inherit);
		}
		:host(:not(.static)) {
			position: var(--modal-dialog-modal-absolute, fixed); 
			left: 0px; right: 0px; top: var(--overlay-top, 0px); height: min(100%, 100vh);
			z-index: 100; 
			box-sizing: border-box; xborder: 10px solid gray;
			display: none;
		}
		:host(:not(.static):not(.dotted)) {
			backdrop-filter: blur(1px);
			-webkit-overscroll-behavior: none; overscroll-behavior: none;
			background: #8884; 
			pointer-events: auto;
			xtransition: border-bottom 0.1s;
			border-bottom: var(--overlay-bottom-size, 0px) solid transparent;
		}
		@media(prefers-color-scheme: dark) { 
			:host(:not(.static):not(.dotted))) { backdrop-filter: none; /* safari issue */ } 
		}
		:host([visible]:not([visible="false" i])) { 
			display: block; 
			visibility: visible; 
		}
		:host(:not([visible]:not([visible="false" i]))) #dialog slot { 
			display: none; 
		}
		
		:host(:not(.loading):not(.inactive):not(.waiting)) #cover 
		{ display: none; }
		:host #cover 
		{ position: absolute; z-index: 1; left: 0; right: 0; top: 0; bottom: 0; background: #FFF4; display: grid; place-items: center; }
		:host(.waiting) #cover { background: transparent; }
		:host #cover:after 
		{ content: " "; }
		:host(:not(.loading):not(.waiting)) #cover > .answer 
		{ display: none; }
		
		:host(.loading:not(.offer-update)) #cover { background: white; }
		
		:host(.loading) #cover > .answer {
			background: white; padding: 0.5em 1em; border-radius: 0.5em; border: thin solid gray; 
			font: caption; text-align: center; color: gray;
		}
		@keyframes flicker-animation {
			0%   { opacity:0; }
			50%  { opacity:0.3; }
			100% { opacity:0; }
		}
		:host(.loading) #cover .answer:before 
		{ content: "Opening..."; opacity: 1;  }
		
		:host(.waiting) #cover  {
			opacity: 1;
			xcursor: url(ui-icons/watch.png) 8 8, default; 	/* would be nice to delay the watch a little while somehow */
			cursor: url(ui-icons/cursor.png) 6 0, default;
		}
		:host(.waiting) #cover > .answer {
			animation: flicker-animation 1s 2s infinite;
			background: white; padding: 0.5em 1em; border-radius: 0.5em;  border-radius: 0.5em; border: thin solid gray;
			font: caption; text-align: center; opacity: 0;
		}
		:host(.waiting) #cover .answer:before 
		{ content: "Wait... (⌘ .)"; }	/* should change this to fluid [data-wait-message] or something. = wait 3 seconds, Loading..., etc */
		
		:host(.loading.offer-update) #cover > .answer {
			xbox-shadow: 0px 0px 4px gray;
		}
		:host(.loading.offer-update) #cover .answer:before 
		{ content: "This stack was changed."; display: block; font: bold 1em system-ui; color: black; padding-bottom: 0.5em; text-align: left; }
		:host(:not(.offer-update)) #cover .answer button-part 
		{ display: none; }
		
		:host #dialog {
			position: relative; 
			display: inline-block; 
			transform-origin: top left;
			transform: var(--transform);
			pointer-events: var(--context-menu-none, auto); 
			overflow: hidden; /* This seems to trigger an xor drawing bug in safari */
		}
		:host(.block) #dialog {
			display: block; width: 100%;
		}
		:host(:not(.frameless)) #dialog {
			background: var(--dark-mode-softwhite, white); 
			border: thin solid var(--dialog-border);
			xborder-radius: 2px 2px 0px 0px;
		}
		:host(:not(.static)) #dialog {
			position: absolute; left: calc(50% + var(--x)); top: calc(50% + var(--y)); 
			transform: var(--transform) translate(-50%,-50%) ; 
			box-shadow: 0px 0px 3px #444;
		}
		:host(.notcentered:not(.static)) #dialog {
			position: absolute; left: calc(60px + var(--x)); top: calc(60px + var(--y)); 
			transform: var(--transform); 
			box-shadow: 0px 0px 4px #444; 
		}
		
		@media (pointer: coarse) { 
			:host(:not(.static)) #dialog:focus-within { 
				top: calc(0px + var(--y));
				transform: var(--transform) translate(-50%,0%); 
			} 
		}
		:host(.static) #dialog {
			pointer-events: var(--context-menu-none, auto); 
			left: var(--override-xy-zero, var(--x)); top: var(--override-xy-zero, var(--y));
			box-shadow: 1px 2px 2px #EEE;
		}
		:host(.current.static) #dialog {
			box-shadow: 1px 1px 6px #CCC;
		}
		:host(.ybottom) #dialog {
			position: absolute;
			top: auto;
			bottom: var(--override-xy-zero, var(--y)); 
		}
		:host(.vertical-layout) #dialog {
			display: flex; 
			xflex-direction: column;
		}
		:host(:not([name])) #titlebar { 
			display: none; 
		} 
		#titlebar {
			text-align: center; 
			display: flex; padding: 3px 2px 2px 2px; 
			font: var(--modal-dialog-titlebar-font, bold 1em system-ui);
			touch-action: none; min-height: 1em;
			xborder: thick solid purple;
		}
		@media (pointer: coarse) {	
			:host(.dotted[name]:not([name=""])) #titlebar { font-size: var(--modal-dialog-titlebar-boost, 1em); }
		}
		:host(.inactive) #titlebar { color: #555; }
		:host(.frameless) #titlebar {
			background: white; 
			border: thin solid currentColor; 
			border-bottom: thin solid #AAA8;
		}
		:host(:not(.frameless)) #titlebar {
			xpadding: 4px 4px 0px 4px;
			padding: 3px 3px 0px 3px;
			xpadding-bottom: 0px;	
			xpadding-top: 4px;
		}
		:host(.nopadding) #titlebar {
			border-bottom: thin solid var(--dialog-border);
			padding-bottom: 2px;
		}
		:host #titlebar > div {
			flex: 1;
			xpadding-bottom: 2px;
		}
		:host(:not(.frameless)) #titlebar > div {
			flex: 1;
			padding-bottom: 1px;
		}
		:host(:not(.inactive)) #titlebar > div {
			background: linear-gradient(to bottom, black 0%, gray 33.33%, transparent 40%, transparent 100%);
			background-size: 100% 3px;
			background-clip: content-box;
			/*background: linear-gradient(to bottom, #444 0%, #444 50%, transparent 50%, transparent 100%);
			background-size: 100% 2.5px;
			margin-bottom: -1px;*/
		}
		:host(.dotted:not(.inactive)) #titlebar > div {
			background-image: radial-gradient(#669 0.75px, #BBB2 0);
			background-size: 4px 4px;
			xopacity: 0;
		}
		:host(.dotted) #titlebar {
			padding: 2px;
		}
		:host/*(:not(.dotted))*/ #titlebar {
			margin-top: 1px; 
		}
		:host(.closebox) #closebox, :host #zoombox {
			display: inline-block; width: 1em; height: 1em; border: 1px solid currentColor; background: white; vertical-align: top;
			outline: 2px solid white; box-sizing: border-box; position: relative; 
		}
		:host #zoombox:before {
			position: absolute; content: ""; left: -1px; top: -1px; width: 0.6em; height: 0.6em; border: 1px solid currentColor; box-sizing: border-box;
		}
		:host #zoombox:active:hover:before {
			left: -2px; top: -2px; border-width: 2px; width: calc(0.6em + 0.5px); height: calc(0.6em + 0.5px); 
		}
		
		:host #closebox:after, :host #zoombox:after {
			position: absolute; content: ""; left: -4px; top: -4px; right: -4px; bottom: -4px; border-radius: 4px; box-sizing: border-box;
		}
		/*:host #titlebar:hover #closebox { box-shadow: inset 0px 0px 3px red; }
		:host #titlebar:hover #zoombox { box-shadow: inset 0px 0px 4px green; }*/
		:host #closebox:active:hover, :host #zoombox:active:hover {
			border: 2px solid currentColor; 
		}
		@media(pointer: coarse) {
			:host #closebox:after, :host #zoombox:after 
			{ left: -10px; top: -10px; right: -10px; bottom: -10px; }
			:host #closebox:active:after, :host #zoombox:active:after 
			{ background: #4444; }
		}
		
		:host(.inactive) #titlebar .boxmargin {
			visibility: hidden;
		}
		:host(:not(.closebox)) #titlebar .boxmargin.left, 
		:host(:not(.zoombox)) #titlebar .boxmargin.right {
			display: none;
		}
		:host(.inactive) #titlebar .boxmargin {
			pointer-events: none;
		}
		:host #titlebar > #title {
			display: inline-block; pointer-events: none; 
			background: inherit;
		}
		:host #titlebar > #title[data-name=""] { display: none; }
		:host #titlebar > #title:after {
			display: inline-block;
			content: '\A0\A0' attr(data-name) '\A0\A0';
			xfont: caption;
		}
		/* i tired of userbubble */
		/*:host(.userbubble) #titlebar > #title {
		
		border: 1px dotted #BBB; background: #BBB4; padding: 1px 3px; margin: -1px 1px;
		border-radius: 2px 0.5em 2px 2px ;
		}
		:host(.userbubble) #titlebar > #title:after {
		xcontent: '\A0🌐\A0' attr(data-name) '\A0';	
		content: '\A0' attr(data-name) '\A0';	
		max-height: 1em; line-height: 1;
		}*/
		
		:host #content {
			position: relative;
			pointer-events: auto; 
			clip-path: inset(0px 0px);
			xoverflow: auto;
		}
		:host(:not(.nopadding):not(.frameless)) #content {
			padding: 0.5em; 
			margin: 3px 2px 2px 2px; 
			border: 2px solid black;
		}
		:host(.nopadding) #content {
			padding: 0px;
		}
	</style></template>
	<style>
		.flex-row { display: flex; flex-direction: row; align-items: baseline; }
		.flex-column { display: flex; flex-direction: column; }
		.flex-expand { flex: 1; flex-basis: auto; }
	</style>
	<script>"use strict";
		var oldscroll;
		var modal_dialogs_that_are_visible = [];	// only :not(.static)
		
		window.addEventListener('keydown', (event)=>{ 
			if (!window.has_own_offer_modal_dialog_keydown_event)
				offer_modal_dialog_keydown_event(event);
		}, true);
		function offer_modal_dialog_keydown_event(event)
		{
			if (event.key=='Enter' || event.key=='Escape') 
			{
				var lou = event.target.closest('modal-dialog.loading.offer-update');
				if (lou) {
					var btn = lou.shadowRoot.qs((event.key=='Enter') ? '.answer .reload' : '.answer .cancel');
					btn.hilite = true; setTimeout(()=>{ btn.hilite = false; btn.click(); }, 100); 
					event.stopPropagation(); event.preventDefault(); return false;
				}
				
				var btn, sel = (event.key=='Enter') 
				? 'button-part[type="default" i]' 
				: 'button-part[name="Cancel" i], input[value="Cancel" i]';
				var d = Array.from(modal_dialogs_that_are_visible).reverse().find((d)=>d.matches('modal-dialog[visible]:not([visible=false])'));
				
				if (d && (btn=d.qs(sel))) { 
					//console.log(btn);
					if ((!btn.classList.contains('ignore-keys') && !document.activeElement.closest('.ignore-keys')) || event.metaKey) {
						btn.hilite = true; setTimeout(()=>{ btn.hilite = false; btn.click(); }, 100); 
						event.stopPropagation(); event.preventDefault(); return false;
					}
				}
				
				if (event.key=='Escape' && !sim.stack.selectedPart && floatmenu.classList.contains('leaveopen')) { 
					floatmenu.classList.toggle('leaveclosed', !floatmenu.classList.toggle('leaveopen')); event.preventDefault(); event.stopPropagation(); 
					return false; }
			}
		}
		function modalresizer(md) 
		{
			var windowInnerHeight = (window.windowheight || window).offsetHeight; // window.innerHeight;
			
			var size = [window.innerWidth, windowInnerHeight], fullscreen = body.classList.contains('fullscreen');
			
			mutableStyle('--overlay-height', window.visualViewport.height + 'px');
			
			/*if (!body.qs('modal-dialog[visible=true]:not(.static)'))
			{
			}
			else*/ if (fullscreen) {
				mutableStyle('--overlay-height', null);
				mutableStyle('--overlay-translate-y', null);
			}
			else if (window.visualViewport /*&& modal_dialogs_that_are_visible.length*/) {
				if (oldscroll)
					{ document.scrollingElement.scrollTop = oldscroll.value; oldscroll = null; }
				
				mutableStyle('--overlay-top', (document.scrollingElement.scrollTop-visualViewport.top) + 'px');
				mutableStyle('--overlay-bottom-size', windowInnerHeight-window.visualViewport.height + 'px');
				
				size = [window.visualViewport.width*visualViewport.scale,window.visualViewport.height*visualViewport.scale/*-(fullscreen?0:20)*/];	// height -20 needed for ipad but not for phone...grr
				//console.log(size);
				/*mutableStyle('--overlay-height', size[1] + 'px');
				mutableStyle('--overlay-translate-y', size[1] - (fullscreen ? 0 : window.innerHeight) + 'px');*/
			}
			
			if (modal_dialogs_that_are_visible.length)
				(md ? [md] : Array.from(body.qsa('modal-dialog'))).filter((md)=>md.matches(":not(.static)")).forEach((md)=>{
					var xshrink = Math.min(1, size[0]/(md.shadowRoot.qs('#dialog').offsetWidth+6));
					var yshrink = Math.min(1, size[1]/(md.shadowRoot.qs('#dialog').offsetHeight+6));
					var s = fullscreen ? 1 : Math.min(/*(xshrink < 0.5) ? 1 :*/ xshrink, (yshrink < 0.7) ? 1 : yshrink);
					md.style.setProperty('--scale', (s!=1) ? s : ''); 
					//md.shadowRoot.qs('#dialog').style.transformOrigin = 'top center'; 
					md.style.setProperty('--transform', (s!=1) ? 'scale('+s+')' : ''); 
				});
			
			if (window.stackcontainer) 
				{
					window.stackcontainer.scrollTop = 0;
					size = [stackcontainer.offsetWidth -(fullscreen?2:6), 
						
						(windowInnerHeight*visualViewport.scale - stackcontainertd.offsetTop) /*+window.scrollY*/
/*						
						Math.round(window.innerHeight*visualViewport.scale)
						- (fullscreen ? 0 : stackcontainer.offsetTop) */
						- 3
						/*+ window.scrollY*/	// this is to compensate for window.innerHeight shrinking when the ipad keyboard shows
						/*- (fullscreen ? copyright.offsetHeight+10 : 0)*/];
					//console.log(size);
					var stackzoom = 1;
					Array.from(stackcontainer.qsa('modal-dialog')).forEach((md)=>{
						//md.classList.toggle('static', !fullscreen);
						// we need a centering thing for full screen
						var xgrow = size[0]/(md.shadowRoot.qs('#dialog').offsetWidth+1);
						var ygrow = size[1]/(md.shadowRoot.qs('#dialog').offsetHeight+3);
						var s = Math.min(xgrow , ygrow); //console.log(s);
						
						// if we're gonna fill the screen i think the screen needs the same s for everything. but oh well
						/*if (s > 1 && !body.classList.contains('fullscreen') && matchMedia('(pointer:fine)').matches)
						s = 1;*/
						if (s > 1 && matchMedia('(pointer:fine)').matches && !fullscreen)
							s = 1;
						else if (s > 1 && !fullscreen)
							s = Math.floor(s*4)/4;
						
						//	if (s > 1 && (!fullscreen || md.classList.contains('inactive'))) 
						//		s=1;//s = Math.min(Math.floor(Math.sqrt(s)*8)/8, 1.5);
						
						md.style.setProperty('--scale', (s!=1) ? s : ''); 
						md.style.setProperty('--transform', 
							((!fullscreen ? '' : 'translate(' + Math.floor((size[0]-md.shadowRoot.qs('#dialog').offsetWidth*s)/2) +'px, 0px)'))
							+ ((s!=1) ? ' scale('+s+') ' : '')); 
						stackzoom = Math.min(2,s);
					});
					
					/*if (typeof answerdialog != 'undefined' && stackzoom>1)
					answerdialog.style.setProperty('--transform', (stackzoom>1) ? 'scale('+stackzoom+')' : '');
					if (typeof askdialog != 'undefined' && stackzoom>1)
					askdialog.style.setProperty('--transform', (stackzoom>1) ? 'scale('+stackzoom+')' : '');*/
					/*if (window.answerdialog && stackzoom>1)
						answerdialog.style.setProperty('--transform', (stackzoom>1) ? 'scale('+stackzoom+')' : '');
					if (window.askdialog && stackzoom>1)
						askdialog.style.setProperty('--transform', (stackzoom>1) ? 'scale('+stackzoom+')' : '');*/
					
					if (window.stackcontainer_windowmoved)
						stackcontainer_windowmoved();
				}
		}
		window.addEventListener('resize', (event)=>modalresizer());
		window.addEventListener('scroll', (event)=>modalresizer());
		window.addEventListener('orientationchange', (event)=>modalresizer());
		if (window.visualViewport) window.visualViewport.addEventListener('resize', (event)=>modalresizer(), {passive:true});
		if (window.visualViewport) window.visualViewport.addEventListener('scroll', (event)=>modalresizer(), {passive:true});
		
		var ever_waited_on_coarse = false;
		function modal_dialog(element,template)
		{
			var titlebar = template.qs('#titlebar'), dialog = template.qs('#dialog');
			
			new ResizeObserver(entries => requestAnimationFrame(() => { modalresizer(element); })).observe(dialog);
			
			template.qs('#closebox').addEventListener('click', (event)=>{ 
				element.dispatchEvent(new Event('closebox', { bubbles: true }));
				event.preventDefault(); return event.stopPropagation(); 
			});
			template.qs('#zoombox').addEventListener('click', (event)=>{ 
				element.dispatchEvent(new Event('zoombox', { bubbles: true }));
				event.preventDefault(); return event.stopPropagation(); 
			});
			element.addEventListener('pointerdown', (event)=>{ 
				if (event.composedPath()[0]===element)
					{ event.preventDefault(); event.stopPropagation(); /*perform_system_beep();*/ return; }	// don't mess with the selection
			});
			titlebar.addEventListener('pointerdown', (event)=>{ 
				if (!titlebar.contains(event.composedPath()[0]) || event.composedPath()[0].matches('#zoombox,#closebox')/*===template.qs('#closebox')*/) return;
				if (element.matches('body.fullscreen #stackcontainer modal-dialog, modal-dialog.nodrag')) 
					{ event.preventDefault(); event.stopPropagation(); return; }
				if (element.matches('#stackcontainer > modal-dialog') && !body.classList.contains('command')) top_stackList(element);
				// when .ybottom, style.bottom moves, not top, so we get the offset from the bottom
				var clickloc = [event.clientX - element.x, 
					element.classList.contains('ybottom') ? (element.y - (element.parentNode.getBoundingClientRect().bottom - event.clientY)) : (event.clientY - element.y)]; //console.log(clickloc);
				follow_mouse(event, move, 
					(event,start)=>{ 
						element.classList.toggle('dragging', start);
						if (!start) element.dispatchEvent(new Event('windowmoved', { bubbles: true })); else return true; } );
						function move(event)
						{
							requestAnimationFrame(()=>{
								// reealllly needs to be 'dont escape container'
								element.x = Math.max(event.clientX - clickloc[0], element.classList.contains('positivexy')?0:-999999);
								// if we know the offset from the bottom, and it is as far from the parent as
								element.y = element.classList.contains('ybottom') 
								? (element.parentNode.getBoundingClientRect().bottom - event.clientY + clickloc[1])
								: Math.max((event.clientY - clickloc[1]), element.classList.contains('positivexy')?0:-999999);
								element.dispatchEvent(new Event('windowmoved', { bubbles: true }));
							});
						}
						event.preventDefault(); event.stopPropagation();
				},true);
				
			element.tabIndex = 0; 
			return { 
				set name(value) { template.qs('#titlebar span').dataset.name = value; },
				set x(value) { template.qs('#dialog').style.setProperty('--x',value+'px'); },
				set y(value) { template.qs('#dialog').style.setProperty('--y',value+'px'); },
				get x() { return parseInt(element.getAttribute('x')) || 0; },
				get y() { return parseInt(element.getAttribute('y')) || 0; },
				set visible(value) { 
					oldscroll = { value: document.scrollingElement.scrollTop };
					if (matchMedia('(pointer:coarse)').matches	// let keyboard come up before placement, on touchscreens
						&& (element.contains(document.activeElement) && element!==document.activeElement)
						&& !element.classList.contains('static') /*&& !ever_waited_on_coarse*/ && visualViewport.height == window.innerHeight)	
						{ 
							element.style.opacity = '0'; 
							setTimeout(()=>{ element.style.opacity = ''; }, 600); 
							ever_waited_on_coarse = true; 
							//console.log(document.activeElement, element.contains(document.activeElement));
						}
					else
						setTimeout(()=>{modalresizer(element);},1);
					
					if (boolean(value) && !element.classList.contains('static')) {
						if (!modal_dialogs_that_are_visible.includes(element))
							modal_dialogs_that_are_visible.push(element); 
						if (!matchMedia('(pointer:coarse)').matches)
							element.focus();
					}
					else {
						modal_dialogs_that_are_visible = modal_dialogs_that_are_visible.filter((m)=>(m!==element)); 
						if (element.contains(ContentEditableFix.ActiveElement()))
							ContentEditableFix.ActiveElement().blur();
					}
				},
				get visible() {
					return !!(element.getAttribute('visible') && element.getAttribute('visible') !='false');
				},
				cardWindowDelegate() {
					if (!element.card_window_delegate) {
						element.card_window_delegate = document.createElement('card-window-delegate');
						element.card_window_delegate.connectToDialog(element);
					}
					return element.card_window_delegate;
				},
				get menubar() 
					{ return template.qs('#menubar'); },
				getMenu(name,createIfMissing,complainIfExisting) {
					var tbm = element.menubar.qs('title-bar-menu[name="'+name+'" i]');
					if (!tbm && createIfMissing) {
						tbm = document.createElement('title-bar-menu'); 
						tbm.name=name; 
						element.menubar.appendChild(tbm);
					}
					else if (tbm && complainIfExisting) {
						console.log("Menu " + name + " already exists");
					}
					return tbm;
				},
				deleteMenu(name, complainIfMissing) {
					var tbm = element.menubar.qs('title-bar-menu[name="'+name+'" i]');
					if (tbm)
						element.menubar.removeChild(tbm);
					else if (complainIfMissing)
						console.log("Can't find menu " + name);
				}
			};
		}
	</script>
	
</element-template>

<element-template tag=card-window-delegate attributes="scroll,rectangle|rect,width,height">
	<script>
		// 'the card window' has simple properties
		function card_window_delegate(element,template)
		{
			var md;
			return {
				connectToDialog(value) { md = value; },
				get name() { return md.name; },
				get shortName() { return md.name; },
				get longName() { return md.name; },
				get rectangle() { return [0,0, element.width, element.height]; },
				set rectangle(value) {
					var r = rectangle(value);
					md.shadowRoot.qs('#content').style.overflow = 'hidden';
					element.width = r[2] - r[0];
					element.height = r[3] - r[1];
				},
				get top() { return 0; },
				get left() { return 0; },
				get width() { return md.shadowRoot.qs('#content').offsetWidth; },
				set width(value) { md.shadowRoot.qs('#content').style.overflow = 'hidden'; md.shadowRoot.qs('#content').style.width = number(value)+'px'; },
				get height() { return md.shadowRoot.qs('#content').offsetHeight; },
				set height(value) { md.shadowRoot.qs('#content').style.overflow = 'hidden'; md.shadowRoot.qs('#content').style.height = number(value)+'px'; },
				get scroll() { return [md.shadowRoot.qs('#content').scrollLeft, md.shadowRoot.qs('#content').scrollTop]; },
				set scroll(value) {
					var p = point(value);
					md.shadowRoot.qs('#content').scroll({left:p[0],top:p[1],behaviour:'smooth'});
				},
				
			};
		}
	</script>
</element-template>





<element-template tag=packaged-answer-and-ask-boxes>
	
	<modal-dialog id=answerdialog>
		<table><tr><td>
			<div id=text style="width: 350px; margin-bottom: 0.5em">Hey, could you lorem ipso sum? </div>
		</td></tr>
			<tr><td>
				<div class=flex-row onclick="if (event.target.matches('button-part')) {
					answerdialog.button_result = event.target.name;
					answerdialog.visible=false;
					answerdialog.callback(event.target.name);
				}">
					<button-part id=first class=flex-expand name="First" type=standard></button-part>&nbsp;
					<button-part id=second class=flex-expand name="Second" type=standard></button-part>&nbsp;
					<button-part id=third class=flex-expand name="Third" type=default></button-part>
				</div>
			</td></tr></table>
	</modal-dialog>
	
	<modal-dialog id=askdialog>
		<table><tr><td>
			<div id=text style="width: 350px; margin-bottom: 0.5em">Hey, could you lorem ipso sum?</div>
			<field-part id=result type=rectangle style='margin:0;'>Yes</field-part>
		</td></tr>
			<tr><td>
				<div class=flex-row onclick="if (event.target.matches('button-part')) {
					askdialog.button_result = (event.target.name=='Cancel') ? 'Cancel' : '';
					askdialog.text_result = askdialog.button_result ? '' : askdialog.qs('#result').contents;
					askdialog.visible=false;
					askdialog.callback(event.target.name);
				}">
					<button-part id=first class=flex-expand name="This button is invisible" type=standard visible=false></button-part>&nbsp;
					<button-part id=second class=flex-expand name="Cancel" type=standard></button-part>&nbsp;
					<button-part id=third class=flex-expand name="OK" type=default></button-part>
				</div>
			</td></tr></table>
	</modal-dialog>
	
	<script>
		
		function launch_answer_dialog(callback, text, first, second, third)
		{
			delete answerdialog.button_result;
			answerdialog.qs('#text').innerText = text;
			answerdialog.callback = callback;
			var btns = [];	// right to left
			if (third) btns.push(third);
			if (second) btns.push(second);
			btns.push(first || 'OK');
			//console.log(btns);
			answerdialog.qs('#third').visible = !!btns[0];
			answerdialog.qs('#third').name = btns.shift();
			answerdialog.qs('#second').visible = !!btns[0];
			answerdialog.qs('#second').name = btns.shift();
			answerdialog.qs('#first').visible = !!btns[0];
			answerdialog.qs('#first').name = btns.shift();
			answerdialog.visible=true;
			answerdialog.focus();
		}
		function launch_ask_dialog(callback, text, defaultResult)
		{
			askdialog.button_result = '';
			askdialog.text_result = '';
			askdialog.qs('#text').innerText = text;
			askdialog.qs('#result').contents = defaultResult;
			askdialog.callback = callback;
			askdialog.visible=true;
			showandselectname(askdialog,true);
		}
		
		function showandselectname(md, evenOnMobile) {
			md.visible = true;
			var onMobile = ('ontouchstart' in document);
			if (evenOnMobile || !(onMobile /*&& (document.activeElement===body || !document.activeElement)*/)) {
				//console.log('sasn');
				getSelection().selectAllChildren(md.qs("#name") || md.qs("#result"));
				window.scrollTo(0,0);
				if (onMobile) {
					getSelection().collapseToEnd();
				}
			}
		}

	</script>
</element-template>




<modal-dialog id=scripteditor class='dotted nopadding closebox' name=resizablescripteditor>
	<div style="min-width: 480px; width: 80vw; max-width: 95vw; min-height: 100px; height: 380px; max-height: 95vh; overflow: hidden; display: flex; flex-direction: column; padding: 4px;">
		
		<div id=scripteditor_error style="font: caption; color: gray; max-height: 4em; margin: 2px 4px; overflow: auto; user-select: initial; -webkit-user-select: initial; word-wrap: break-word; padding-bottom: 2px;">ERROR HERE</div>
		
		<field-part type=scrolling class="script-indent fingersize" 
			style="flex: 1; font: 1em monospace; xwidth: min(120vw, 680px); xheight: min(calc(var(--overlay-height, 100%) - 30px), 380px); white-space: pre-wrap; tab-size: 2; margin: 2px; margin-top: 0px; box-shadow: 0px -4px 4px #eee; " 
			textFont=monospace
			wideMargins=false spellcheck=false autoreplace=false  
			onkeydown="if (event.keyCode==9) { 
				event.preventDefault(); 
				//document.execCommand('insertHTML',false,'<span>\t</span>');
			}" tabindex=0 oninput="scripteditor_input();">on mouseUp<br><br>end mouseUp</field-part> 
		
		<div class=flex-row style="margin: 2px 4px;">
			<button-part type=standard name="Part Info..."
				onclick="launch_info_dialog(this.closest('modal-dialog').target_element); this.closest('modal-dialog').qs('[name=OK]').click(); "></button-part>
			
			<button-part type=standard name="Card..." class=cd style="margin-left: 0.25em;"
				onclick="this.closest('modal-dialog').qs('[name=OK]').click(); launch_scripteditor(sim.card); "></button-part>
			
			<button-part type=standard name="Bkgnd..." class=bg style="margin-left: 0.25em;"
				onclick="this.closest('modal-dialog').qs('[name=OK]').click(); 
				launch_scripteditor(sim.background); "></button-part>
			
			<button-part type=standard name="Stack..." class=stk style="margin-left: 0.25em;"
				onclick="this.closest('modal-dialog').qs('[name=OK]').click(); launch_scripteditor(sim.stack); "></button-part>
			
			<div class=flex-expand></div>
			
			<button-part type=standard name=Cancel onclick="this.closest('modal-dialog').visible=false"></button-part>&nbsp;
			<button-part type=default name=OK class=ignore-keys onclick="
				scripteditor_savenow();
				this.closest('modal-dialog').visible = false;
				XTalk.ScriptWasChanged();
			"></button-part>
		</div>
		
	</div>
</modal-dialog>

<script>
	if (matchMedia("(pointer:fine)").matches) 
	{
		scripteditor.classList.add('notcentered');
		scripteditor.qs('div').style.resize = 'both';
	}
	scripteditor.addEventListener('closebox', (event)=>{
		if (scripteditor.qs('field-part').dirty && confirm("Save changes to script?"))
			scripteditor.qs('button-part[name=OK]').click();
		else
			scripteditor.qs('button-part[name=Cancel]').click();
	});

	function launch_scripteditor(element, line, error, frame=0)
	{
		if (!element.closest) return;	// probably document
		
		var layer = element.closest('background-part,card-part,stack-part');
		scripteditor.classList.toggle('bg', !!layer && !(layer.nodeName.toLowerCase()=='background-part' && layer === element));
		scripteditor.classList.toggle('cd', !!layer && !(layer.nodeName.toLowerCase()=='card-part' && layer === element));
		scripteditor.classList.toggle('stk', !!layer && !(layer.nodeName.toLowerCase()=='stack-part' && layer === element));
		
		scripteditor.target_element = element;
		scripteditor.qs('#scripteditor_error').innerText = '';

		if (error)
		{
			scripteditor.qs('#scripteditor_error').innerText = String(error.message || error);
						
			if (error._)
			{
				var handlers = error._.map((_)=>XTalk.DebugLocMap[_.id]), stack = String(error.stack).split('\n'), messages = [];
				
				handlers.forEach((h)=>{
					var jLine;
					while (stack.length && !jLine) 
					{
						if (stack[0].split('$$$')[1] == h.type+'_'+h.name && stack[0].split('$$$')[2].substr(0,5) != '.next')
							jLine=parseInt(stack[0].split(':').slice(-2)[0]);
						if (jLine) {
							//messages.push(h.name + (h.type=='function' ? '()' : '') + (jLine - h.jLine)/2);
							messages.push({ h,jLine });
						}
						stack.shift();
					}
				});
				
				/*if (messages[messages.length-1] && messages[messages.length-1].h.xtalk.options.treat_as_accessory)
					messages.pop();*/
				
				//console.log(messages.reverse().map((m)=>'<a href=#>'+m.h.name + (m.h.type=='function' ? '()' : '') /*+ ':' + (m.jLine - m.h.jLine)/2*/ + '</a>').join(' → '));
				scripteditor.qs('#scripteditor_error').innerHTML += ' in ' + messages.map((m)=>{
					return '<a href=#>'+(m.h.xtalk.options.treat_as_accessory ? '</a>' : '') 
						+ m.h.name + (m.h.type=='function' ? '()' : '') + (m.h.xtalk.options.treat_as_accessory ? '' : '</a>')
						/*+ '<sup>[' + (m.jLine - m.h.jLine)/2 + ']</sup>'*/;
				}).join(' from ' /*' ← '*/) + '';
				scripteditor.qs('#scripteditor_error').qsa('a').forEach((a,i)=>{
					var m = messages[i];
					if (!m.h.xtalk.options.treat_as_accessory)
						a.onclick = scriptLinkClickEvent(m.h.me, m.h.line + 1 + (m.jLine - m.h.jLine)/2, error, i);
					if (i===frame)
						{ a.style.color = 'black'; a.style.textDecoration = 'none'; }
				});
				function scriptLinkClickEvent(element, line, error, frame)
					{ return (event)=>{ event.preventDefault(); launch_scripteditor(element, line, error, frame); }; }				
			// handlers have type, name, jLine...0 {type: "on", name: "errorhandler", line: 26 } etc
				// looking for ...$$$[type]_[name]$$$....:[linenumber]:...
				/* $$$on_errorhandler$$$@file:///Users/pro/Desktop/HappyCard/Sim.html:56:28
generatorResume@[native code]
$$$on_callErrorHandler$$$@file:///Users/pro/Desktop/HappyCard/Sim.html:63:40
generatorResume@[native code]
$$$on_messageBox$$$@file:///Users/pro/Desktop/HappyCard/Sim.html:4:40
generatorResume@[native code]
run@file:///Users/pro/Desktop/HappyCard/XTalk.js:475:27
generatorResume@[native code]
intervalProc@file:///Users/pro/Desktop/HappyCard/XTalk.js:358:24"
				*/
				
				var varDiv = document.createElement('div');
				
				
				var localVariables = error._[frame]._.$values();
				if (localVariables)
					varDiv.innerHTML += /*'Variables: '+*/ContentEditableFix.HTMLEncode(localVariables) + '<br>';
				
				var localGlobals = Object.keys(error._[frame]._.$global).map((g)=>{
					var val = XTalk.Globals[g];
					val = ['number','boolean'].includes(typeof val) ? val : '"'+String(val).replaceAll("\n","↵")+'"';
					return g + ' is ' + val;
				}).join(', ');

				if (localGlobals)
					varDiv.innerHTML += 'Globals: ' + ContentEditableFix.HTMLEncode(localGlobals) + '<br>';
				
				scripteditor.qs('#scripteditor_error').appendChild(varDiv);
			}
		}
		else
		{
		}

		var defaultmsg = {'stack-part':'openStack','card-part':'openCard','background-part':'openBackground','button-part':'mouseUp','field-part':'closeField'}[element.nodeName.toLowerCase()], defaultScript = `on ${defaultmsg}\n\nend ${defaultmsg}\n`;
		scripteditor.qs('field-part').contents = (element.script || defaultScript).split('\n').map((l)=>l.trim()).join('\n'); 

		scripteditor_input();

		if (element.nodeName.toLowerCase() == 'stack-part')
			scripteditor.name = 'Script of stack "'+element.name+'"';
		else {
			var type = element.nodeName.toLowerCase().split('-',1)[0];
			if (type == 'button' || type == 'field')
				type = element.closest('card-part,background-part').nodeName.toLowerCase().split('-',1)[0] + ' ' + type;
			scripteditor.name = 'Script of '+ type + (element.id ? ' id ' + element.id : ' ' + element.number) + ' = "'+element.name+'"';
		}
		
		scripteditor.visible=true;
		leaveFullscreen();

		if (line || matchMedia("(pointer:fine)").matches) {
			var seldiv = scripteditor.qs('field-part').qsa('div')[(line||2)-1] || scripteditor.qs('field-part').qs('div'); 
			scripteditor.qs('field-part').scrollTop = seldiv.offsetTop - scripteditor.qs('field-part').offsetHeight/2;
			getSelection().selectAllChildren(seldiv); 
			if (!line) getSelection().collapseToEnd(); 
		}
		if (!line) scripteditor.qs('field-part').scroll = 0;
		scripteditor.qs('field-part').dirty = false;
		scripteditor.qs('field-part').leaveDirtyOnClose = true;
		scripteditor.qs('field-part').style.color = element.script ? '' : 'gray'; 
		//scripteditor.qs('field-part').focus(); 
	}
	function scripteditor_input()
	{
		scripteditor.qs('field-part').FixCENow();
		scripteditor.qs('field-part').style.color = '';
		// we want to change the text of the script, have it fast reparse with the packrat data, indent the script, maybe draw red marks
		scripteditor.target_script = new XTalk(document.createElement('div'), scripteditor.qs('field-part').contents, { dontComplain: true });
		//console.log(scripteditor.target_script.raw);
		
		scripteditor.qs('field-part').childNodes.forEach((c,i)=>{
			c.setAttribute('data-prefix', '\t'.repeat(Math.max(scripteditor.target_script.raw.lineinfo[i].indent,0)));
			c.setAttribute('data-suffix', scripteditor.target_script.raw.lineinfo[i].error || '');	// the wildcard script might not even have errors because it falls back to JS
		});
	}
	function scripteditor_savenow()
	{
		if (scripteditor.qs('field-part').dirty) 
		{
			try { 
				scripteditor.target_element.script = scripteditor.qs('field-part').contents.split('\n').map((line)=>line.trim()).join('\n');
				scripteditor.qs('field-part').dirty = false;
			} 
			catch(e) { return confirm(e); }
		}
		return true;
	}
</script>




<style>
	modal-dialog:not(.bg) .bg { display:none; }
	modal-dialog:not(.cd) .cd { display:none; }
	modal-dialog:not(.stk) .stk { display:none; }
	/*#scripteditor field-part > div { padding: 0px 4px; line-height: 1.2; }
	#scripteditor field-part > div:first-of-type { margin-top: 2px;; }
	#scripteditor field-part > div:nth-of-type(2n+1) { background: #f8F8F8; }*/
</style>

<element-template tag=color-bevel-picker attributes="hasColor,color='#FFFFFF',bevel=0,showBevel">
	<template>
		<button-part id=hascolor type=checkbox name="Color" onclick="
			this.parentNode.qs('#color').value = css_color_as_rgb(this.hilite && this.getRootNode().host.color || '#FFFFFF'); 
			this.parentNode.qs('#bevel').value = this.hilite ? (this.getRootNode().host.bevel||0) : ''; "></button-part> 
		<input id=color type=color value=#FFFFFF onmouseup="this.parentNode.qs('#hascolor').hilite = true; this.getRootNode().host.color = this.value;" oninput="this.parentNode.qs('#hascolor').hilite = true; this.getRootNode().host.color = this.value;"> 
		<input id=bevel type=number min=-7 max=7 value='' style='max-width: 3em;' oninput="this.parentNode.qs('#hascolor').hilite = true; this.getRootNode().host.bevel = this.value"><br>	
		<style>
			:host([showBevel="false" i]) #bevel { display: none; }
			:host input[type=color] { filter: var(--dark-mode-inversion); }
		</style>
	</template>
	<script>
		function color_bevel_picker(element,template)
		{
			return {
				get hasColor() { return template.qs('#hascolor').hilite; },
				set hasColor(value) { template.qs('#hascolor').hilite = !!value; },
				set color(value) { template.qs('#color').value = css_color_as_rgb(value || '#FFFFFF'); if (!value) element.removeAttribute('color'); },
				set bevel(value) { template.qs('#bevel').value = (value || 0); }
			};
		}
		function css_color_as_rgb(color)
		{
			var ctx = document.createElement('canvas').getContext('2d');
			ctx.fillStyle = color;
			return ctx.fillStyle;
		}
	</script>
</element-template>

<modal-dialog id=stackinfo class=dotted name="Stack Info">
	<table>
		<tr><td colspan=4>
			<div class=flex-row><span>Stack name: </span>
				<field-part class=flex-expand id=name type=rectangle>Name</field-part></div>
		</td></tr>
		<tr><td colspan=4 id=info style="word-break: break-word;">
			<a href=# style="xfont: caption;">base/stack</a> <br>
			<button-part type=checkbox name="Your account hosts this stack" id=shouldhost></button-part><br>
			<br>
			Stack contains C cards. <br>
			Stack contains B backgrounds. <br>
			<br>
			Size of stack: 67 K <br>
			<br>
			Card size: ↔<span class=width>512</span> ×<!--↕!--><span class=height>342</span><br>
		</td></tr>
		<tr><td>
			<div class=flex-row><button-part class=flex-expand type=standard  name="Resize..." onclick="
				var modal = this.closest('modal-dialog');
				modal.qs('.width').disabled = false;
				modal.qs('.height').disabled = false;
				modal.qs('.width').select();
				modal.qs('.width').focus();
			"></button-part></div>
		</td><td>
			<div class=flex-row><button-part class=flex-expand type=standard  name="Icon..." visible=false></button-part></div>
		</td><td>
			<div class=flex-row><button-part visible=false class=flex-expand type=standard  name="Effect..."></button-part></div>
		</td><td>
			<div class=flex-row><button-part class=flex-expand type=default name=OK onclick="if (!savestackinfo(this.closest('modal-dialog'))) event.preventDefault();"></button-part></div>
		</td></tr>
		<tr><td>
			<div class=flex-row><button-part class=flex-expand type=standard id=script name="Script..."  onclick=" 
				//this.closest('modal-dialog').qs('button-part[name=OK]').click();
				launch_scripteditor(this.closest('modal-dialog').target_element);
			"></button-part></div>
		</td><td>			
			<div class=flex-row><button-part class=flex-expand type=standard name="Card..." onclick="
				this.closest('modal-dialog').qs('button-part[name=OK]').click();
				launch_info_dialog(this.closest('modal-dialog').target_element.card, body.classList.contains('shift'));
			"></button-part></div>
		</td><td>
			<div class=flex-row><button-part class=flex-expand type=standard name="Bkgnd..." onclick="
				this.closest('modal-dialog').qs('button-part[name=OK]').click();
				launch_info_dialog(this.closest('modal-dialog').target_element.card.background, body.classList.contains('shift'));
			"></button-part></div>
		</td><td>
			<div class=flex-row><button-part class=flex-expand type=standard  name=Cancel onclick="
				if (this.closest('modal-dialog').cancel_callback) this.closest('modal-dialog').cancel_callback();
				this.closest('modal-dialog').visible = false;
			"></button-part></div>
		</td></tr>
	</table>
	<script>
		function savestackinfo(modal)
		{
			var element = modal.target_element, md = element.parentNode, value = modal.qs('#name').contents, nameChanged = (value != element.name), user = getCookie('user');
						
			var ismystack = user && md.dataset.user == user;
			if (ismystack && value.substr(0,1+user.length+1)=='/'+user+'/')
				value = value.substr(1+user.length+1);
			
			if ((element.name != value || !ismystack) && user && modal.qs('#shouldhost').hilite)
			{
				value = value.replaceAll(/[\W]+/g,'-');
				if (!confirm('Rename ' + element.name + ' to /' + user + '/' + value + '?')) return;
			}
			
			if (!modal.qs('#shouldhost').hilite) 
			{
				if (user && user===md.dataset.user) {
					if (!confirm('You wish to stop hosting this stack on your account?')) return false;
					hit_file_system({ request: 'save', user: md.dataset.user, path: md.dataset.path, contents: '' },
						()=>{ download_user_file_list(user); });
				}
				//value = md.dataset.path || 'Stack';
				md.name = value; 
				element.name = value;
				delete md.dataset.user; 
				delete md.dataset.path; 
			}
			else if (!user)
			{
				if (confirm('To host this stack on your personal account, log in or register first. Do you want to do so now?' 
					+ (md.dataset.user ? ' (It is currently hosted by the user '+md.dataset.user+').' : '')))
					{ showloginmodal(); return; }
			}
			else if (nameChanged)
			{
				md.dataset.user = user;	// presumably you want this
				md.dataset.path = value;				// presumably you want this
				md.name = value;
				element.name = value.substr((value[0] == '/') ? 1 : 0) || '/'+user;
				if (md.id == 1) md.id = 0;
				element.setAttribute('data-mutator', Date.now()); 	// trigger mutation observer
			}
			
			element.width = modal.qs('.width').value;
			element.height = modal.qs('.height').value;
			shuffle_stackList();
			top_stackList(md,true);
			modal.visible = false;
			return true;
		}
	</script>
</modal-dialog>

<modal-dialog id=cardinfo class=dotted name="Card Info">
	<style>#cardinfo td { xoutline: thin dotted gray; }</style>
	<table>
		<!--tr><td width=25%></td><td width=25%></td><td width=25%></td><td width=25%></td></tr!-->
		<tr><td colspan=4>
			<div class=flex-row><span>Card Name: </span>
				<field-part class=flex-expand id=name type=rectangle>name</field-part></div>
		</td></tr>
		<tr><td colspan=4 id=infotd>
			Card number: 1 <br>
			Card ID: 1 <br>
		</td></tr>
		<tr><td colspan=2 rowspan=2>
			<br>
			<color-bevel-picker showbevel=false></color-bevel-picker>
			<button-part id=marked type=checkbox name="Card Marked"></button-part><br>
			<button-part id=dontSearch type=checkbox name="Don't Search Card"></button-part><br>
			<button-part id=cantDelete type=checkbox name="Can't Delete Card"></button-part><br>
			<button-part id=showPict type=checkbox name="Show Picture"></button-part><br>
			<br>
		</td><td rowspan=2></td></tr>
		<tr><td style="vertical-align: bottom;">					
			<div class=flex-row><button-part class=flex-expand type=default  name=OK onclick="
				var modal = this.closest('modal-dialog');
				modal.target_element.color = modal.qs('color-bevel-picker').hasColor ? modal.qs('color-bevel-picker').color : '';
				modal.target_element.name = modal.qs('#name').contents;
				modal.target_element.marked = modal.qs('#marked').hilite;
				modal.target_element.dontSearch = modal.qs('#dontSearch').hilite;
				modal.target_element.cantDelete = modal.qs('#cantDelete').hilite;
				modal.target_element.showPict = modal.qs('#showPict').hilite;
				modal.visible = false;
				XTalk.Send(body.qs('#palette card-part'), 'refresh');
			"></button-part></div>
		</td></tr>
		<tr><td>
			<div class=flex-row><button-part id=script class=flex-expand type=standard name="Script..." onclick=" 
				//this.closest('modal-dialog').qs('button-part[name=OK]').click();
				launch_scripteditor(this.closest('modal-dialog').target_element);
			"></button-part></div>
		</td><td>
			<div class=flex-row><button-part class=flex-expand type=standard name="Stack..." onclick="
				this.closest('modal-dialog').qs('button-part[name=OK]').click();
				launch_info_dialog(this.closest('modal-dialog').target_element.closest('stack-part'), body.classList.contains('shift'));
			"></button-part></div>
		</td><td>
			<div class=flex-row><button-part class=flex-expand type=standard name="Bkgnd..." onclick="
				this.closest('modal-dialog').qs('button-part[name=OK]').click();
				launch_info_dialog(this.closest('modal-dialog').target_element.background, body.classList.contains('shift'));
			"></button-part></div>
		</td><td>
			<div class=flex-row><button-part class=flex-expand type=standard  name=Cancel onclick="
				if (this.closest('modal-dialog').cancel_callback) this.closest('modal-dialog').cancel_callback();
				this.closest('modal-dialog').visible = false;
			"></button-part></div>
		</td></tr>
	</table>
</modal-dialog>

<modal-dialog id=bkgndinfo class=dotted name="Background Info">
	<table>
		<!--tr><td width=28%></td><td width=28%></td><td width=16%></td><td width=28%></td></tr!-->
		<tr><td colspan=4>
			<div class=flex-row><span>Name: </span>
				<field-part class=flex-expand id=name type=rectangle>name</field-part></div>
		</td></tr>
		<tr><td colspan=4 id=infotd>
			Background ID: 1 <br>
			Background shared by N cards. <br>
			<br>
			Contains N background fields. <br>
			Contains N background buttons. <br>
		</td></tr>
		<tr><td colspan=3>
			<br>
			<color-bevel-picker showbevel=false></color-bevel-picker>
			<button-part id=dontSearch type=checkbox name="Don't Search"></button-part><br>
			<button-part id=cantDelete type=checkbox name="Can't Delete"></button-part><br>
			<button-part id=showPict type=checkbox name="Show Picture"></button-part><br>
			<br>
		</td><td style="vertical-align: bottom;">					
			<div class=flex-row><button-part class=flex-expand type=default  name=OK onclick="
				var modal = this.closest('modal-dialog');
				modal.target_element.color = modal.qs('color-bevel-picker').hasColor ? modal.qs('color-bevel-picker').color : '';
				modal.target_element.name = modal.qs('#name').contents;
				modal.target_element.dontSearch = modal.qs('#dontSearch').hilite;
				modal.target_element.cantDelete = modal.qs('#cantDelete').hilite;
				modal.target_element.showPict = modal.qs('#showPict').hilite;
				modal.visible = false;
			"></button-part></div>
		</td></tr>
		<tr><td>
			<div class=flex-row><button-part id=script class=flex-expand type=standard name="Script..." onclick=" 
				//this.closest('modal-dialog').qs('button-part[name=OK]').click();
				launch_scripteditor(this.closest('modal-dialog').target_element);
			"></button-part></div>
		</td><td>
			<div class=flex-row><button-part class=flex-expand type=standard name="Card..." onclick="
				this.closest('modal-dialog').qs('button-part[name=OK]').click();
				launch_info_dialog(sim.card, body.classList.contains('shift'));
			"></button-part></div>
		</td><td>
			<div class=flex-row><button-part class=flex-expand type=standard name="Stack..." onclick="
				this.closest('modal-dialog').qs('button-part[name=OK]').click();
				var bkgnd = this.closest('modal-dialog').target_element;
				var stack = (bkgnd.getRootNode() ? bkgnd.getRootNode().host : bkgnd).closest('stack-part');
				launch_info_dialog(stack, body.classList.contains('shift'));
			"></button-part></div>
		</td><td>
			<div class=flex-row><button-part class=flex-expand type=standard  name=Cancel onclick="this.closest('modal-dialog').visible = false;"></button-part></div>
		</td></tr>
	</table>
</modal-dialog>

<modal-dialog id=buttoninfo class=dotted name="Button Info" oninput="copy_buttoninfo_to_element(this.qs('#preview'));">
	<table>
		<tr><td width=25%></td><td width=25%></td><td width=25%></td><td width=25%></td></tr>
		<tr><td colspan=4>
			<div class=flex-row><span>Button Name: </span>
				<field-part class=flex-expand id=name type=rectangle>Name</field-part></div>
		</td></tr>
		<tr><td colspan=2 id=info>
			<span class=cd>Card</span><span class=bg>Bkgnd</span> button number: <span id=number>1</span> <br>
			<span class=cd>Card</span><span class=bg>Bkgnd</span> part number: <span id=partnumber>1</span> <br>
			<span class=cd>Card</span><span class=bg>Bkgnd</span> button ID: <span id=id>1</span> <br>
		</td><td colspan=2 style='text-align: center; white-space: nowrap;'>
			<button-part id=type type='popup' name="Style:">Transparent<br>Opaque<br>Rectangle<br>Round Rect<br>Shadow<br>Checkbox<br>Radio Button<br>Standard<br>Default<br>Oval<br>Popup</button-part><br>
			<button-part id=family type='popup' name="Family:">None<br>1<br>2<br>3<br>4<br>5</button-part><br>
		</td></tr>
		<tr><td colspan=2 style="padding: 0.5em;">
			<div class='flex-column lightmode' style="border: thin dotted gray; text-align: center; padding: 2px; height: 6em; width: 175px; ">
				<div class=flex-expand></div>
				<div style="position: relative; overflow: auto; padding: 2px; max-width: 175px; max-height: 5em; font: 1em serif; text-align: initial; margin: 0 auto;">
					<button-part id=preview class=ignore-keys></button-part>
				</div>
				<div class=flex-expand></div>
				<div style="font: caption;">Preview</div>
			</div>
		</td><td colspan=2 style="text-align: center;">
			<div style="display: inline-block; text-align: left;" onclick="copy_buttoninfo_to_element(this.closest('modal-dialog').qs('#preview'));" oninput="copy_buttoninfo_to_element(this.closest('modal-dialog').qs('#preview'));">
				<color-bevel-picker></color-bevel-picker>
				<button-part id=showName type=checkbox  name="Show Name"></button-part><br>
				<button-part id=hilite type=checkbox  name="Hilite"></button-part><br>
				<button-part id=autoHilite type=checkbox  name="Auto Hilite"></button-part><br>
				<span class=bg><button-part id=sharedHilite type=checkbox name="Shared Hilite"></button-part><br></span>
				<button-part id=enabled type=checkbox name="Enabled"></button-part><br>
				<button-part id=visible type=checkbox name="Visible"></button-part><br><br>

			</div>
		</td></tr>
		<tr><td>
			<div class=flex-row><button-part class=flex-expand type=standard  name="Text Style..." onclick="
				launchtextproperties(this.closest('modal-dialog').qs('#preview'));
			"></button-part></div>
		</td><td>
			<div class=flex-row><button-part class=flex-expand type=standard  name="Icon..." onclick="
				launchiconpicker(this.closest('modal-dialog').qs('#preview'));
				return;
				
				var modal = this.closest('modal-dialog');
				launchiconpicker(modal.target_element);
				this.closest('modal-dialog').qs('button-part[name=OK]').click();
			"></button-part></div>
		</td><td>
			<!--div class=flex-row><button-part xvisible=false class=flex-expand type=standard  name="Effect..." onclick="
				var preview = this.closest('modal-dialog').qs('#preview');
				var f = prompt('Enter the effect:',preview.effect); 
				if (typeof f == 'string') preview.effect = f;
			"></button-part></div!-->
			<div class=flex-row><button-part visible=false class=flex-expand type=standard  name="Link To..." onclick="
			var preview = this.closest('modal-dialog').qs('#preview');
			var f = prompt('Enter the name of a card or stack',preview.linkTo); 
			if (typeof f == 'string') preview.linkTo = f;
			"></button-part></div>
		</td><td>
			<div class=flex-row><button-part class=flex-expand type=default name=OK onclick="
				var modal = this.closest('modal-dialog');
				copy_buttoninfo_to_element(modal.target_element,true);
				modal.visible = false;"></button-part></div>
		</td></tr>
		<tr><td>
			<div class=flex-row><button-part class=flex-expand type=standard id=script name="Script..." onclick=" 
				launch_scripteditor(this.closest('modal-dialog').target_element);
				this.closest('modal-dialog').qs('button-part[name=OK]').click();
			"></button-part></div>
		</td><td>
			<div class=flex-row><button-part class=flex-expand type=standard  name="Contents..." onclick="
				body.qs('#buttoncontentsinfo').targetElement = this.closest('modal-dialog').targetElement;
				body.qs('#buttoncontentsinfo field-part').contents = this.closest('modal-dialog').qs('#preview').contents; 
				body.qs('#buttoncontentsinfo').visible=true;
				body.qs('#buttoncontentsinfo field-part').focus(); 
			"></button-part></div>
		</td><td>
			<div class=flex-row><button-part class='flex-expand cd' type=standard name="Card..." onclick="
				this.closest('modal-dialog').qs('button-part[name=OK]').click();
				launch_info_dialog(sim.card, body.classList.contains('shift'));
			"></button-part>
				<button-part class='flex-expand bg' type=standard name="Bkgnd..." onclick="
					this.closest('modal-dialog').qs('button-part[name=OK]').click();
					launch_info_dialog(sim.background, body.classList.contains('shift'));
				"></button-part></div>
			<!--div class=flex-row><button-part xvisible=false class=flex-expand type=standard  name="Link To..." onclick="
				var preview = this.closest('modal-dialog').qs('#preview');
				var f = prompt('Enter the name of a card or stack',preview.linkTo); 
				if (typeof f == 'string') preview.linkTo = f;
			"></button-part></div!-->
		</td><td>
			<div class=flex-row><button-part class=flex-expand type=standard  name=Cancel onclick="this.closest('modal-dialog').visible = false;"></button-part></div>
		</td></tr>
	</table>
</modal-dialog>

<modal-dialog id=buttoncontentsinfo name="Contents">
	<field-part type=scrolling width=400 height=220></field-part> 
	<div style="display: flex; align-items: center; justify-content: flex-end;">
		<button-part type=standard name=Cancel onclick="this.parentNode.parentNode.visible=false"></button-part>&nbsp;
		<button-part type=default name=OK class=ignore-keys onclick="
			buttoninfo.qs('#preview').contents = this.closest('modal-dialog').qs('field-part').contents;
			this.parentNode.parentNode.visible=false;"></button-part>
	</div>
</modal-dialog>

<modal-dialog id=fieldinfo class=dotted name="Field Info" oninput="copy_fieldinfo_to_element(this.qs('#preview'));">
	<table>
		<tr><td width=28%></td><td width=28%></td><td width=22%></td><td width=22%></td></tr>
		<tr><td colspan=4>
			<div class=flex-row><span>Field name: </span>
				<field-part class=flex-expand id=name type=rectangle>name</field-part></div>
		</td></tr>
		<tr><td colspan=2 id=info>
			<span class=cd>Card</span><span class=bg>Bkgnd</span> field number: <span id=number>1</span> <br>
			<span class=cd>Card</span><span class=bg>Bkgnd</span> part number: <span id=partnumber>1</span> <br>
			<span class=cd>Card</span><span class=bg>Bkgnd</span> field ID: <span id=id>1</span> <br>
		</td><td colspan=2 rowspan=3 style='text-align: center;'>
			<button-part id=type type='popup' name="Style:">Transparent<br>Opaque<br>Rectangle<br>Shadow<br>Scrolling</button-part><br>
			<br>
			<div style="display: inline-block; text-align: left;"  onclick="copy_fieldinfo_to_element(this.closest('modal-dialog').qs('#preview'));" oninput="copy_fieldinfo_to_element(this.closest('modal-dialog').qs('#preview'));">
				<color-bevel-picker></color-bevel-picker>
				<button-part id=lockText type=checkbox  name="Lock Text"></button-part><br>
				<button-part id=dontWrap type=checkbox  name="Don't Wrap"></button-part><br>
				<button-part id=autoSelect type=checkbox  name="Auto Select"></button-part><br>
				<button-part id=multipleLines type=checkbox  name="Multiple Lines" enabled=false></button-part><br>
				<button-part id=wideMargins type=checkbox  name="Wide Margins"></button-part><br>
				<button-part id=fixedLineHeight type=checkbox  name="Fixed Line Height"></button-part><br>
				<button-part id=showLines type=checkbox  name="Show Lines"></button-part><br>
				<button-part id=visible type=checkbox  name="Visible"></button-part><br>
				<span class=bg><button-part id=sharedText type=checkbox name="Shared Text" onclick="
					var modal = this.closest('modal-dialog'), preview = modal.qs('#preview');
					if (this.hilite) {
						var cloney = modal.target_element.shared_contents ? modal.target_element.shared_contents.cloneNode(true) : document.createElement('div');
						preview.contentsContainer().replaceChildren(cloney);
					}
					else 
						preview.contentsContainer().innerHTML = fieldinfo.target_element.getRootNode().host.qs('div[slot=&quot-'+modal.target_element.ID+'&quot]').innerHTML;
					if (document.activeElement===preview)
					{ getSelection().selectAllChildren(preview); getSelection().collapseToStart(); }
				"></button-part><br></span>
				<br>
			</div>
		</td></tr>
		<tr><td colspan=2 style="padding: 0.5em;">
			<div class='flex-column lightmode' style="border: thin dotted gray; text-align: center; padding: 0.5em; min-height: 6em;">
				<div class=flex-expand></div>
				<div style="overflow: auto; max-width: 230px; max-height: 5em; padding: 2px; font: 1em serif; text-align: initial; margin: 0 auto;">
					<field-part id=preview class=ignore-keys></field-part>
				</div>
				<div class=flex-expand></div>
				<span style="font: caption;">Preview</span>
			</div>
		</td></tr>
		<tr><td style="vertical-align:bottom">
			<div class=flex-row><button-part class=flex-expand type=standard  name="Text Style..." onclick="
				launchtextproperties(this.closest('modal-dialog').qs('#preview'));
			"></button-part></div>
		</td></tr>
		<tr><td>
			<div class=flex-row><button-part id=script class=flex-expand type=standard name="Script..."  onclick=" 
				this.closest('modal-dialog').qs('button-part[name=OK]').click();
				launch_scripteditor(this.closest('modal-dialog').target_element);
			"></button-part></div>
		</td><td>
			<div class=flex-row><button-part class='flex-expand cd' type=standard name="Card..." onclick="
				this.closest('modal-dialog').qs('button-part[name=OK]').click();
				launch_info_dialog(sim.card, body.classList.contains('shift'));
			"></button-part>
			<button-part class='flex-expand bg' type=standard name="Bkgnd..." onclick="
				this.closest('modal-dialog').qs('button-part[name=OK]').click();
				launch_info_dialog(sim.background, body.classList.contains('shift'));
			"></button-part></div>
		</td><td>
			<div class=flex-row><button-part class=flex-expand type=default  name=OK onclick="
				var modal = this.closest('modal-dialog');
				copy_fieldinfo_to_element(modal.target_element, true);
				modal.visible = false;"></button-part></div>
		</td><td>
			<div class=flex-row><button-part class=flex-expand type=standard  name=Cancel onclick="this.closest('modal-dialog').visible = false;"></button-part></div>
		</td></tr>
	</table>
</modal-dialog>

<modal-dialog class=dotted id=iconpicker name="Icon">
	<field-part class=lightmode type='scrolling' style="width: min(100vw, 540px); height: 300px; white-space: pre-wrap; tab-size: 2;" font="1em monospace" wideMargins=false lockText=true
		spellcheck=false autoreplace=false tabindex=0></field-part> 
	<div class=flex-row>
		<field-part id="icon_to_use" type=rectangle class=flex-expand></field-part>
		<button-part type=standard family=icon name=None onclick="this.closest('modal-dialog').target_element.icon = 0; this.parentNode.parentNode.visible=false"></button-part>&nbsp;
		<button-part type=standard name=Cancel onclick="this.parentNode.parentNode.visible=false"></button-part>&nbsp;
		<button-part type=default name=OK onclick="
			this.closest('modal-dialog').target_element.icon = this.closest('modal-dialog').qs('#icon_to_use').contents || 0;
			this.closest('modal-dialog').visible = false;
		"></button-part>
	</div>
</modal-dialog>



<modal-dialog id=textinfo xvisible=true name="Text Properties" oninput="copy_textproperties_to_element(this.qs('#preview'));">
	<style>
		#textinfo > div { 
			display: grid; 
			grid-template-rows: 100% 100% 100px;
			grid: "L M A B" "L M C D" "L M P P"; 
		}
	</style>
	<div style="">
		<div style="grid-area: L;">
			Style:<br>
			<button-part type=checkbox name=Bold></button-part><br>
			<button-part type=checkbox name=Italic></button-part><br>
			<button-part type=checkbox name=Underline></button-part><br>
			<button-part type=checkbox name=Outline></button-part><br>
			<button-part type=checkbox name=Shadow></button-part><br>
			<button-part type=checkbox name=Condense></button-part><br>
			<button-part type=checkbox name=Extend></button-part><br>
			<button-part type=checkbox name=Group></button-part><br>
			<br>
			Align:<br>
			<button-part type=radiobutton name=Left family=1 hilite=true></button-part><br>
			<button-part type=radiobutton name=Center family=1></button-part><br>
			<button-part type=radiobutton name=Right family=1></button-part><br>
		</div>
		<field-part name=textfont type=scrolling autoselect=true locktext=true style="font: initial; grid-area: M; width: fit-content; min-width: 6em;" onclick="this.closest('modal-dialog').oninput();">
			<div><font face=Arial>Arial</font><br></div>
			<div><font face=Chicago>Chicago</font><br></div>
			<div><font face=Courier>Courier</font><br></div>
			<div><font face=Geneva>Geneva</font><br></div>
			<div><font face=Helvetica>Helvetica</font><br></div>
			<div><font face=Monaco>Monaco</font><br></div>
			<div><font face="New York">New York</font><br></div>
			<div><font face=Palatino>Palatino</font><br></div>
			<div><font face=Tahoma>Tahoma</font><br></div>
			<div><font face=Times>Times</font><br></div>
			<div><font face=Verdana>Verdana</font><br></div>
		</field-part>
		<field-part name=textsizepicker type=scrolling autoselect=true locktext=true style="grid-area: A; width: fit-content; min-width: 3em;"
			onclick="this.closest('modal-dialog').qs('field-part[name=textsize]').contents = this.selectedText; this.closest('modal-dialog').oninput();">9<br>10<br>12<br>14<br>16<br>18<br>24<br>32<br>
		</field-part>
		<div style="grid-area:B;">
			<button-part type=default style="width:100%;" name=OK onclick="
				var modal = this.closest('modal-dialog');
				copy_textproperties_to_element(modal.target_element, true);
				modal.visible = false;
				if (modal.callback) (modal.callback)();
				"></button-part><br>
			<button-part type=standard  name=Cancel style="width:calc(100%-6px); margin: 3px;" onclick="this.closest('modal-dialog').visible = false;"></button-part>
		</div>
		<field-part name=textsize type=rectangle style="grid-area:C; align-self: end;">16</field-part>
		<field-part name=textheight type=rectangle style="grid-area:D; align-self: end;">24</field-part>
		<field-part id=preview type=rectangle style="--font: 1em serif; grid-area: P;">Preview</field-part>
	</div>
	
</modal-dialog>

<modal-dialog id=uploadmodal class='dotted closebox' name="">
	<iframe width=380 height=320 frameBorder=0></iframe>
	<br>
	<a style="font: caption;" href=https://hcsimulator.com/termsandconditions.html target=_blank>Terms and Conditions</a>
	<div class=flex-row style="display: none;">
		<a style="font: caption;" href=https://hcsimulator.com/termsandconditions.html target=_blank>Terms and Conditions</a>
		<span class=flex-expand></span>
		<button-part name='Done' type=standard onclick="this.closest('modal-dialog').visible=false;"></button-part>
	</div>
</modal-dialog>

<modal-dialog id=loginmodal name=""><form id=loginmodalform_notloggedin method=post onsubmit="
	if (this.elements.register.checked && this.elements.password.value != this.elements.passwordmatch.value)
		{ event.preventDefault(); alert('New password does not match.'); return false; }
	hit_file_system({ 
		request: this.elements.register.checked ? 'register' : 'login',
		user: this.elements.user.value,
		password: this.elements.password.value },
		(download)=>{ 
			this.closest('modal-dialog').visible=false; 
			console.log('Welcome, ' + getCookie('user'));
			//console.log(download);
			body.classList.add('hidepublicstacklist');
			receive_user_file_list(getCookie('user'), download);
			shuffle_stackList(); 
			floatmenu.qs('div').scrollTo({left:0,top:0,behavior:'smooth'});
			if (download.includes('custom_simulator_script'))
				hit_file_system({ request: 'load', path: 'custom_simulator_script', user: getCookie('user') }, (download)=>{ wildcard_script.contents = download.contents.script; wildcard_script.oninput(); }, (error)=>{} );
			//download_user_file_list(getCookie('user'));
		//	if (!stackinfo.visible)
		//		download_user_stack(getCookie('user'),'',0,getCookie('user'));
		});
	return false;
"><table>
	<tr><td>Username</td><td><input id=loginusername name=user spellcheck=false autoreplace=false></td></tr>
	<tr><td>Password</td><td><input name=password type=password></field-part></td></tr>
	<tr id=passwordrepeattr style='display: none;'><td>Verify Password</td><td><input name=passwordmatch type=password></field-part></td></tr>
	<tr><td>
		<input type=hidden name=request value=login> <input type=hidden name=csrf> </td>
		<td><input type=button value="Cancel" onclick="this.closest('modal-dialog').visible=false"> 
			<input id=loginsubmitbutton type=Submit name=Submit value="Login" onclick="		
				if (this.form.register.checked) {
					var a=Math.ceil(Math.random()*15), b=Math.ceil(Math.random()*15); 
					if (prompt(a+' + '+b+' =')!=a+b) event.preventDefault();
				}">
		</td></tr>
	
	<tr><td colspan=2><br><a style="font: caption;" href=https://hcsimulator.com/termsandconditions.html target=_blank>Terms and Conditions</a></td></tr>
	<tr><td colspan=2><label><input name=register type=checkbox onclick="if (this.checked && !confirm('To make an account, you agree that you are above the age of 13, and you will not upload any harmful or illegal material. Your account is a free service that is provided for enjoyment only. Data may be deleted for any reason.')) this.checked=false; else {
		passwordrepeattr.style.display = this.checked ? '' : 'none';
		loginsubmitbutton.value = this.checked ? 'Register' : 'Login';
	}"> Create new account (it's free)</label></td></tr>
	
</table></form><form id=loginmodalform_loggedin method=post style="display: flex; flex-direction: column;">
	<div>Hello, <span class=userbubble>Account</span></div><br>
	<a href=#>Account Info...</a>
	<a href=#>Change Password...</a>
	<div class=flex-expand></div>
	<div><button>Log Out</button></div>
</form></modal-dialog>

<style>
	#loginmodal input 
		{ font: inherit; max-width: 175px; }
	body:not(.loggedin) #loginmodal #loginmodalform_loggedin { visibility: hidden; position: absolute; }
	body.loggedin #loginmodal #loginmodalform_notloggedin { visibility: hidden; position: absolute; }
</style>



<script>
	uploadmodal.addEventListener('closebox', ()=>uploadmodal.visible=false);
	function showuploadmodal()
	{
		uploadmodal.qs('button-part').name = 'Cancel';
		uploadmodal.qs('button-part').type = 'standard';
		if (!uploadmodal.qs('iframe').src) {
			//uploadmodal.qs('iframe').onload = ()=>{ uploadmodal.visible = true; }
			//uploadmodal.qs('iframe').onerror = ()=>{ uploadmodal.visible = true; }
			uploadmodal.qs('iframe').src = 'stack.uploader/';
			uploadmodal.visible = true;
		}
		else uploadmodal.visible = true;
	}
	function stack_uploader_json_result(json)
	{
		console.log(json);
		create_new_stack(json.name,(md,stack)=>{ 
			stack.width = json.width; 
			stack.height = json.height; 
			stack.name = json.name; 
			try {
				stack.savableJSON = json;
			} catch(e) { console.warn(e); }
			md.dataset.localmtime = Date.now();	// shouldn't this save it
			if (stack.card)
				stack.card = stack.card;
			
			if (sim.stack && matchMedia('(pointer:fine)').matches) {
					md.x = sim.stack.parentNode.x + 8; 
					md.y = sim.stack.parentNode.y + 8; 
				}
			
			// this could be better expressed as sendTransitions(from, to)
			XTalk.Send(stack.card, 'openStack', [], (proceed)=>{
				if (proceed)
					XTalk.Send(stack.card, 'openBackground', [], (proceed)=>{
						if (proceed)
							XTalk.Send(stack.card, 'openCard', [], (proceed)=>{
								stack.lockOpenCardMessages = false;
							});
						else stack.lockOpenCardMessages = false;
					});
				else stack.lockOpenCardMessages = false;
			});
			//launch_info_dialog(stack);
		});
		
		//uploadmodal.visible = false;
		//showuploadmodal();
		uploadmodal.qs('button-part').name = 'Done';
		uploadmodal.qs('button-part').type = 'Default';
	}
	
	function showloginmodal()
	{
		loginmodal.qs('form').reset(); 
		passwordrepeattr.style.display = 'none';
		loginsubmitbutton.value = 'Login';
		loginmodal.visible=true; 
		loginmodalform_loggedin.style.minWidth = loginmodalform_notloggedin.offsetWidth + 'px';
		loginmodalform_loggedin.style.minHeight = loginmodalform_notloggedin.offsetHeight + 'px';
		loginmodal.qs('input').focus();
	}
		
	/*
	dialog control
	*/
	
	function launch_info_dialog(element, showscripteditor, cancel_callback)
	{
		[stackinfo, bkgndinfo, cardinfo, buttoninfo, fieldinfo, scripteditor].forEach((md)=>{
			if (md.visible)
				md.qs('button-part[name=OK]').click();
		});
		//stackinfo.visible = bkgndinfo.visible = cardinfo.visible = buttoninfo.visible = fieldinfo.visible = scripteditor.visible = false; 
		
		if (element.clone_of)
			element = element.clone_of.cloned_node;
			
		if (showscripteditor) 
			{
				launch_scripteditor(element);
			}
		else if (element.matches('stack-part')) 
			{
				stackinfo.target_element = element;
				stackinfo.cancel_callback = cancel_callback;
				stackinfo.qs('field-part#name').contents = element.name; 
				var url =  ((element.matches('#stackcontainer > modal-dialog > stack-part') && (element.parentNode.dataset.user||element.parentNode.dataset.path)) ? (element.parentNode.dataset.user?element.parentNode.dataset.user+'/':'')+element.parentNode.dataset.path : '');
				if (url) url = document.baseURI + url;
				var isHosted = !!getCookie('user') && element.parentNode.dataset.user==getCookie('user');
				
				stackinfo.qs('#info').innerHTML = (url ? `<a href="${url}">${url}</a> <br>` : '') + `
			<button-part type=checkbox name="Save online" id=shouldhost hilite=${isHosted}
				onclick="
					if (this.hilite && !getCookie('user')) showloginmodal();
					//else if (!this.hilite && ${isHosted} && !confirm('Do you want to stop hosting this stack on your account?')) this.hilite = true;
					"	
				></button-part>
			<a style="font: caption;" href=https://hcsimulator.com/termsandconditions.html target=_blank>Terms and Conditions</a><br>
			<!--button-part type=standard name="Export to HTML" onclick="exportstack.click();"></button-part><br!-->
			<br>` + `
			Stack contains ${element.qsa(':scope > card-part').length} cards. <br>
			Stack contains ${element.qsa(':scope > background-part').length} backgrounds. <br>
			<br>
			Size of stack: ${Math.ceil(element.size / 1000)} K <br>
			<br>
			Card size: ↔<input class=width type=number disabled value=${element.width} min=64 max=2048 style='font:inherit; max-width: 6em;'> ↕<input class=height type=number disabled value=${element.height} min=64 max=2048  style='font:inherit; max-width: 6em;'><br>`;
				showandselectname(stackinfo);
			}
		else if (element.matches('card-part')) 
			{
				cardinfo.target_element = element;
				cardinfo.cancel_callback = cancel_callback;
				cardinfo.qs('#name').contents = element.name; 
				cardinfo.qs("#infotd").innerText = `Card number: ${(Array.from(element.parentNode.qsa('card-part')).indexOf(element)+1)} out of ${element.parentNode.qsa('card-part').length}
			Card ID: ${element.ID || 'None'}

			Contains ${element.qsa('field-part').length} card fields.
			Contains ${element.qsa('button-part').length} card buttons.`;
				//			Background${element.shadowRoot.qs('background-part') ? ' ID: '+element.shadowRoot.qs('background-part').ID : ': None'}<br>
				
				cardinfo.qs('color-bevel-picker').hasColor = !!element.color;
				cardinfo.qs('color-bevel-picker').color = element.color;
				cardinfo.qs("#marked").hilite = element.marked;
				cardinfo.qs("#dontSearch").hilite = element.dontSearch;
				cardinfo.qs("#cantDelete").hilite = element.cantDelete;
				cardinfo.qs("#showPict").hilite = element.showPict;
				showandselectname(cardinfo);
			}
		else if (element.matches('background-part')) 
			{
				bkgndinfo.target_element = element;
				bkgndinfo.qs('#name').contents = element.name; 
				bkgndinfo.qs("#infotd").innerText = `Background ID: ${element.ID}
			Background shared by ${element.getRootNode().host.closest('stack-part').qsa(`card-part[bkgndid="${element.ID}"]`).length} cards.

			Contains ${element.qsa('field-part').length} background fields.
			Contains ${element.qsa('button-part').length} background buttons.
			`;
				"Background number: " +
				(Array.from(element.parentNode.qsa('background-part')).indexOf(element)+1) 
				+ " out of " + element.parentNode.qsa('background-part').length + '\n'
				+ "\nContains " + element.qsa(':host > field-part[location]').length + ' background fields.'
				+ "\nContains " + element.qsa(':host > button-part[location]').length + ' background buttons.';
				bkgndinfo.qs('color-bevel-picker').hasColor = !!element.color;
				bkgndinfo.qs('color-bevel-picker').color = element.color;
				bkgndinfo.qs("#dontSearch").hilite = element.dontSearch;
				bkgndinfo.qs("#cantDelete").hilite = element.cantDelete;
				bkgndinfo.qs("#showPict").hilite = element.showPict;
				showandselectname(bkgndinfo);
			}
		else if (element.matches('button-part')) 
			{
				var preview = buttoninfo.qs("#preview"), layer = element.closest('background-part,card-part');
				buttoninfo.classList.toggle('cd', layer.nodeName.toLowerCase()=='card-part');
				buttoninfo.classList.toggle('bg', layer.nodeName.toLowerCase()=='background-part');
				buttoninfo.qs("#name").contents = element.name;
				buttoninfo.qs("#info #number").innerText = Array.from(layer.qsa('button-part')).indexOf(element)+1;
				buttoninfo.qs("#info #partnumber").innerText = Array.from(layer.qsa('button-part,field-part')).indexOf(element)+1;
				buttoninfo.qs("#info #id").innerText = element.id;
				// doesn't this autosearch for lc/space now
				buttoninfo.qs("#type").selectedText = element.type || 'transparent';	
				buttoninfo.qs("#family").selectedText = String(element.family) || 'None';
				buttoninfo.qs("#showName").hilite = element.showName;
				buttoninfo.qs("#hilite").hilite = element.hilite;
				buttoninfo.qs("#autoHilite").hilite = element.autohilite;
				buttoninfo.qs("#sharedHilite").hilite = element.sharedHilite;
				buttoninfo.qs("#enabled").hilite = element.enabled;
				buttoninfo.qs("#visible").hilite = element.visible;
				buttoninfo.qs('color-bevel-picker').hasColor = !!element.color || !!element.bevel;
				buttoninfo.qs('color-bevel-picker').color = element.color;
				buttoninfo.qs('color-bevel-picker').bevel = element.bevel;
				copy_buttoninfo_to_element(preview);
				preview.icon = element.icon;
				preview.textFont = element.textFont;
				preview.textSize = element.textSize;
				preview.textStyle = element.textStyle;
				preview.textAlign = element.textAlign;
				preview.textHeight = element.textHeight;
				preview.linkTo = element.linkTo;
				preview.contents = element.contents;
				preview.selectedLine = element.selectedLine;
				preview.topLeft = element.topLeft ? '0,0' : '';
				preview.width = element.topLeft ? element.offsetWidth : '';
				preview.height = element.topLeft ? element.offsetHeight : '';
				preview.parentNode.style.width = element.location ? element.offsetWidth+'px' : '';
				preview.parentNode.style.height = element.location ? element.offsetHeight+'px' : '';
				
				buttoninfo.target_element = element;
				showandselectname(buttoninfo);
			}
		else if (element.matches('field-part')) 
			{
				var preview = fieldinfo.qs("#preview"), layer = element.closest('background-part,card-part');
				fieldinfo.classList.toggle('cd', layer.nodeName.toLowerCase()=='card-part');
				fieldinfo.classList.toggle('bg', layer.nodeName.toLowerCase()=='background-part');
				fieldinfo.qs("#name").contents = element.name;
				fieldinfo.qs("#info #number").innerText = Array.from(layer.qsa('field-part')).indexOf(element)+1;
				fieldinfo.qs("#info #partnumber").innerText = Array.from(layer.qsa('button-part,field-part')).indexOf(element)+1;
				fieldinfo.qs("#info #id").innerText = element.id;
				fieldinfo.qs("#type").selectedText = element.type || 'transparent';	
				fieldinfo.qs("#lockText").hilite = element.lockText;
				fieldinfo.qs("#dontWrap").hilite = element.dontWrap;
				fieldinfo.qs("#autoSelect").hilite = element.autoSelect;
				fieldinfo.qs("#multipleLines").hilite = element.multipleLines;
				fieldinfo.qs("#fixedLineHeight").hilite = element.fixedLineHeight;
				fieldinfo.qs("#showLines").hilite = element.showLines;
				fieldinfo.qs("#wideMargins").hilite = element.wideMargins;
				fieldinfo.qs("#sharedText").hilite = element.sharedText;
				fieldinfo.qs("#visible").hilite = element.visible;
				fieldinfo.qs('color-bevel-picker').hasColor = !!element.color || !!element.bevel;
				fieldinfo.qs('color-bevel-picker').color = element.color;
				fieldinfo.qs('color-bevel-picker').bevel = element.bevel;
				copy_fieldinfo_to_element(preview);
				preview.textFont = element.textFont;
				preview.textSize = element.textSize;
				preview.textStyle = element.textStyle;
				preview.textAlign = element.textAlign;
				preview.textHeight = element.textHeight;
				preview.shared_contents = null;
				preview.innerHTML = element.contentsContainer().innerHTML;
				preview.width = element.topLeft ? element.offsetWidth : '';
				preview.height = element.topLeft ? element.offsetHeight : '';
				
				fieldinfo.target_element = element;
				showandselectname(fieldinfo);
			}
	}
	function copy_buttoninfo_to_element(element, undoable)
	{
		var preview = buttoninfo.qs('#preview'), oldOuter = element.outerHTML;
		element.name = buttoninfo.qs('#name').contents;
		element.textFont = preview.textFont;
		element.textSize = preview.textSize;
		element.textStyle = preview.textStyle;
		element.textAlign = preview.textAlign;
		element.textHeight = preview.textHeight;
		element.linkTo = preview.linkTo;
		element.type = buttoninfo.qs('#type').selectedText.toLowerCase().replaceAll(' ','');
		element.family = (buttoninfo.qs('#family').selectedLine>1) ? buttoninfo.qs('#family').selectedText : '';
		element.showName = buttoninfo.qs('#showName').hilite;
		element.icon = preview.icon;
		element.hilite = buttoninfo.qs('#hilite').hilite;
		element.autoHilite = buttoninfo.qs('#autoHilite').hilite;
		element.sharedHilite = buttoninfo.qs('#sharedHilite').hilite;
		element.enabled = buttoninfo.qs('#enabled').hilite;
		element.visible = buttoninfo.qs('#visible').hilite;
		element.color = buttoninfo.qs('color-bevel-picker').hasColor ? buttoninfo.qs('color-bevel-picker').color : '';
		element.bevel = buttoninfo.qs('color-bevel-picker').hasColor ? buttoninfo.qs('color-bevel-picker').bevel : 0;
		if (element !== preview) {
			element.contents = preview.contents;
			element.selectedLine = preview.selectedLine;
		}
		if (undoable) {
			var newOuter = element.outerHTML;
			if (window.NBU2) NBU2.RegisterAction(()=>(element.outerHTML=oldOuter), ()=>(element.outerHTML=newOuter));
		}
		if (sim.stackOf(element))
			sim.stackOf(element).refreshAddColorStage();
	}
	function copy_fieldinfo_to_element(element,undoable)
	{
		var preview = fieldinfo.qs('#preview'), oldOuter = element.outerHTML;
		element.name = fieldinfo.qs('#name').contents;
		element.textFont = preview.textFont;
		element.textSize = preview.textSize;
		element.textStyle = preview.textStyle;
		element.textAlign = preview.textAlign;
		element.textHeight = preview.textHeight;
		element.type = fieldinfo.qs('#type').selectedText.toLowerCase().replaceAll(' ','');
		element.lockText = fieldinfo.qs("#lockText").hilite;
		element.dontWrap = fieldinfo.qs("#dontWrap").hilite;
		element.autoSelect = fieldinfo.qs("#autoSelect").hilite;
		element.multipleLines = fieldinfo.qs("#multipleLines").hilite;
		element.fixedLineHeight = fieldinfo.qs("#fixedLineHeight").hilite;
		element.showLines = fieldinfo.qs("#showLines").hilite;
		element.wideMargins = fieldinfo.qs("#wideMargins").hilite;
		var oldST = element.sharedText;
		element.sharedText = fieldinfo.qs("#sharedText").hilite;
		element.visible = fieldinfo.qs('#visible').hilite;
		element.color = fieldinfo.qs('color-bevel-picker').hasColor ? fieldinfo.qs('color-bevel-picker').color : '';
		element.bevel = fieldinfo.qs('color-bevel-picker').hasColor ? fieldinfo.qs('color-bevel-picker').bevel : 0;
		if (element !== preview /*&& !!oldST == !!element.sharedText*/) {
			element.contentsContainer().innerHTML = preview.contentsContainer().innerHTML;
		}
		if (undoable) {
			var newOuter = element.outerHTML;
			if (window.NBU2) NBU2.RegisterAction(()=>(element.outerHTML=oldOuter), ()=>(element.outerHTML=newOuter));
		}
		if (sim.stackOf(element))
			sim.stackOf(element).refreshAddColorStage();
	}
	function copy_textproperties_to_element(element,undoable)
	{
		
		var oldOuter = element.outerHTML;
		'bold italic underline outline shadow condense extend group'.split(' ').forEach((f)=>{
			element.classList.toggle(f, textinfo.qs('button-part[name='+f+' i]').hilite);
			//console.log(f, textinfo.qs('button-part[name='+f+' i]').hilite, element.className);
		});
		element.textStyle = 'bold italic underline outline shadow condense extend group'.split(' ')
		.filter((f)=>textinfo.qs('button-part[name='+f+' i]').hilite)
		.join(',');
		element.textFont = textinfo.qs('[name=textfont]').selectedText;
		element.textSize = textinfo.qs('[name=textsize]').contents;
		element.textAlign = 'left center right'.split(' ').find((f)=>textinfo.qs('[name='+f+' i]').hilite) || 'left';	
		//element.font = textinfo.qs('[name=Font]').selectedText||'';
		if (undoable) {
			var newOuter = element.outerHTML;
			if (window.NBU2) NBU2.RegisterAction(()=>(element.outerHTML=oldOuter), ()=>(element.outerHTML=newOuter));
		}
		console.log(element);
	}
	function launchtextproperties(element, callback)
	{
		var preview = textinfo.qs('#preview');
		preview.textFont = element.textFont;
		preview.textSize = element.textSize;
		preview.textStyle = element.textStyle;
		preview.textAlign = element.textAlign;
		preview.textHeight = element.textHeight;
		textinfo.target_element = element;
		textinfo.callback = callback;
		'bold italic underline outline shadow condense extend group'.split(' ').forEach(	
			(f)=>textinfo.qs('[name="'+f+'" i]').hilite = element.classList.contains(f));
		textinfo.qs('[name='+(element.textAlign || 'left')+' i]').hilite = true;
		textinfo.qs('[name=textfont]').selectedText = element.textFont;
		textinfo.qs('[name=textheight]').contents = element.textHeight;
		textinfo.qs('[name=textsize]').contents = element.textSize;
		textinfo.qs('[name=textsizepicker]').selectedText = element.textSize;
		textinfo.qs('[name=\"' + (element.textAlign || 'left') + '\" i]').hilite = true;
		textinfo.visible = true;
	}
	
	function launchiconpicker(target)
	{
		var somebodysartbits = []; 		
		var builtins = [1,2,128,129,766,902,1000,1001,1002,1003,1004,1005,1006,1007,1008,1009,1011,1012,1013,1014,1015,1016,1017,1018,1019,1020,2002,2101,2102,2103,2104,2105,2106,2162,2181,2335,2478,2507,2730,2980,3071,3333,3358,3430,3584,3835,4263,4432,4895,5472,6043,6044,6179,6460,6491,6544,6560,6720,6724,7012,7142,7417,8323,8347,8348,8349,8350,8419,8538,8961,8964,8979,8980,9104,9120,9301,9761,10181,10610,10935,11045,11216,11260,11645,11714,12195,12411,12722,13149,13744,13745,14767,14953,15279,15420,15972,15993,16321,16344,16560,16692,16735,17169,17214,17264,17343,17357,17481,17779,17838,17890,17896,17937,18222,18223,18607,18814,19162,19381,19638,19678,20098,20186,20689,20965,21060,21209,21437,21449,21573,21574,21575,21576,21700,21711,21847,22308,22855,22978,23078,23613,23717,23718,24081,24317,24694,24753,24830,25002,25309,26020,26425,26635,26665,26865,26884,27009,27056,27328,27774,27969,28022,28023,28024,28654,28810,28811,29019,29114,29484,29589,29903,30557,30696,31685,31885,32462,32488,32650,32670,-16524,-16523,-16522,-16492,-16491,-16490,-16489,-16488,-16487,-16480,-16412,-6079];
		function htmliconarray(ids)
		{
			return ids.map((id)=>`<button-part family=icon style='font-size: 32px;' id="${id}" icon="${id}" onclick="this.closest('modal-dialog').qs('#icon_to_use').contents = this.icon;"></button-part>`).join('')
		}
		if (!iconpicker.loaded_icons) iconpicker.qs('field-part').innerHTML = iconpicker.loaded_icons = '<span></span>' + htmliconarray(builtins.concat(somebodysartbits));
		iconpicker.qs('field-part span').innerHTML = htmliconarray(Object.keys(sim.stackOf(target).localICONs).filter((k)=>(k===String(parseInt(k)))));
		iconpicker.qs('#icon_to_use').contents = target.icon || '';
		iconpicker.target_element = target;
		
		var iel = Array.from(iconpicker.qsa('button-part[icon]')).find((b)=>b.icon==target.icon);
		(iel || iconpicker.qs('button-part[name=None]')).hilite = true;	
		iconpicker.qs('button-part[name=None]').hilite = (target.icon==0);
		iconpicker.visible = true;
		if (iel) iel.scrollIntoView();
	}
</script>



<style>
	
	#floatmenu {
		position: relative;
		touch-action: none;
		xfont-size: 0.9em;
		margin-left: var(--layout-padding-left);
	}
	#floatmenu:not(.leaveclosed):active, #floatmenu.leaveopen {
	}
	#floatmenu:not(.leaveclosed):active:before, #floatmenu.leaveopen:before {
		position: absolute; left: -70px; width: 70px; top: 0px; bottom: 0px; content: ""; xbackground: #8888; border-radius: 5em 0 0 0;
	}
	#floatmenu > div {
		max-height: 0px; height: auto; box-sizing: border-box; position: relative;
		position: absolute; right: 0px; top: calc(100% - 2px); 
		white-space: nowrap; overflow-y: auto; visibility: hidden;
		padding: 0px 4px; 
		border-radius: 4px 2px 2px 4px; opacity: 0;
		transition: max-height 0.1s, border-color 0.25s, visibility 0.25s 0s, opacity 0.1s;
		border: thin solid transparent; background: white; pointer-events: none; border-bottom: none;
		-webkit-user-select: none;
		user-select: none;
		xbackground: #F8F8F8;
		color: #222;
		max-width: 90vw; word-break: break-word;
	}
	#floatmenu:not(.leaveclosed):active > div, #floatmenu:not(.leaveclosed) > div:hover, #floatmenu.leaveopen > div {
		transition: max-height 0.05s;
		max-height: calc(95vh - 3em); 
		max-height: calc(95dvh - 3em); 
		xmin-height: calc(95dvh - 3em); 
		xmax-height: initial;
		visibility: visible; opacity: 1;
		border-color: gray; 
		box-shadow: 0px 0px 6px #bbb;
		pointer-events: auto;
		z-index: 99;
	}
	#floatmenu > #trigger {
		border: 1.5px solid transparent; 
		border-radius: 0.5em;
		xtransition: border 0.25s;
		animation: border-shake 1s infinite;
		transition: background 0.5s;
	}
	@keyframes border-shake {
		0%  { border-color: transparent; }
	}
	#floatmenu:not(.leaveclosed):active > #trigger,  #floatmenu.leaveopen > #trigger {
		xborder-radius: 8px 8px 0px 8px; 
		border-bottom-color: transparent !important;
		xbox-shadow: 0px -1px 1px #bbb;
		xbox-shadow: 1px -0.5px 1px #bbb, -1px -0.5px 1px #bbb;
	}
	#floatmenu.leaveopen > #trigger {
		background: url(ui-icons/gray.png);
		background-size: 32px 32px;
		xtransition: background 0.5s;
		xborder-color: gray;
	}
	#floatmenu > div .item {
		margin: 0px;
		padding: 6px 10px 6px 10px;
		font: 1em system-ui;
		display: flex;
		background: inherit;
	}
	#floatmenu .item[data-md-id], #floatmenu .item[data-user], #floatmenu .item[data-path] {
		font: 1em system-ui;
	}
	#floatmenu .item.hascheck:before {
		content: "✓\A0";
		font-weight: bold;
		color: transparent;
	}
	#floatmenu .item.hascheck.checked:before {
		color: inherit;
	}
	#floatmenu .item:not(.nohover):hover {
		background: highlight;
		xcolor: white;
		border-radius: 2px;
	}
	#floatmenu .item:not(.nohover):active:hover {
		outline: medium solid #8888;
	}
	#floatmenu .item > label {
		flex: 1; xpadding: -6px;
	}
	#floatmenu > div > div:nth-of-type(1) {
		border-radius: 5px 2px 2px 2px;
	}
	#floatmenu .userbubble {
		border: 1px dotted #BBB; margin: -1px; padding: 2px 8px; background: #DDE4; border-radius: 2px 0.5em 2px 2px ;
	}
	
	body:not(.loggedin) #floatmenu #publicstacklisttoggle { display: none; }
	body.hidepublicstacklist.loggedin #floatmenu #publicstacklist { xdisplay: none; height: 0px; overflow: hidden; visibility: hidden; pointer-events: none; }
	#floatmenu #publicstacklisttoggle:before { content: "▼"; color: currentColor; }
	body.hidepublicstacklist #floatmenu #publicstacklisttoggle:before { transform: rotate(-90deg); }
	
	body:not(.loggedin) #floatmenu #accountstacklisttoggle { display: none; }
	body.hideaccountstacklist.loggedin #floatmenu #accountstacklist { xdisplay: none; height: 0px; margin: 0px; padding: 0px; overflow: hidden; visibility: hidden; pointer-events: none; }
	#floatmenu #accountstacklisttoggle:before { content: "▼"; color: currentColor; }
	body.hideaccountstacklist #floatmenu #accountstacklisttoggle:before { transform: rotate(-90deg); }
	
	body.fullscreen #layout { width: 100%; }
	body.fullscreen #stackcontainer { box-sizing: border-box; xheight: 100vh !important; xoutline: thick solid gray; --override-xy-zero: 0px; padding: 3px 0px 0px 1px; }
	body.fullscreen #stackcontainer {
		background: url(ui-icons/watch.png) no-repeat ;
		background-position: 50vw 50vh;
	}
	body:not(.fullscreen) #stackcontainer { padding: var(--layout-padding-top) 0px 0px calc(var(--layout-padding-left) * 2); }
	body.fullscreen #layout > tbody > tr > td:not(#stackcontainertd) { display: none; }
	body.fullscreen #referencecontainer { max-height: 0px; overflow: hidden; }
	xbody.fullscreen #copyright { display: none; }
	 a { color: inherit; }
	
	x#stackcontainer stack-part > card-part:after { content: " "; font-size: 1px; }	 /* avoids that 8px border below the card if there's nothing inside. */

	body.fullscreen #stackcontainer > modal-dialog:not(.current) { display: none; }
	
	body #stackcontainer > modal-dialog { position: absolute; }
	
	#reference { width: 100%; }
	#reference tr { font: 0.8em Courier; -webkit-user-select: text; user-select: auto; }
	#reference tr > td { vertical-align: top; padding: 0.25em 6px; word-break: break-word; }
	#reference tr.bold { font-weight: bold; color: #444; }
	#reference tr.bold > td { padding-top: 1em; vertical-align: bottom; }
	#reference tr:not(.bold):not(.notgray):nth-of-type(2n) { background: #DDD3; }
	
	body #reference tr/*:not(.bold)*/ td:nth-of-type(2) { font-family: Menlo; font-size: 11px; color: #88A; }
	body:not(.javascript) #reference tr/*:not(.bold)*/ td:nth-of-type(2) { opacity: 0; font-size: 0; }

	#wildcard_script 
		{ white-space: pre-wrap; tab-size: 2; xborder: thin solid gray; margin: 0px; padding: 0px; }

	#scripteditor field-part > div { padding: 0px 4px; line-height: 1.2; }

	field-part.script-indent > div { padding: 0px var(--layout-padding-left); line-height: 1.2; }
	field-part.script-indent > div:first-of-type { margin-top: 2px; }
	#wildcard_script > div:nth-of-type(2n+1) { background: #DDD3; }
	field-part.script-indent > div[data-prefix]:before { content: attr(data-prefix); float: left;  }
	field-part.script-indent > div { transition: text-decoration-color 0.5s ease-in 1.5s; }
	
	field-part.script-indent > div[data-suffix]:not([data-suffix=""]) { text-decoration: underline; text-decoration-color: black; }

	.script-indent > div > * { white-space: initial; }
	
	body #messagebox.hide-selection ::selection { background: transparent; }
	body #messagebox.hide-selection { caret-color: initial; }

	/*body:not(.javascript) #messagebox_translation, body:not(.javascript) x#messagebox_error { display: none; }*/
	#messagebox_error { transition: opacity 0.25s; float: left; font: monospace; color: gray; }
	#messagebox_error:empty { opacity: 0; }
	body:not(.messagebox-lowerarea-visible) #messagebox_lowerarea { display: none; }
	#messagebox_lowerarea { min-height: 1em; max-width: 500px; }
	body #messagebox_send { position: absolute; right: 4px; bottom: 4px; z-index: 1; transition: opacity 0.25s; }
	body:not(.messagebox-lowerarea-visible) #messagebox_send { opacity: 0; pointer-events: none; }
	#messagebox_send { display: none; }
	body:not(.javascript) #messagebox_translation { display: none; }
	
	body:not(.show-reference) #reference { display: none; }
	body:not(.javascript) #reference .splitheader { display: none; }
	body:not(.javascript) #reference .splitheader td:first-of-type { width: 100%; background: red; }
	
	#messagetr { font: monospace; xoutline: thin solid gray; }
	#layout > tbody > tr > td 
		{ xoutline: 0.5px dotted black; xpadding: var(--layout-padding-top) min(10px, 0.5vw) min(3px, 0.5vh) var(--layout-padding-left); }
	
	body:not(.messagebox-visible) #messagetr modal-dialog
		{ display: none; }
	
	#toolbar { display: flex; align-items: stretch; }
	
	#toolbarvert { display:flex; flex-direction: column; align-items: stretch; 
		position: sticky; top: 2px; }
	
	#toolbar > button-part + button-part , #toolbar div.intertoolbar + button-part 
		{ margin-left: -1px; border-left-color: #DDD; }
	#toolbar > button-part:not(button-part + button-part):not(div.intertoolbar + button-part):not(#partinfo):not(#trigger)
		{ border-radius: 3px 0px 3px 3px; }
	
	#toolbarvert > button-part + button-part 
		{ margin-top: -1px; border-top-color: #DDD; }
	#toolbarvert > button-part:not(button-part + button-part)
		{ border-radius: 3px 3px 3px 0px ; }
	
	#toolbarvert > button-part + button-part 
		{ margin-top: -1px; }

	#toolbarhelp button-part { box-shadow: none; 0px 1px  1px #bbb, 1px 0px 1px #bbb; }
	#toolbar > button-part { box-shadow: none; 0px 1px  1px #bbb, 1px 0px 1px #bbb; }
	#toolbarvert  button-part { box-shadow: none;1px 1px 2px #DDD; }
	
	/* ⌘ ⇧ ⌥ ⌃ */
	.item[data-shortcut]:after, .item [data-shortcut]:after  { content: "⌘" attr(data-shortcut); color: gray; font: caption; font-weight: bold; margin-left: 1em; visibility: hidden; }
	.item[data-shortcut]:hover:after, .item:hover [data-shortcut]:after { visibility: visible; }
	
	#editmenustub { position: sticky; top: 0px; background: inherit; display: flex; padding: 0.5em 4px 4px 4px; border-bottom: thin dotted gray; margin: -4px -4px 4px -4px; }
	@media (pointer: fine) {
		#editmenustub { display: none; }
		#floatmenu > div { padding-top: 0.5em; }
	}
	x#endstub { position: sticky; bottom: 0px; border-top: 1px dotted gray; padding: 0px; }
</style>



<div id=innerbody style="display: flex; flex-direction: column; min-height: 100%; height: auto;">

<table cellspacing=0 id=layout style="table-layout: fixed; xoutline: thin dotted red; outline-offset: -1px;">
	<tr id=toolbartr><td id=toolbarhelp class=fingersize colspan=2 style="text-align: center; max-width: 100vw; box-sizing: border-box; padding-top: 2px;">
		<div id=toolbar onpointerdown="if (event.target.family=='tool') event.target.click(); event.preventDefault();" onclick='
			if (event.target.family != "tool" || event.target.name == sim.stack.tool) return; 
			if (event.target.classList.contains("shape")) 
				this.childNodes.forEach((n)=>{ if (n.classList && n.classList.contains("shape")) n.classList.toggle("recent", n===event.target); })
			sim.stack.tool = event.target.name; document.activeElement.blur(); body.focus(); 
			event.preventDefault();
			'>

		<button-part id=partinfo showName=false type=oval icon=ui-icons/sherlock.png style="xmargin-right: calc(var(--layout-padding-left) * 4); display: initial;"
			onclick="launch_info_dialog((!body.classList.contains('option') && (sim.stack.selectedPart || sim.stack.currentLayer)) || sim.stack, body.classList.contains('shift'));"></button-part>
			
		<span style="padding: var(--layout-padding-left);"></span>
		<button-part name="Browse" showName=false icon=ui-icons/hand type=rectangle hilite=true family=tool
			ondblclick="floatmenu.qs('#show-palette').click();"></button-part>
		<button-part name="Button" showName=false icon=ui-icons/button type=rectangle family=tool
			ondblclick="toolbarvert.qs('button-part[name=&quot;New Button&quot;]').click();"></button-part>
		<button-part name="Field" showName=false icon=ui-icons/field type=rectangle family=tool
			ondblclick="toolbarvert.qs('button-part[name=&quot;New Field&quot;]').click();"></button-part>
		<span style="padding: var(--layout-padding-left);"></span>
		<button-part name="Select" showName=false icon=ui-icons/select type=rectangle family=tool ondblclick="sim.stack.clickDrag(0,0,sim.stack.width-1,sim.stack.height-1);"></button-part>
		<button-part name="Pencil" showName=false icon=ui-icons/pencil type=rectangle family=tool></button-part>
		
		<div id=patternz class=intertoolbar style="--pattern-x: 2; --pattern-y: 1;">
			<div class=fingersize onpointerdown="
				var bcr=this.getBoundingClientRect(); 
				var loc = [Math.floor((event.clientX-bcr.x)*4/bcr.width), Math.floor((event.clientY-bcr.y)*10/bcr.height)];
				if (loc[0] >= 0 && loc[0] <= 3 && loc[1] >= 0 && loc[1] <= 9) 
					XTalk.Do('set the pattern to ' + (Math.floor((event.clientX-bcr.x)*4/bcr.width) * 10 + Math.floor((event.clientY-bcr.y)*10/bcr.height) + 1));
				body.classList.remove('showpatterns');
				clearTimeout(patternz.to); patternz.to = setTimeout(()=>patternz.style.display = 'none', 250);
				event.preventDefault();
				" onmouseleave="this.style.display = '';"></div>
			<script>
				function patternz_show() { 
					clearTimeout(patternz.to); patternz.to = setTimeout(()=>{ patternz.style.display = ''; body.classList.toggle('showpatterns'); }, 250);
				}
				function patternz_hide() {
					clearTimeout(patternz.to); body.classList.remove('showpatterns');
				}
			</script>
		</div>
		<button-part name="Brush" showName=false icon=ui-icons/brush type=rectangle family=tool onpointerdown="patternz_show();" onmouseleave="patternz_hide();"></button-part>
		<button-part name="Bucket" showName=false icon=ui-icons/bucket type=rectangle family=tool onpointerdown="patternz_show();" onmouseleave="patternz_hide();"></button-part>
		
		<button-part name="Eraser" showName=false icon=ui-icons/eraser type=rectangle family=tool></button-part>

		<div id=linesizes class=intertoolbar>
			<div class=fingersize onpointerdown="
				var bcr=this.getBoundingClientRect(); 
				body.classList.remove('showlinesizes');
				clearTimeout(linesizes.to); linesizes.to = setTimeout(()=>linesizes.style.display = 'none', 100); 
				event.preventDefault();
				" onmouseleave="this.style.display = '';">
					<button-part topleft=0,10 width=32 height=20 onpointerdown="XTalk.Do('set the lineSize to 1');"></button-part>
					<button-part topleft=0,32 width=32 height=20 onpointerdown="XTalk.Do('set the lineSize to 2');"></button-part>
					<button-part topleft=0,56 width=32 height=20 onpointerdown="XTalk.Do('set the lineSize to 3');"></button-part>
					<button-part topleft=0,78 width=32 height=20 onpointerdown="XTalk.Do('set the lineSize to 4');"></button-part>
					<button-part topleft=0,100 width=32 height=22 onpointerdown="XTalk.Do('set the lineSize to 6');"></button-part>
					<button-part topleft=0,122 width=32 height=26 onpointerdown="XTalk.Do('set the lineSize to 8');"></button-part>

					<button-part topleft=32,10 width=30 height=20 onpointerdown="XTalk.Do('choose tool 9');"></button-part>
					<button-part topleft=32,32 width=30 height=20 onpointerdown="XTalk.Do('choose tool 11');"></button-part>
					<button-part topleft=32,56 width=30 height=20 onpointerdown="XTalk.Do('choose tool 12');"></button-part>
					<button-part topleft=32,78 width=30 height=20 onpointerdown="XTalk.Do('choose tool 14');"></button-part>
					<button-part topleft=32,100 width=30 height=22 onpointerdown="XTalk.Do('choose tool 15');"></button-part>
					<button-part topleft=32,122 width=30 height=26 onpointerdown="XTalk.Do('choose tool 18');"></button-part>
				</div>
			<script>
				function linesizes_show() { 
					clearTimeout(linesizes.to); linesizes.to = setTimeout(()=>{ linesizes.style.display = ''; body.classList.toggle('showlinesizes'); }, 250);
				}
				function linesizes_hide() {
					clearTimeout(linesizes.to); body.classList.remove('showlinesizes'); 
				}
			</script>
		</div>
		<button-part name="Line"  class='shape recent' showName=false icon=ui-icons/line type=rectangle family=tool 
			onpointerdown="linesizes_show();" onmouseleave="linesizes_hide();"></button-part>
		<button-part name="Rectangle" class='shape' showName=false icon=ui-icons/rectangle type=rectangle family=tool
			onpointerdown="if (getComputedStyle(this).getPropertyValue('--collapsed-shapes')) linesizes_show();" onmouseleave="linesizes_hide();"></button-part>
		<button-part name="Round Rect"  class='shape' showName=false icon=ui-icons/roundrect type=rectangle family=tool 
			onpointerdown="if (getComputedStyle(this).getPropertyValue('--collapsed-shapes')) linesizes_show();" onmouseleave="linesizes_hide();"></button-part>
		<button-part name="Oval"  class='shape' showName=false icon=ui-icons/oval type=rectangle family=tool 
			onpointerdown="if (getComputedStyle(this).getPropertyValue('--collapsed-shapes')) linesizes_show();" onmouseleave="linesizes_hide();"></button-part>
		<button-part name="Curve"  class='shape' showName=false icon=ui-icons/curve type=rectangle family=tool 
			onpointerdown="if (getComputedStyle(this).getPropertyValue('--collapsed-shapes')) linesizes_show();" onmouseleave="linesizes_hide();"></button-part>
		<button-part name="Polygon"  class='shape' showName=false icon=ui-icons/polygon type=rectangle family=tool 
			onpointerdown="if (getComputedStyle(this).getPropertyValue('--collapsed-shapes')) linesizes_show();" onmouseleave="linesizes_hide();"></button-part>
			
		<button-part name="Text" showName=false icon=ui-icons/text type=rectangle family=tool 
			ondblclick="
				var f = sim.card.shadowRoot.qs('.text-tool-overlay field-part');
				if (f) f.dontBlur = true;
				launchtextproperties(painttext_proxy, ()=>{ 
					if (!f) return;
					//console.log(painttext_proxy);
					['textfont','textsize','textstyle','textalign','textheight'].forEach((a)=>f[a]=painttext_proxy[a]);
					f.focus();
				}); 
				if (f) f.dontBlur = false;"></button-part>
		<field-part locktext=true id=painttext_proxy style="visibility: hidden; pointer-events: none; position: absolute;"></field-part>
		
		<button-part name="Lasso" showName=false icon=ui-icons/lasso type=rectangle family=tool style='display:none;'></button-part>
		<button-part name="Spray" showName=false icon=ui-icons/spray type=rectangle family=tool style='display:none;'></button-part>
		<button-part name="Regular Polygon" showName=false icon=ui-icons/regularpolygon type=rectangle family=tool style='display:none;'></button-part>
		
		<style>
			
			.intertoolbar { align-self: stretch; position: relative; z-index: 2; filter: var(--dark-mode-inversion); }
			.intertoolbar > div { display: none; position:absolute; top: calc(100% - 2px); background: white; border: 1px solid black; box-shadow: 0px 0px 3px gray; }
			body.showpatterns #patternz > div, body.showlinesizes #linesizes > div, .intertoolbar:hover > div { display: initial; }
			
			#patternz > div { 
				background: url(ui-icons/patterns.png) 0px 0px no-repeat, white;
				background-size: 71px 129px;
				width: 71px; height: 129px; left: -3px; 
			}
			#patternz > div:after {
				position:absolute; left: -5px; top: -5px; right: -5px; bottom: -5px; content: ""; pointer-events: none; z-index: 1;
				background: url(ui-icons/patternsHole.png) calc(calc(var(--pattern-x) * 18px) - 0px) calc(calc(var(--pattern-y) * 13px) - 0px) no-repeat;
				background-size: 27px 22px;
				transition: background 0.1s ease-out;
			}
			#linesizes > div { background: url(ui-icons/lineSize.png), white; background-size: 100% 100%; width: 32px; height: 155px; left: 0px; }
			
			/* to show them all, which is good, also need to revert to just-linesize palette, and to move that palette around to the current tool...a bit extra */
			@media (max-width: 450px)
			{
				/* hide the not recent shape */
				#toolbar { --collapsed-shapes: true; }
				#toolbar button-part.shape:not([hilite="true"]):not(.recent) { display: none; }
				
				/* but default to the line */
				#toolbar button-part[name="Rectangle"]:not([hilite="true"]):not(.recent)
					+ button-part[name="Round Rect"]:not([hilite="true"]):not(.recent) 
					+ button-part[name="Oval"]:not([hilite="true"]):not(.recent) 
					+ button-part[name="Curve"]:not([hilite="true"]):not(.recent) 
					+ button-part[name="Polygon"]:not([hilite="true"]):not(.recent)
					+ button-part[name="Line"]:not([hilite="true"]):not(.recent) { display: initial }
				#linesizes > div { background: url(ui-icons/lineSizeShapes.png); background-size: 100% 100%; width: 64px; height: 155px; left: -16px; }
			}
			
		</style>
			

			<div id=floatmenuexpander class=flex-expand style='display:initial'></div>
		
		<span id=floatmenu class=leaveclosed
			onclick="
				if (event.target === this.qs('#trigger')) return;
				//console.log('onclick ' + floatmenu.className);
				if (is_big_mouse_window()) return;
				setTimeout(()=>{
				floatmenu.classList.remove('leaveopen'); 
				floatmenu.classList.add('leaveclosed');
				floatmenu.qs('div').style.display='none';	/* ios just won't let go of the :active yikes */
				}, 50);
				"
			onpointerdown="
				if (event.target !== this.qs('#trigger')) return;
				//console.log('onpointerdown ' + floatmenu.className);
				if (floatmenu.classList.contains('leaveopen')) { 
					//if (is_big_mouse_window()) return;
					floatmenu.classList.remove('leaveopen'); 
					floatmenu.classList.add('leaveclosed'); 
					floatmenu.qs('div').style.display='none';
					event.preventDefault();
				} else { 
					floatmenu.classList.add('leaveopen');
					floatmenu.classList.remove('leaveclosed'); 
					floatmenu.qs('div').style.display='';
				}
				event.preventDefault();
				localStorageSetItem('shownfloatmenu', 'true'); 
				"
			onmouseleave="if (event.target === this) { 
				if (is_big_mouse_window()) return;
				floatmenu.classList.add('leaveclosed'); 
				floatmenu.classList.remove('leaveopen'); 
				floatmenu.qs('div').style.display='';
				}"> 
			<div onmousedown="event.preventDefault();">

				<div id=editmenustub>
					
					<div class='item flex-expand' onclick="document_exec_command_fix('undo');">Undo</div>
					<div class='item flex-expand' style="text-align:right;" onclick="document_exec_command_fix('redo');">Redo</div>
					<!--div class='item flex-expand' style="text-align:right;" onclick="if (!sim.stack.card_key_down({ type: 'keydown', key: 'Backspace' })) document.execCommand('Delete');">⌫</div!-->
					<div class='item flex-expand' onclick="document_exec_command_fix('cut');">Cut</div>
					<div class='item flex-expand' onclick="document_exec_command_fix('copy');">Copy</div>
					<div class='item flex-expand' onclick="document_exec_command_fix('paste');">Paste</div>
					<!--div class='item flex-expand' onclick="document.execCommand('cut');">Cut</div>
					<div class='item flex-expand' onclick="document.execCommand('copy');">Copy</div>
					<div class='item flex-expand' onclick="document.execCommand('paste');">Paste</div!-->
					
					<!--div class='item' onclick="location.reload();">↻</div!-->
				</div>

				<div id=fullscreen class='item hascheck' style='display:none;' onclick="if (body.classList.contains('fullscreen')) leaveFullscreen(); else launchFullscreen(); ">Full Screen Mode</div>

				<div id=stackgroup style="border-bottom: thin dotted gray; padding-bottom: 0.5em; margin-bottom: 0.5em;" onclick="
					var target = event.target.closest('#floatmenu .item');
					if (!target) return;
					var id = target.dataset.mdId;
					if (id) 
						top_stackList(stackcontainer.qs(`modal-dialog[id=&quot;${id}&quot;]`),true);
					else if (target.dataset.user || target.dataset.path)
						download_user_stack(target.dataset.user, target.dataset.path);
					/*if (!(matchMedia('pointer:coarse').matches || window.innerWidth < 790)) 
					{ event.stopPropagation(); event.preventDefault(); }*/
				">
						
					<div id=stacklist>
						<div class='item flex-row'><font color=gray class=flex-expand>Loading...</font><button onpointerdown="location.reload();">retry</button></div>
					</div>
					
					<div id=accountstacklisttoggle class='item hascheck' onclick="body.classList.toggle('hideaccountstacklist'); event.stopPropagation();">&nbsp;&nbsp;My Stacks</div>
					<div id=accountstacklist ></div>

					<div id=publicstacklisttoggle class='item hascheck' onclick="body.classList.toggle('hidepublicstacklist'); event.stopPropagation();">&nbsp;&nbsp;More Stacks</div>
					<div id=publicstacklist></div>
										
				</div>
				
				<div class='item hascheck checked' data-shortcut="M" id=messagebox-visible onclick="messagebox_setvisible(this.classList.toggle('checked'));">Message Box</div>
				
				<div class='item hascheck' id=show-palette data-shortcut="P" onclick="palette.visible = this.classList.toggle('checked'); ">Palette</div>
				
				<div class='item hascheck' id=xtalk-debug onclick="
					var opt = body.classList.contains('option'), ch = opt || !this.classList.contains('checked'); 
					this.classList.toggle('checked', ch);
					body.classList.toggle('xtalk-debug', (XTalk.DebugScriptErrors=ch)); 
					body.classList.toggle('messagebox-lowerarea-visible',ch);
					body.classList.toggle('javascript', ch && opt);
				">Debugger</div>
				
				<div class='item flex-row' onclick="launch_info_dialog(sim.stack);"><div class=flex-expand data-shortcut=⌥⇧S style="text-align: left;">Stack Info...</div>  <img src="ui-icons/sherlock.png" style="height: 1em;"> </div>
				
				<div id=newstack class='item' data-shortcut=N onclick="
					var n = 1, offset = 0, last, name = 'Untitled';
					while (last=stackcontainer.qs('modal-dialog[name=&quot;'+name+'&quot;]')) { name = 'Untitled ' + ++n; offset = last.x + 20; }
					if (name) create_new_stack(name,(md,stack)=>{ 
						md.dataset.localmtime = Date.now(); 
						//md.y = offset; 
						if (sim.stack && matchMedia('(pointer:fine)').matches) {
							md.x = sim.stack.parentNode.x + 12; 
							md.y = sim.stack.parentNode.y + 16; 
							}
						stack.card = stack.card;  
						//launch_info_dialog(stack, false, ()=>{ md.dispatchEvent(new Event('closebox', { bubbles: true })); }); 
					});
				">New Stack...</div>
				<div class=item id=importstack onclick="showuploadmodal();">Import Stack... </div>
				<div class=item id=exportstack onclick="exportstack();" style="padding-bottom: 0.5em; border-bottom: thin dotted gray; margin-bottom: 1em;">Export HTML...</div>
				
				<div id=endstub style="xborder-top: thin dotted gray; margin: -4px; padding: 4px; xbox-shadow: 0px 1px 3px gray; margin-bottom: 2em; xposition: sticky; xbottom: 0px; background: inherit;">
					
					<div class='flex-row' style="">
						
						<div class='item' id=login_menu_item onclick="showloginmodal();"><div class=flex-expand>
							<span class=userbubble>Sign In...</span>
						</div></div>
						
						<div class='item' id=logout_menu_item onclick="
							var user = getCookie('user'); 
							hit_file_system({ request: 'logout' }, ()=>{ 
								console.log('Goodbye, '+user); 
								stackcontainer.qsa('modal-dialog[data-user=&quot;'+user+'&quot;]').forEach((md)=>md.dispatchEvent(new Event('closebox', { bubbles: true }))); 
								delete user_file_lists[user]; 
								shuffle_stackList(); 
								localStorageSetItem('wildcard_script',null); location.reload();	
							});">Sign Out...</div>
						<div class=' flex-expand' ></div>
						<div class='item ' onclick="location.reload();">↻</div>
						<div class='item' onclick="if (true || confirm('Immediately delete all cookies?')) localStorageClear(); return false;" style="color:#F448;text-decoration:line-through; text-decoration-thickness: 2px; xtext-decoration-style: wavy; xline-height: 1em; font-family: monospace;"><span style="display:inline-block;">&nbsp;🍪&nbsp;</span></div>
						<div class='item'> <a href="#" style="color: inherit; filter: none; text-decoration: none; text-shadow: 0px 0px 1px blue;" onclick="
							var a=Math.ceil(Math.random()*10), b=Math.ceil(Math.random()*10); 
							/*if (prompt('Email me: '+a+' + '+b+' =')==a+b)*/ location.href=(this.href=atob('bWFpbHRvOmRhbkBoeXBlcnZhcmlldHkuY29t'));
							/*event.preventDefault();*/">@</a></div>
					</div>
					
				</div>
							
				
				<div style="font: 1em system-ui; position: sticky; bottom: 0px; margin-left: calc(100% - 4em); background: #FFF8; border-radius: 4px 4px 0px 0px; border-bottom: none; cursor: default; border-radius: 1em; color: gray; -webkit-backdrop-filter: blur(1px);">
					<span class='fingersize simple' onclick="this.parentNode.parentNode.scrollTo({left:0,top:0,behavior:'smooth'}); event.preventDefault(); event.stopPropagation();">↑</span> 
					<span class='fingersize simple' onclick="this.parentNode.parentNode.scrollTo({left:0,top:1000000,behavior:'smooth'}); event.preventDefault(); event.stopPropagation();">↓</span> 
				</div>
				
			</div>
			
			<button-part id=trigger type=transparent name='🌐☰' autohilite=false style="flex-shrink: 1;"></button-part>
		</span>
			
			<script>
				body.addEventListener('pointerdown',(event)=>{
					//console.log(event.target);
					if (event.target.matches('modal-dialog, #floatmenu, #floatmenu *')) return;
					if (floatmenu.classList.contains('leaveopen') 
						&& (!is_big_mouse_window() || event.target.matches('#toolbar, #stackcontainer, td, #bodyflex') || stack_intersects_floatmenu(event.target))) {
						//console.log('closing it')
						floatmenu.qs('div').style.display='none';
						floatmenu.classList.remove('leaveopen');
						floatmenu.classList.add('leaveclosed');
						//if (event.target.matches('#floatmenu #trigger')) event.stopPropagation();
					}
				},true);
				function stack_intersects_floatmenu(target)
				{
					var stack = target.closest && target.closest('stack-part');
					return (stack && stack.getBoundingClientRect().right > floatmenu.qs(':scope > div').getBoundingClientRect().left);
				}
				if (is_big_mouse_window() && !localStorageGetItem('shownfloatmenu'))
					{ setTimeout(()=>floatmenu.classList.add('leaveopen'), 250); }
				function is_big_mouse_window()
					{ return !(matchMedia('pointer:coarse').matches || window.innerWidth < 790); }
				function exportstack() {
					var a = document.createElement('a'); 
					a.download = sim.stack.name +'.stack.html'; 
					a.href='data:text/html;charset=utf-8,'+encodeURIComponent('<!DOCTYPE html><meta charset=UTF-8><base href="https://HCSimulator.com/"><script src=script.js><'+ '/script>\n'+sim.stack.savableHTML); 
					a.click();
				}
				function document_exec_command_fix(cmd) 
				{
					if (document.queryCommandEnabled(cmd) && document.execCommand(cmd)) return;
					var oldactive = document.activeElement || body;
					body_focus_proxy.value = ' '; body_focus_proxy.select(); body_focus_proxy.focus();  
					console.log(document.execCommand(cmd));
					body_focus_proxy.blur();
					oldactive.focus();
				}
			</script>

		</div>
	</td></tr>
</table>
	
<table cellspacing=0 id=layout style="table-layout: fixed; xoutline: thin dotted red; outline-offset: -1px;">
			
	<tr id=thirdtr><td xclass=fingersize id=toolbarvert_td style='vertical-align:top; padding-top: 0px;' width=1%>
		<div id=toolbarvert class=fingersize style="padding-top: calc(var(--layout-padding-top) * 1); xalign-items: flex-end; xwidth: 2em;">
			<button-part name="→" xicon=8979 xshowname=false type=rectangle onclick="XTalk.Do('go next');"></button-part>
			<button-part name="←" xicon=8964 xshowname=false  type=rectangle onclick="XTalk.Do('go prev');"></button-part>
			<button-part xname="|←" name="«" xicon="19381" xshowname=false type=rectangle onclick="XTalk.Do('go first');"></button-part>
			<button-part name="Go Back" icon=29114 showname=false type=rectangle onclick="XTalk.Do('go back');"></button-part>
			<span style="padding: var(--layout-padding-top);"></span>
			<button-part id=background-mode showName=false type=rectangle icon=29589 onclick="
				sim.stack.parentNode.enable_mutation_observer(false);
				sim.stack.clearUserSelections();
				this.hilite= !!sim.stack.classList.toggle('background-mode');
				sim.stack.parentNode.enable_mutation_observer(true);
				if (sim.stack.classList.contains('background-mode') && !sim.stack.background)
				alert('Current card has no background.');	// warning the user
			"></button-part>
			<button-part name="+" id=newcard xicon=card-new type=rectangle onclick="
				if (event.isTrusted && body.classList.contains('option')) {
					if (!confirm('Create a new background and new card in the stack?')) return;
					if (!sim.stack.classList.contains('background-mode')) body.qs('#background-mode').click();  
					var oldcard = sim.stack.card, newcard = sim.stack.newCard(true); 
					return;
				}
				if (sim.stack.classList.contains('background-mode')) body.qs('#background-mode').click();  
				var oldcard = sim.stack.card, newcard = sim.stack.newCard(); 
				"></button-part>
			<button-part name="+" id=newbackground type=rectangle onclick="
				if (!sim.stack.classList.contains('background-mode')) body.qs('#background-mode').click();  
				var oldcard = sim.stack.card, newcard = sim.stack.newCard(true); 
				" style="display: none;"></button-part>
			<button-part name="×" xicon=3358.png type=rectangle 
				onclick="if (confirm('Delete card &quot;' + sim.card.name + '&quot;?')) try { sim.stack.deleteCard(sim.card); } catch(e) { alert(e); }"></button-part>
			<span style="padding: var(--layout-padding-top);"></span>
			<button-part type=rectangle icon=ui-icons/button-new showname=false name="New Button" onclick="
				document.qs('#toolbar button-part[name=Button]').click();
				var target = buttonstart.content.cloneNode(true).firstElementChild, layer = sim.stack.currentLayer;
				target.id = layer.maxID + 1;
				layer.appendChild(sim.stack.selectedPart=target);
				if (window.NBU2 && event.isTrusted) NBU2.RegisterAction(()=>layer.removeChild(target),()=>layer.appendChild(sim.stack.selectedPart=target));
				"></button-part>
			<button-part type=rectangle icon=ui-icons/field-new showname=false name="New Field" onclick="
				document.qs('#toolbar button-part[name=Field]').click();
				var target = fieldstart.content.cloneNode(true).firstElementChild, layer = sim.stack.currentLayer;
				target.id = layer.maxID + 1;
				layer.appendChild(sim.stack.selectedPart=target);
				if (window.NBU2 && event.isTrusted) NBU2.RegisterAction(()=>layer.removeChild(target),()=>layer.appendChild(sim.stack.selectedPart=target));
				"></button-part>
		</div>

	</td><td id=stackcontainertd style="vertical-align: top; padding: 0px; position: relative;" width=99%>
		<div id=stackcontainer style="box-sizing: border-box; position: relative; overflow: hidden; z-index: 0;" onclick="/*if (event.target===this && body.classList.contains('fullscreen')) XTalk.Do('visual effect dissolve\ngo back', sim.stack);*/ /*this needs to be a gesture, not a tap*/"></div>
	</td></tr>

	
	<tr><td style='vertical-align:top; overflow: auto; padding: 0; padding-top: 0.5em;' colspan=2>
	</td></tr>
	
	<tr><td colspan=2>
	</td></tr>
	
</table>

<div id=bodyflex style="flex: 1;"></div>

<!--PALETTE !-->
<div id=palettetr style="position: sticky; xtop: 2px; bottom: 3px; height: 0px; xmargin-top: -50%; pointer-events: none; xpadding-bottom: 0.5em; margin-left: 4em; xoutline: thin solid red; z-index: 3;">
	
	<modal-dialog id=palette class='static nopadding dotted closebox ybottom' name="" x=0 y=0 xvisible=true style="--modal-dialog-titlebar-font:  0.5em system-ui; font-family: monospace; pointer-events: auto; width: 200px; --modal-dialog-titlebar-font: 0.5em system-ui; ">
		<div>
			<card-part name="Palette Card" style="border: none; padding: 0px; background-image: url(ui-icons/ukpalette2.png); background-size: 100% 100%; width: 222px; height: 38px;" script='
on refresh
put "id" && the short id of this card into fld 2 of the palette
put the number of this card && "/" && the number of cards into fld 3 of the palette
put the short name of this card into fld 1 of the palette
end refresh
'>
				<button-part topLeft=5,5 height=28 width=27 onclick="XTalk.Send(this,'mouseUp');" script="on mouseUp
if the shiftKey is up then go back else go forth
end mouseUp"></button-part>
				<button-part topLeft=38,5 height=28 width=27 onclick="XTalk.Send(this,'mouseUp');" script="on mouseUp
if the shiftKey is up then go prev card else go first card
end mouseUp"></button-part>
				
				<field-part topLeft=70,4 height=29 width=118 type=transparent textalign=center textFont=system-ui textsize=10 id=3 locktext=true  onclick="XTalk.Send(this,'mouseup');" script='on mouseUp
	if the shiftkey is not down then return
	ask "Rename" && the name of this card && "to:" with the short name of this card
	if the result is "Cancel" then return
	set the name of this card to it
	refresh
end mouseUp'></field-part>
				<field-part topLeft=70,17 height=16 width=115 type=transparent textalign=left textFont=system-ui textsize=10 locktext=true></field-part>
				<field-part topLeft=70,17 height=16 width=115 type=transparent textalign=right textFont=system-ui textsize=10 locktext=true
				onclick="XTalk.Send(this,'mouseup');" script='on mouseUp
	if the shiftkey is not down then return
	ask "Renumber card" && the number of this card && "to:" with the number of this card
	if the result is "Cancel" then return
	set the number of this card to it
	refresh
end mouseUp'></field-part>
				<button-part topLeft=190,5 height=28 width=27  onclick="XTalk.Send(this,'mouseUp');" script="on mouseUp
if the shiftkey is up then go next card else go last card
end mouseUp"></button-part>
			</card-part>
		</div>
	</modal-dialog>
	<script>
		palette.addEventListener('closebox', ()=>{ palette.visible=false; palette.x = 0; palette.y = 0; });
		palette.card = palette.background = palette.qs('card-part');
		palette.card.palette = palette;	// lol
		
		function create_palette(plte, name, point)
		{
			if (!plte)
				return "Couldn't create palette";
			var p = newpalette.content.cloneNode(true).qs('modal-dialog');
			palettetr.appendChild(p);
			p.qs('img').onload = ()=>{ };
			p.qs('img').src = plte.bitmap;
			p.addEventListener('closebox', ()=>{ p.parentNode.removeChild(p); });
			if (plte.showName)
				p.name = name;
			plte.buttons.forEach((b,i)=>{
				//console.log(b);
				var btn = document.createElement('button-part');
				p.appendChild(btn);
				btn.rect = [b.left-plte.left,b.top-plte.top,b.right-plte.left,b.bottom-plte.top];
				if (b.message)
					listen(btn, b.message);
				function listen(btn, m) {
					btn.addEventListener((plte.selection != -1) ? 'pointerdown' : 'click', 
						()=>{ if (plte.selection != -1) btn.hilite = true; XTalk.Do(m); });
					}
				if (plte.selection != -1)
					 { btn.family = 1; btn.hilite = (plte.selection == i+1); btn.autoHilite = false; }
			});
			p.visible = true;
			return "";
		}
	</script>
</div>

<template id=newpalette>
	<modal-dialog name="" class='static nopadding dotted ybottom closebox' x=0 y=0 visible=false style="--modal-dialog-titlebar-font: 0.5em system-ui;">
		<img src="" draggable=false>
	</modal-dialog>
</template>	

<div id=messageanchor></div>

<div id=messagetr style="z-index: 2; position: sticky; top: 2px; bottom: 2px; height: 0px; pointer-events: none; xoutline: thin solid gray; ">

<!--MESSAGE BOX !-->	
<modal-dialog id=messagebox class='static nopadding xframeless dotted closebox zoombox ybottom' name="" x=0 y=0 visible=true 
	style="--modal-dialog-titlebar-font:  0.5em system-ui; font-family: monospace; padding: 0 5%; pointer-events: auto;">
	<form onsubmit="messagebox_onsubmit(); return false;" 
		style="word-break: break-word; padding: 2px 2px 6px 2px; background: var(--dark-mode-softwhite, white);">
		<div style="display: flex; position: relative;">
			<field-part id=messagebox_input class='fingersize script-indent'
				spellcheck=false autoreplace=false autocomplete=false widemargins=false enterkeyhint=send
				style="tab-size: 2; border-bottom: thin dotted gray; width: 100%; display: block; box-sizing: border-box; white-space: pre-wrap; max-height: 10em; overflow-y: auto; font-size: max(min(3vh, 1.25em), 1em); width: min(500px, calc(98vw - 1em));"
				oninput="messagebox_oninput();"
				ontouchstart="if (ContentEditableFix.ActiveElement() !== this) { getSelection().selectAllChildren(this); this.focus(); event.preventDefault(); }"
				onpointerdown="if (!messagebox_xtalk) messagebox_oninput();"
				onkeydown="
				if (event.key=='Escape') { messagebox_blindSelect(); return false;}
				else if (event.key=='Enter' && event.metaKey)
					{ document.execCommand('insertText',null,'\n'); messagebox_oninput(); return false; }
				else if (event.key=='Enter' && (!body.classList.contains('messagebox-lowerarea-visible') || (messagebox_scriptcomplete && this.lastChild.contains(getSelection().focusNode))))
					{ this.closest('form').onsubmit(); return false;} // change this to always show the arrow button when there is a flow control command or in-box handler. maybe even put send message in the script editor?
			"></field-part>
			<input id=messagebox_send type='submit' value='⏎' alt="Send this message to the card">
		</div>
		<div id=messagebox_lowerarea style='padding: 2px 4px 0px 2px; -webkit-user-select: auto; user-select: auto; '>
			<div id=messagebox_output style="float: left; padding-left: 2px; xoverflow: auto; font-weight: bold; margin: 0px 0.25em;"></div>
			<span id=messagebox_translation style="float: right; font: 11px Menlo; color: #88A; padding-top: 3px; position: relative; max-width: 100%;">
				<span style="vertical-align: top;">{</span>
				<div  style="display: inline-block; width: auto; max-width: calc(100% - 3em); margin: 0; padding: 0;"></div>
				<span style="vertical-align: bottom;">}</span>
			</span>
			<div id=messagebox_error></div>
			<div style="clear: both;"></div>
		</div>
		
		<script>"use strict";
			var messagebox_scriptcomplete, messagebox_xtalk, messagebox_complaint_timeout, messagebox_puts_tally = 0;
			function messagebox_oninput(showWithoutJS) {
				var scr = '', err = '';
				clearTimeout(messagebox_complaint_timeout);
				messagebox_complaint_timeout = null;
				messagebox_input.FixCENow();
				if (sim.card) try { 
					if (messagebox_xtalk) 
						{ messagebox_xtalk.remove(); messagebox_xtalk = null; }
					messagebox_xtalk = new XTalk(sim.card, 'on messageBox\n' + messagebox_input.contents + '\nreturn the result\nend messageBox', { 
						treat_as_accessory: true, debug: false, lineRule: 'message-box', useGlobalVariables: true, dontComplain: true,
						errorProc(line) { 
							//console.log('error in message box line ' + line);
							getSelection().selectAllChildren(messagebox_input.qsa('div')[line-2]); 
							messagebox_input.qsa('div')[line-2].setAttribute('data-suffix', 'error');
							}
						});
					scr = (messagebox_xtalk.raw.handlers[0].code.join('\n'));
					(messagebox_scriptcomplete = (1===(messagebox_xtalk.raw.lineinfo[messagebox_xtalk.raw.lineinfo.length-2].indent)));
					messagebox_input.childNodes.forEach((c,i)=>{
						c.setAttribute('data-prefix', '\t'.repeat(Math.max(messagebox_xtalk.raw.lineinfo[i+1].indent-1,0)));
						c.setAttribute('data-suffix', (!showWithoutJS && messagebox_xtalk.raw.lineinfo[i+1].error) || '');
						if (!messagebox_complaint_timeout) {
							var tocomplain = messagebox_xtalk.raw.lineinfo[i+1].error;
							//messagebox_complaint_timeout = setTimeout(()=>{ messagebox_error.innerText = tocomplain; }, 1500);
						}
					});
				} catch(e) { err = e; }
				
				var expected = "\nreturn _.the_result;";
				if (scr && scr.substr(-expected.length)==expected)
					scr = scr.substr(0, scr.length - expected.length);
				messagebox_translation.qs('div').innerText = showWithoutJS ? '' : scr;
				messagebox_output.innerHTML = '';
				messagebox_output.compileFailure = showWithoutJS ? '' : err;
				messagebox_error.innerText = err;
				localStorageSetItem('messagebox', messagebox_input.contents);
			}
			function messagebox_onsubmit() {
				clearTimeout(messagebox_complaint_timeout);
				messagebox_complaint_timeout = null;
				try {
					// we really want me to be 'card' and 'next parent' in the hierarchy to be card too
					XTalk.Globals.the_result = undefined;
					//console.log(messagebox_xtalk.raw.lineinfo);
					messagebox_oninput();
					var oldtally = messagebox_puts_tally; 
					
					sim.stack.queue().push('messageBox', sim.card, [], (success,result)=>{
						if (!success) {
							if (result instanceof Error)
							{
								messagebox_error.innerText = result.message;
								if (!result._[0].$.options.treat_as_accessory)
								{
									messagebox_error.innerHTML += ' from <a href=# style=cursor:default;>' + result._[0].$.me + '</a>';
									messagebox_error.qs('a').onclick = scriptLinkClickEvent(result._[0].$.me, result.scriptline, result);
									function scriptLinkClickEvent(element, line, error)
										{ return (event)=>{ event.preventDefault(); launch_scripteditor(element, line, error); }; }
								}
								else messagebox_error.innerText += '.';
							}
							else
								messagebox_error.innerText = String(result); 
							body.classList.add('messagebox-lowerarea-visible');
						}
						else if (body.classList.contains('messagebox-lowerarea-visible')) {
							messagebox_output.innerText = (result === undefined) ? '' : result;
							if (messagebox_input === document.activeElement)
								messagebox_blindSelect();
						}
						else {
							if (oldtally == messagebox_puts_tally && result !== undefined && result !== null)
								messagebox_input.contents = result;
							localStorageSetItem('messagebox', messagebox_input.contents);
							if (messagebox_input === document.activeElement)
								messagebox_blindSelect();
						}
					}, { alternate_XTalk: messagebox_xtalk } );
				} 
				catch(e) {
					messagebox_error.innerText = ContentEditableFix.HTMLEncode(String(e)); 
					if (!body.classList.contains('javascript')) alert(e);
				}
				//console.log('messagebox: ' + localStorageGetItem('messagebox'));
			}
			function messagebox_blindSelect() {
				if (matchMedia("(pointer:fine)").matches) {
					messagebox.classList.add('hide-selection');
					messagebox.classList.add('hide-selection-2');
					getSelection().selectAllChildren(messagebox_input);
					// fix a Safari bug that only draws the selection on the top div
					getSelection().modify('extend','backward','character'); getSelection().modify('extend','forward','character');
				}
			}
			function messagebox_setvisible(visible, dont_save) {
				messagebox.visible = visible;
				body.classList.toggle('messagebox-visible',visible);
				document.qs('#messagebox-visible').classList.toggle('checked', visible);
			//	if (visible && !dont_save) { messagebox.x = messagebox.y = 0; }
				stickyAdjust();
				if (!dont_save) {
					localStorageSetItem('messagebox-visible',visible); 
					if (sim.mouse != 'down') messagebox_blindSelect();
				}
				//if (visible) messagebox_oninput(true);
			}
			messagebox.addEventListener('closebox',(event)=>{ messagebox_setvisible(false); messagebox.x = messagebox.y = 0; });
			messagebox.addEventListener('zoombox',(event)=>{ localStorageSetItem('messagebox-lowerarea-visible', body.classList.toggle('messagebox-lowerarea-visible')); messagebox_oninput(); });
			// keydowns in blind typing mode ought to be forwarded to the frontmost stack 
			window.addEventListener('scroll',(event)=>stickyAdjust() );
			messagebox.addEventListener('windowmoved',(event)=>stickyAdjust() );
			function stickyAdjust() {
				//console.log(messageanchor.offsetTop - messagetr.offsetTop);
				if (!messagebox.shadowRoot) return;
				
				if (messageanchor.offsetTop < messagetr.offsetTop) {
					//console.log('<');
					//messagetr.style.top = messagebox.y+'px';
					//messagebox.y = 0;
				}

				//console.log (messagebox.getBoundingClientRect())
				
				{
					messagetr.style.top = messagebox.y+2+messagebox.shadowRoot.qs('#dialog').getBoundingClientRect().height+'px';
					messagetr.style.bottom = messagebox.y+2+'px';
				}
				//messagebox.classList.toggle('ybottom', (messagetr.offsetTop+messagebox.offsetHeight) > body.offsetHeight);
				// ok the deal with this is that when you grab the titlebar, it should recalc where it is in 'true' relative coordinates
				// you can continually move it where you want it and eventually it will 'stick' there.
			}
			stickyAdjust();
			/*palette.addEventListener('windowmoved',(event)=>paletteStickyAdjust() );
			function paletteStickyAdjust() {return;
				palettetr.style.top = -palette.y+2+'px';
				palettetr.style.bottom = palette.y+2+'px';
				// ok the deal with this is that when you grab the titlebar, it should recalc where it is in 'true' relative coordinates
				// you can continually move it where you want it and eventually it will 'stick' there.
			}*/
			document.addEventListener('keyup', (event)=>blindTypingWakeup());
			document.addEventListener('selectionchange', (event)=>blindTypingWakeup());
			function blindTypingWakeup() {
				if (messagebox.classList.contains('hide-selection-2'))
					messagebox.classList.remove('hide-selection-2'); 
				else messagebox.classList.remove('hide-selection'); 
			}
			function put_into_messagebox(str, showWithoutJS)
			{
				messagebox_puts_tally++;
				messagebox_input.contents = str;
				messagebox_oninput(showWithoutJS);
				if (!showWithoutJS && sim.mouse != 'down') setTimeout(()=>{ messagebox_blindSelect(); }, 0);
				messagebox_setvisible(true);
			}
		</script>
	</form></modal-dialog>

	
</div>

<div id="bodyflex" style="flex: 1;"></div>

<div id="referencecontainer">
	
		<details id=referencedetails onmousedown="event.preventDefault();" style="color: gray; cursor: default; display: inline-block;">
			<summary style="padding-left: 1.5em; font: 1em Chicago;">Scripting</summary>
		</details>

	
	<table id=reference cellspacing=0>
		
		<tr class=splitheader><td width=50%></td><td width=50%></td></tr>

		<tr class=bold><td colspan=2>
			<div class=flex-row style="flex-wrap: wrap;">
				
			<button-part type=oval color=#F8F8F8 name="show the message box" onclick="messagebox_setvisible(true,true)"></button-part>
								
			<button-part type=oval color=#F8F8F8 name="edit the simulator script" onclick="var ess = wildcard_script.lockText; body.classList.toggle('edit-simulator-script', ess); wildcard_script.lockText = !ess; this.hilite = ess; if (ess) { wildcard_script.scrollIntoView(); getSelection().selectAllChildren(wildcard_script.contentsContainer().qs('div')); } "></button-part>
				
				<button-part id=upload_wcs name="⇑ 💾" enabled=false type=oval color=#F8F8F8 onclick="
					if (this.enabled==true && confirm('Store the edited simulator options to your account, to be loaded on sign-on?'))
					hit_file_system({ request: 'save', path: 'custom_simulator_script', user: getCookie('user'),
						contents: { script: localStorageGetItem('wildcard_script') } } ,
						()=>{ alert('Save successful, this script will load whenever your account is logged in.'); });
				"></button-part>
				<button-part id=reset_wcs name="× ↻" enabled=false type=oval color=#F8F8F8 onclick="
					if (this.enabled==true && confirm('Discard the edited simulator options?')) {
						localStorageSetItem('wildcard_script',null); 
						if (getCookie('user'))
						hit_file_system({ request: 'save', path: 'custom_simulator_script', user: getCookie('user'), contents: '' },
							()=>location.reload());
						else location.reload();
					}
				"></button-part>
				<button-part type=oval color=#F8F8F8 name="see the grammar" onclick="window.scrollTo({left:0, top:simulatorcontroltr.getBoundingClientRect().top, behavior:'smooth' });"></button-part>
				
			</div>
			<div id=scripterror></div>
		</td></tr>

		<tr class=notgray><td colspan=2 style="padding: 0;">
			<field-part id=wildcard_script class=script-indent type=transparent spellcheck=false autoreplace=false wideMargins=false locktext=true
				onkeydown="if (event.keyCode==9) { 
					event.preventDefault(); 
					//document.execCommand('insertHTML',false,'<span>\t</span>');	indents are now automatic
				}" tabindex=0
				oninput="var err; try {
					this.FixCENow();
					load_wildcard_script();
					localStorageSetItem('wildcard_script',this.contents);
					reset_wcs.enabled = true;
					upload_wcs.enabled = true;
				} catch(e) { console.warn(err = e); } 
				scripterror.innerText=err||'';
				">
			</field-part>
		</td></tr>

		<tr id=simulatorcontroltr><td colspan=2>
			<button-part type=standard color=white name="show the message box" onclick="body.classList.toggle('messagebox-visible', true); messagebox_setvisible(true); "></button-part>
			<button-part type=standard color=white name="go to the simulator" onclick="window.scrollTo({left:0, top:0, behavior:'smooth' });"></button-part>
			<!--button-part type=standard color=white name="edit the simulator script" onclick="var ess = wildcard_script.lockText; body.classList.toggle('edit-simulator-script', ess); wildcard_script.lockText = !ess; this.hilite = ess; if (ess) { wildcard_script.scrollIntoView(); getSelection().selectAllChildren(wildcard_script.contentsContainer().qs('div')); } "></button-part!-->
			<button-part type=standard color=white name="show/hide Javascript" onclick="body.classList.toggle('javascript');"></button-part>
		</td></tr>

		<tr  class=bold><td colspan=2>
			Grammar of scripting language:
		</td></tr>
		
		<tr><td colspan=2>
			&lt;rule&gt; | [optional] | {group}[*]<br>
		</td></tr>
		

		<tr id=grammartr class='bold'><td colspan=1>&lt;handler&gt;</td><td colspan=1>
			<!--JavaScript output <button-part type=standard name="Hide" onclick="body.classList.toggle('javascript', false);"></button-part!-->
		</td></tr>
		
		<tr ><td>on &lt;message&gt; &lt;parameterList&gt;</td><td>function*&lt;message&gt;(&lt;parameterList&gt;) {</td></tr>
		<tr ><td colspan=2>    [ { &lt;scriptLine&gt; } [¬] [-- comment] ]* </td></tr>
		<tr ><td>end &lt;message&gt; </td><td>}</td></tr>
		
		<tr id=placeimportsbefore></tr>
		<tr class=terminal><td>&lt;identifier&gt; </td><td>/[A-Z_][A-Z_\d]*/i</td></tr>
		<tr class=terminal><td>&lt;number&gt; </td><td>/[\d]+([.][\d]+)?/</td></tr>
		<tr class=terminal><td>&lt;string&gt; </td><td>/"[^"]*"/</td></tr>

	</table>
	<br>
</div>


<div id=copyright style="box-sizing: border-box; padding: 4px; xborder-top: thin dotted #BBB;">
	<font color=gray style="font: 18px GenevaNine; line-height: 0.8em; font-weight: normal; word-break: break-word;">HyperCardSimulator is ©2022 from <a href="https://hypervariety.com/" target=biz>Hypervariety Custom Software</a>.
		This site uses cookies to provide necessary functionality only. <a href="https://hcsimulator.com/termsandconditions.html" target=terms>Terms and Conditions</a> .
		<a href="https://hcsimulator.com/termsandconditions.html" target=terms>Privacy Policy</a> . <a href="https://discord.com/invite/TAvA6TauZB" target=_blank>Discord</a> 
	</font>
</div>

</div>
	

	
<template id=newstackstart>
	<modal-dialog visible=true class='static nopadding closebox zoombox positivexy'>
		<stack-part>
			<background-part id=1>
				<field-part width=483 height=269 id=1 topleft=13,13><div><br></div></field-part><button-part width=48 height=38 name='New Card' script='on mouseUp
visual scroll left slow
		domenu "New Card"
		end mouseUp
		' topleft=403,296 showname=false icon=17481> </button-part><button-part width=49 height=38 icon=27009 showname=false script='on mouseUp
visual scroll left
		go next
		end mouseUp
		' topleft=457,297 name=Next> </button-part><button-part width=45 height=37 name='Stack Info' script='on mouseUp
	domenu "Stack Info"
	end mouseUp
	' topleft=351,297 icon=8538 showname=false> </button-part>
	<button-part width="45" height="37" textname="Home" script="on mouseUp
	go home
	end mouseUp
	" topleft="300,297" icon="13745" showname="false"> </button-part>
		</background-part>
			<card-part bkgndid=1 id=1></card-part>	
		</stack-part>
	</modal-dialog>
</template>

<template id=buttonstart>
	<button-part type=roundrect name='New Button' topLeft = '200,150' width='120' height = '30'></button-part>
</template>
<template id=fieldstart>
	<field-part type=rectangle topLeft = '150,100' width='220' height = '130'></field-part>
</template>			




<template id=homestack>

	<stack-part name=Home width=512 height=342 script='on sampleMessage
answer "Stack sees the message" with "pass sampleMessage"
pass sampleMessage 
end sampleMessage

on syntaxIndentingTest

if false then a else b

if false then c else 
	d
end if

if false then e 
else f

if false then 
	g 
else h

if false  
then i 
else j

end syntaxIndentingTest

on errorhandler firstParam
	global someGlobal
    put firstParam && "okay" into someVariable
	debugger;
	deliberate syntax error
end errorhandler
on callErrorHandler
	get "Here goes..."
	errorHandler it
end callErrorHandler
'>
		<background-part id=1 name='The Background'> <field-part id=1 name='Bkgnd Field' type=shadow textfont=Tahoma textalign=center topleft=50,305 width=410 height=25></field-part> <button-part id=2 sharedhilite=false topleft=2,300 width=41 height=39 icon=1016 name=Prev showname=false type=oval script='on mouseUp
										visual effect scroll right
										go previous card 
										end mouseUp
										'> </button-part> <button-part id=3 sharedhilite=false topleft=467,300 width=41 height=39 icon=32650 name=Next showname=false type=oval script='on mouseUp
												visual effect scroll left
												go next card
											end mouseUp
											'> </button-part> </background-part>
		<card-part name='The First Card' bkgndid=1 cantdelete=true bitmap='data:image/gif;base64,R0lGODdhAASsApEAAAAAAP///wAAAAAAACH5BAkAAAIALAAAAAAABKwCAAL/lI+py+0Po5y02ouz3rz7D4biSJbmiabqyrbuC8fyTNf2jef6zvf+DwwKh8Si8YhMKpfMpvMJjUqn1Kr1is1qt9yu9wsOi8fksvmMTqvX7Lb7DY/L5/S6/Y7P6/f8vv8PGCg4SFhoeIiYqLjI2Oj4CBkpOUlZaXmJmam5ydnp+QkaKjpKWmp6ipqqusra6voKGys7S1tre4ubq7vL2+v7CxwsPExcbHyMnKy8zNzs/AwdLT1NXW19jZ2tvc3d7f0NHi4+Tl5ufo6err7O3u7+Dh8vP09fb3+Pn6+/z9/v/w8woMCBBAsaPIgwocKFDBs6fAgxosSJFCtavIgxo8aN/xw7evwIMqTIkSRLmjyJMqXKlSxpAHgJAALMmC1r2owzUybMmzx7nsn5AKjPoUS9CG1wtKjSpUWSHnCq4CXTqVSJQBVwFYHUqly74ri6dWvUnRHEej2L9gNYmma1ktWZNq7cDG2fsqU51kDdsXvn+v2boG9YvIHv6uwLOHFcwWTrDnYwE7HiyWcZPy6slzDft5Q7p2WcOS9WzZhHez69mHRo06UlX0YNm6dl0q8LuzYcO/fN2aJ5I8WtO/hKx5xXg2bNoLbw5SWJE1/dW7Vd6Myrg3TqHPh05AuUW//OETvtxuOpRwePvqN4s969uzWfPr7F9YTbaz8vP/98zkcHP//n/h6ApelH4EH98XfXf8fdVmCDBQFVm33wGVfcdg5eGBCE2kkoIIXHYQhiPxpSmBl797UmnXshrijPiKz5V9+JAS4oHYs2puNijuSRyJ2KKt4I5Dk6XqYjj0aiGGSS2UTGZJNMehgZj0WORmSMSl55jZNaNgnllF7u2GONWI4pzJZmJojmgUOC+eSLacpIZpy8nLlliW+auGaVX7ooZ5+30IngnuQdaGeVAR45oZ+KwgIonmy+WaiVVD56qJuiLYrpKk7ayel2esLZaaJSboibZJme+smmk4ZqqZs/rmphd6WSiiiqtnKiapsackjopCbiV6muoN5KrCW5Rgkrn57/IhhppbU6amix0lJS57LJpTjrpdbaJR51vIo5bbiFVFtrotE622qzSG47I7jivqvHmcGi6a2kkNkbpoLM+nqiqfD+S4e8scJYL7ra/sptebB22a+7AD+8xrGsIqztkf7eay6+GMcKccdvSLxwmNcC2+EEPmr8m8Eer2wGyGpmK/IFX2787bws3xwxl67GGC3FFcyccrrsxoxz0WEcSzDRQT3aa1ay0kyr0kZP3QXS9Er926cIO13xulujTHXYU1SrrKMHO1zyf6IKGCGya4sNdxNkg1mv2iV3DZ/PXbfda9x+PyEslHkrDFfCygr+dLJXj7zu3443heyng+OdeKTf/9IoedDtPs75D21mzPjkWEOLcre2iZm0yp2vnsPnaWOLbttn953w3hW2azfrut8w5bOSml151u6+qm7sYN+9e/Io9C50wfnCvrS/xPNru8oXK4+9B4cPzSrJiI/q+7mGD1/h9Nmf38H24aPe8MQw2yd+8cJ7j3792tMdsls9t7+z6ktjQDsO2W+AIyjb7RQHPq/tywLX24zN2IY2AkqwLOVTmM+kRz4J6O1/MiPcBD94v9wJbYOU898DNRjBAXEMhCykgOu+5sD8jRBm9NvY2hqoQhG2sIUv/N14Uje0+HGPgzdM4QlXuMMPBq5VJBwYDYkYtF3hS4BYs2ESd7hE8f8xaFvXw2CnAsg/56Hwilh0Gxd9mLQeHnFzyMMPDJ2oPjLK0XUJRJwUL3g8IULNeXiMoxxZSMc2IvF5Z6tbGFfYRSOqsFx/PF8gExk6Gb7xix4UXeEAaEFFNhJugbzWEtX1SB/6T4eai6IolUbKTf6tk7L6JPVe+cAmWpKChXsjHkuoSrHR50NDlF0Oh8XA462xg7jMpS4ruBb6+TKWmiylFwfpwkoa85h3pBPJYERF/fFsiuyLpG+8eUAcTtNjwmpUJnGHv4wBT4zBG2b3fsnLcYbtZVozo+W0VEdE6qx6p4tkMUv5NnnejJ6zUpU2BSbE7CRzkTIsIib/KdCOVTP/mrTbjAj1Ra5fuo9xy2xlBiM60EEd0JML9OhFM5lRZjZRi+x7Jkj/Vc6Rvm5763ydO/kFyRJM8qVTi+kWLXrIijrRevuEogh2ytOQphGZ+Bzfq+yWzZ2B7HtMPKX8UpnUcEnxnQK7p0M1CsHozA2dbNypGhmaVa2KlKvbXBM7V0qpmAEqmiGEHkTT2qetSrKtTIsaO7WZT2w2dYzpC6dd8YoqvcoPqC8znsX6Ssl7jtVkwBwfXRFLLMXC0qRmFCpLM5cnawqSjYeR6V0xmySfrtWpZpJsHv2qOHN2FZqJw2A80YraK6kWiLK9U0lJS0ic9taeox1iDHEpztw6qIcK/+VrRk0X2NUyr7ca0Nc7CatcMjH3h4ESLVvLuk1KfrZR1T1nQ2mZXSWFUqzdfe5g9blQXxKUlYbEblhDltz0Fmi9KJpvUVMKwfhGzb9Oq6kVMSpM/YborLcJ5XYXyk8aQQ3At/UnbhUsJwa3lLgGFa6FRSdhU1L4sFY8LYZvtNv3+RaFCDWvS40qXPrWTp9HbeaJhZPiBHb4Xi1240cvyVoZb/TCdLHxjWNjzhLHeMCR6+YZv4rgana0wj9L8JHTk2SALpmPTT6wivfY3ya7Eq4ckOWVsSzSODZ3uPyzrjNJbNzzDvmmZ8aSlOG05uGC2Lzg/HDzZkxSx9K2zrrlLv9SOTvXKgZPqH6+6aGDaUJCX6i5wCVpls08L0wPWtGPrnKkJT3p9jIVvABWMnDdvMUNgvGh6AX1gkWdHVK/F8jXdLGTVV3S/BZX164+DX9B6UEc3hKs+yMqeANdQJnK18i9/gyH+TpLYXOzkFX961D/fN3CptqqzdZNTUlp4HYqGtlRRTWfPT1I2zK724n5tjTrC2NNA/bPJ/VdQPss7uOyGzzbHZxqPy3uZx5a16R7MZj3zaJ+B1jMv6XsP5dt4kwT967mQ7h8WLnUMefayq3Gtk0RiMofw/jU67a4XDB+tanid9ob6DTmnqjpnHKU4yb3dVHnLViv3jeg9aZxLzf/zFuad1ziXKv5XHY845x7eOeC7Hm0DwnUOReX1nCcuNEBo9mDQru2lTU2QytO8nvr1LeJvjplsm7ZtPv4svysNHo7rQLBZtnsk4mpISfqc2qz+unWlnfLyQ6patO9M3Z/Ht5nSeeOQxW21q6xa4HNyMG3u+E6n54B8S1ocAfbtJt22ZelanXJ+4XRS7c8/njZc83PDm3qBtr+kC76yaMd2GpOobTXvqwGr5u/rk9512OPlsJH/ZVUbnTAYb44j5b52ZEVPPOAX/fOMnXxguZ5QX/vdV7P8PLO9732ob8UhWtd70wXuO8hzfXy3p3JOl4t+An/3+tH3uOm3utj1R3M/3q2f/+Afj/8Ndx824Z++hZd+Fdl+td9/Jdt/hd9EFZ+nAd3D2hhegR6Bfd5rwd4RceAJ2d1uDZvXvZVjmZrM/dgcVVssdVaG4gaI3ZEqvdmqVdBOLdioMd/JzgqQqaCRzdrIVd9RBZuCLZ6DIOAJ2iDVYWDOfgXI9ZRMzdKaMR4Rsh6TeV5NZhmO4iEZ7eD3HdwyPM1SwiFLKYzU5iAKFhqV4iFwkeDRHZZqPd5XBaA50d8F5iB2GeGOoiGSgdwtXRYRWhLJthXRHh9KleHuWE12WZwp8OHT+hHZyR33ueHdhR6g9iADGeIIjd8LNV36ZR+ZChdXdZ9eCiJ3paCTf/4dECETsNmOvATeAkViHP4faHoFbMFZZtnirm3cd9Fb1WYTzdYhbAHi0g2ips2TMtGfXJGbGHoh88HcmD3i7KXhbZXOkxWjBooV8iIgaxYhM0YHHP3ZP0Dch/4gNsGiArIiAzni9q4guSlQJCoij1YYHA4jrkohHOIjt+RaJOlhZvlbm62PkvFi1YjhvXIHPcohXC4fhIHjo/lb534j9ZYkGInkDaXRQ3Dhm6ofMSUdPD4hLKmcxFpHWIYa4vGfhc5gMv4iLQFWjfnkQOpjok3kbxYa1wGcd6Ij9z0iivJgWV3bZYmh7hoVgb5iYCnkP2Hk/bIZr2IjCoFjZWHlM3/d2xLNntFWR1HiZQaR1YOV3pN+Y3dSJA3KZVnmIKX1ooAWHV6VXgECYlU9ZX60ZWiVU9kuX4Z14k9RpPyt5bLVZCeh4AlyWPqKCg1eYR3aZQA6YmhtXfR45fJGJYzKJggIpYphorRiH5UKWu/1pgE8pjmKH1hp4Zcx2aVyXyXiZeudWfQ9XH1J44OCZnvJpqY6Yr0CFYPB2enqJmlyZqt2SC2GXSZWEOxiZh62YElh5vbWJXuN0MRJnKJBJjBOZypdXptuJMo+US4x14oh3jNmZvPuYujc2vDQoGNGGJ5iJ1o9pLc6Y5ReJjjCTAgKZl5t2vN5JXqmVeFSSpW+XWb/0d+kVaM8oli9BmXiihNHphuljhu/Jlw8Sdz7rmf7qmfwmmgbImg6Hmf59l2nRmfDwqh9zedp3l8PVihh4ihr6ah9pZvCnqbEjhyIdqfQ2aB5PhU+GmhdKiiGLKbhneSEbig1geRMxok/7ZyJDiSHnpfP8WjceKjpOePP1eh83ehReqaZlmcVOmCITh1TuqcUAqeUjqlXCh0VoopjciUNbmdVOel6zmDhFmeFFh/ZdpTKEWfmDiG88emZlqdkHWccUp/cwovSheSSSqWFqmnEMOn3JWWUOmfcRao7xKZ4klY2ZioMMVyfreG0PmoiuqIgHoCzFipmSKXmGoCmrqpnP/KcmMaqhI0bKRaqvXjp23moKnapm+4Z66qRMYZmU0qqyujWbXaqreqVLTqhIHJq3Fzh78aicHqN3RZicBqrEWDrOd1jst6TAwTq2kIravUitMKitV6rEnJlZeqrdtqnxi4gN/KMkM4gkRJrq+ahuaWkOlKNb7IN5TqrsyqkiMqePPqOFN2pruKr9Kir0zZr5yUfG/FmAGrrqbZhcVqsILKbeo0sAsbUm7nG9QIsZZKheZasTgTj4ZZpRmrVhPYXePqsXR6fMBDsSO7pyN5eCh7sKe0siwbsf2UdmoKs5Cqb2nKrzVrpLA1qDprNP8ahz5Lr+NXl7YqtBm2dZ16tD//q5hOubS42rRb+bQPk7AxZLRTW2hXKYNY26uwullcy7Crulhgy7BUBapkeyuZI6doOy3imqds27YqRrNw+7F3erV0q17It6N4m1l2ebZ8+6V+K6OAK6ozSbhhG6SHW7bUqrgSda2NS04MCbmOm6STS7maaLlmuoiZW7d3y7lZ27GfK7qjS7qla7qni7qpq7qry7qt67qvC7uxK7uzS7u1a7u3i7u5q7u7y7u967u/C7zBK7zDS7zFa7zHi7zJq7zLy7zN67zPC73RK73TS73Va73Xi73Zq73by73d673fC77hK77jS77la77ni77pq77ry77t677vC7/xK7/zS7/1/2u/94u/+au/+8u//eu//wvAASzAA0zABWzAB4zACazAC8zADezADwzBESzBE0zBFWzBF4zBGazBG8zBHezBHwzCISzCI0zCJWzCJ4zCKazCK8zCLezCLwzDMSzDM0zDNWzDN4zDOazDO8zDPezDPwzEQSzEQ0zERWzER4zESazES8zETezETwzFUSzFU0zFVWzFV4zFWazFW8zFXezFXwzGYSzGY0zGZWzGZ4zGaazGa8zGbezGbwzHcSzHc0zHdWzHd4zHeazHe8zHfezHfwzIgSzIg0zIhWzIh4zIiazIi8zIjezIjwzJkSzJk0zJlWzJl4zJmazJm8zJnezJn/8MyqEsyqNMyqVsyqeMyqmsyqvMyq3syq8My7Esy7NMy7Vsy7eMy7msy7vMy73sy78MzMEszMNMzMVszMeMzMmszMvMzM3szM8MzdEszdNMzdVszdeMzdmszdvMzd3szd8MzuEszuNMzuVszueMzumszuvMzu3szu8Mz/Esz/NMz/Vsz/eMz/msz/vMz/3sz/8M0AEt0ANN0AVt0AeN0Amt0AvN0A3t0A8N0REt0RNN0RVt0ReN0Rmt0RvN0R3t0R8N0iEt0iNN0iVt0ieN0imt0ivN0i3t0i8N0zEt0zNN0zVt0zeN0zmt0zvN0z3t0z8N1EEt1ENN1EVt1EeN1ElHrdRLzdRN7dRPDdVRLdVTTdVVbdVXjdVZrdVbzdVd7dVfDdZhLdZjTdZlbdZnjdZprdZrzdZt7dZvDddxLddzTdd1bdcmUQAAOw==' id=1> <div slot='-1'><div>first background field of first card</div></div> <field-part type=transparent topleft=6,7 width=444 height=128 locktext=true id=1><div><font size='+2' class='' face=Chicago><b>HyperCard Simulator</b></font><br></div><div><br></div><div><font face=Chicago>You can import and run your classic HyperCard stacks.</font><br></div><div><br></div><div><span>Influenced by:</span><br></div><div> <a href='https://hypercard.org'>hypercard.org</a> • <a href='https://itch.io/jam/merveilles-hyperjam'>Merveilles HyperJam</a> • <a href='https://archive.org/details/hypercardstacks'>Internet Archive</a> <br></div><div><br></div> </field-part> <button-part name=Hat icon=16735 topleft=435,-2 width=42 height=36 script='--- drag me with the mouse or finger
	on mouseDown
	
	repeat while the mouse is down
	set the Location of me to the MouseLoc
	end repeat
	
	end mouseDown
	
	on MouseUp
	put the Top of me into Y
	put the ticks into StartTicks
	
	repeat until (the ticks - startTicks) > 60 or the Mouse is Down
	set Top of me to Y + round(sin((the ticks - StartTicks)/5)*3)
	end repeat
	end MouseUp
	
					' showname=false autohilite=false id=16></button-part> <button-part topleft=422,54 width=25 height=24 name=Eye showname=false script='
			on mouseUp
	
	if random(3) is 1 then
	play flute "de d e r f f g r g4 a4 c4e c4e d4e d4e e4 f4 g4 a4"
	else if random(2) is 1 then
	play harpsichord tempo 250 a4 69 69w 69h 69q 69e 69s 69t 69x 69q 70q 71q 72q 73q 74h
else
    play harpsichord b2s c3s e3s g3s c4e a#3e f3s f#3s g3s re. b2s c3s e3s g3s c4e a#3e f#3s g3s re. a#2s c3s e3s g3s c4e a#3e f3s f#3s g3s re. g3s g#3s g3s f3s d#3e b2s c3e
end if
	wait until the sound is done
	
	play boing
	send mouseup to btn "Hat"
	
			end mouseUp
			
					' type=oval id=2></button-part> <button-part topleft=12,148 width=62 height=62 icon=129 name=Catpot script='on mouseUp
					go stack "Catpot"
					end mouseUp
					' id=3></button-part> <button-part topleft=9,224 width=75 height=70 icon=6544 name='Death Mall 3000' script='on mouseUp
					go stack "JohnMalay/Death Mall 3000"
					end mouseUp' id=4> </button-part> <button-part topleft=79,148 width=65 height=62 icon=21437 name='Foul Airs' script='on mouseUp
					go stack "Foul Airs"
					end mouseUp
					' id=5></button-part> <button-part topleft=89,227 width=83 height=61 icon=6560 name='Ziggy Gets Out' script='on mouseUp
	go stack "Ziggy Gets Out"
	end mouseUp
	' id=6> </button-part> <button-part topleft=261,224 width=75 height=66 icon=9761 name='One Last Year' script='on mouseUp
					go stack "SLH One Last Year"
					end mouseUp
					' id=9></button-part> <button-part topleft=176,224 width=78 height=73 icon=10181 name='A Trip to the Pond' script='on mouseUp
					go stack "A Trip to the Pond"
					end mouseUp
					' id=7></button-part> <button-part topleft=368,149 width=61 height=61 icon=12722 name=Fragments script='on mouseUp
					go stack "Fragments"
					end mouseUp
					' id=8></button-part> <button-part topleft=227,149 width=61 height=62 icon=11260 name=Coffee script='on mouseUp
					go stack "Account/Coffee"
					end mouseUp
					' id=10> </button-part> <button-part topleft=292,148 width=68 height=62 icon=18607 name='"Crank Call"' script='on mouseUp
					go stack "Crank Call"
					end mouseUp
					' id=11> </button-part> <button-part topleft=434,140 width=65 height=80 icon='-6079' name='Import Stack...' script='on mouseUp
					doMenu "Import Stack..." 
					end mouseUp
					' id=12> </button-part> <button-part topleft=343,225 width=76 height=65 icon='-16523' name='Bird Anatomy' script='on mouseUp
	go stack "Bird Anatomy"
	end mouseUp' id=13> </button-part> <button-part topleft=424,227 width=75 height=64 icon=2002 name='Seinfeld 1.0' script='on mouseUp
					go stack "Seinfeld 1-0"
					end mouseUp
					' id=14> </button-part> <button-part topleft=150,148 width=71 height=72 icon=7142 name='King Arthur&apos;s Quiz' script='on mouseUp
	go stack "A Quiz on King Arthur"
	end mouseUp
	' id=11> </button-part> </card-part>
<card-part id=13 bkgndid=1 bitmap='data:image/gif;base64,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+c+BHnShD53oRTf60ZGedKUvnelNd/rToR51qU+d6lW3+tWxnnWtb53rXff618EedrGPnexlN/vZ0Z52/7Wvne1td/vb4R53uc+d7nW3+93xnne9753vfff73wEfeMEPnvCFN/zhEZ94xS+e8Y13/OMhH3nJT57ylbf85TGfec1vnvOd9/znQR960Y+e9KU3/elRn3rVr571rXf962Efe9nPnva1t/3tcZ973e+e9733/e+BH3zhD5/4xTf+8ZGffOUvn/nNd/7zoR996U+f+tW3/vWxn33tb5/73ff+98EffvGPn/zlN//50Z9+9a+f/e13//vhH3/5z5/+9bf//fGff/3vn//99///ATAABXAACbAADfAAETABFXABGbABHfABITACJXACKbACLfACMTADNXADObADPfADQaYwBEVwBEmwBE3wBFEwBVVwBVmwBV3wBWEwBmVwBmmwBm3wBnEwB3VwB3mwB33wB4EwCIVwCImwCI3wCJEwCZVwCZmwCZ3wCaEwCqVwCqmwCq3wCrEwC7VwC7mwC73wC8EwDMVwDMmwDM3wDNEwDdVwDdmwDd3wDeEwDuVwDumwDu3wDvEwD/VwD/mwD/3wDwExEAVxEAmxEA3xEBExERVxERmxq4IAADs=' >
 
	<div slot='-1'><div>More stacks</div></div>
 
	<button-part topleft=11,13 width=115 height=53 icon=1000 name='Adventures of Sean' script='on mouseUp
go stack the short name of me
end mouseUp
' id=3 class=''>
	 	
</button-part>
 
	<button-part topleft=151,8 width=103 height=75 icon=1000 name='Are You A Space Alien' script='on mouseUp
go stack the short name of me
end mouseUp
' id=3 class=''>
	 	
</button-part>
 
	<button-part topleft=281,201 width=97 height=79 icon=1000 name='Twin Peaks 1st Season' script='on mouseUp
go stack the short name of me
end mouseUp
' id=3 class=''>
	 	
</button-part>
 
	<button-part topleft=22,231 width=101 height=61 icon=1000 name='Believe It Or Else' script='on mouseUp
go stack the short name of me
end mouseUp
' id=3 class=''>
	 	
</button-part>
 
	<button-part topleft=146,84 width=123 height=75 icon=22855 name='HyperCard 10th Anniversary' script='on mouseUp
go stack the short name of me
end mouseUp
' id=3 class=''>
	 	
</button-part>
 
	<button-part topleft=17,87 width=103 height=62 icon=1000 name='Clinton Issues Stack' script='on mouseUp
go stack the short name of me
end mouseUp
' id=3 class=''>
	 	
</button-part>
 
	<button-part topleft=382,124 width=86 height=59 icon=1000 name='Clue Deluxe J' script='on mouseUp
go stack the short name of me
end mouseUp
' id=3 class='' type=standard>
	 	
</button-part>
 
	<button-part topleft=391,10 width=93 height=61 icon=1000 name='Learn Tibetan' script='on mouseUp
go stack the short name of me
end mouseUp
' id=3 class=''>
	 	
</button-part>
 
	<button-part topleft=17,160 width=108 height=61 icon=26665 name='John Henry' script='on mouseUp
go stack the short name of me
end mouseUp
' id=3 class=''>
	 	
</button-part>
 
	<button-part topleft=266,11 width=108 height=61 icon=7142 name='Quiz Me Alabama' script='on mouseUp
go stack the short name of me
end mouseUp
' id=3 class=''>
	 	
</button-part>
 
	<button-part topleft=397,202 width=92 height=73 icon=24081 name='Uncle Fudds Treasure 2 0' script='on mouseUp
go stack the short name of me
end mouseUp
' id=3 class=''>
	 	
</button-part>
 
	<button-part topleft=150,164 width=108 height=61 icon=22308 name='Inigo Gets Out' script='on mouseUp
go stack the short name of me
end mouseUp
' id=3 class=''>
	 	
</button-part>
 
	<button-part topleft=152,232 width=108 height=61 icon='-16523' name='If Monks Had Macs' script='on mouseUp
go stack the short name of me
end mouseUp
' id=3 class=''>
	 	
</button-part>
 
	<button-part topleft=291,102 width=77 height=57 icon=1000 name='Mac Desktop' script='on mouseUp
go stack the short name of me
end mouseUp
' id=3 class='' type=standard>
	 	
</button-part>
 
</card-part>
		
		<card-part bkgndid=1 id=2 bitmap='data:image/gif;base64,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' name='Additional Stacks' cantdelete=true>
 
	<div slot='-1'><div>Additional Stacks</div></div>
 
	<field-part id=1 topleft=5,3 width=500 height=290 type=scrolling>
	<div><button-part icon=1000 name='Pantechnicon/' script='on mouseUp
	go stack "Pantechnicon/"
	end mouseUp'></button-part> <button-part icon=1000 name='19th Century Technology' script='on mouseUp
	go stack "19th Century Technology"
	end mouseUp'></button-part> <button-part icon=1000 name='ABCs of Chess' script='on mouseUp
	go stack "ABCs of Chess"
	end mouseUp'></button-part> <button-part icon=1000 name='Adventures of Sean' script='on mouseUp
	go stack "Adventures of Sean"
	end mouseUp'></button-part> <button-part icon=1000 name=Aesop95 script='on mouseUp
	go stack "Aesop95"
	end mouseUp'></button-part> <button-part icon=1000 name='A Good Nights Sleep' script='on mouseUp
	go stack "A Good Nights Sleep"
	end mouseUp'></button-part> <button-part icon=1000 name='Amys Recipes' script='on mouseUp
	go stack "Amys Recipes"
	end mouseUp'></button-part> <button-part icon=1000 name=Animals script='on mouseUp
	go stack "Animals"
	end mouseUp'></button-part> <button-part icon=1000 name='Animals Sound 1' script='on mouseUp
	go stack "Animals Sound 1"
	end mouseUp'></button-part> <button-part icon=1000 name='Annes Jugglers' script='on mouseUp
	go stack "Annes Jugglers"
	end mouseUp'></button-part> <button-part icon=1000 name='A Quiz on King Arthur' script='on mouseUp
	go stack "A Quiz on King Arthur"
	end mouseUp'></button-part> <button-part icon=1000 name='Are You A Space Alien' script='on mouseUp
	go stack "Are You A Space Alien"
	end mouseUp'></button-part> <button-part icon=1000 name='Armchair Shrink 2 0' script='on mouseUp
	go stack "Armchair Shrink 2 0"
	end mouseUp'></button-part> <button-part icon=1000 name='Art History' script='on mouseUp
	go stack "Art History"
	end mouseUp'></button-part> <button-part icon=1000 name='A Trip to the Pond' script='on mouseUp
	go stack "A Trip to the Pond"
	end mouseUp'></button-part> <button-part icon=1000 name='Auto Maintenance Stack' script='on mouseUp
	go stack "Auto Maintenance Stack"
	end mouseUp'></button-part> <button-part icon=1000 name='Avatar Meher Baba' script='on mouseUp
	go stack "Avatar Meher Baba"
	end mouseUp'></button-part> <button-part icon=1000 name='Baby monitor' script='on mouseUp
	go stack "Baby monitor"
	end mouseUp'></button-part> <button-part icon=1000 name='Basic Social Processes' script='on mouseUp
	go stack "Basic Social Processes"
	end mouseUp'></button-part> <button-part icon=1000 name='Believe It Or Else' script='on mouseUp
	go stack "Believe It Or Else"
	end mouseUp'></button-part> <button-part icon=1000 name='Betty Boop' script='on mouseUp
	go stack "Betty Boop"
	end mouseUp'></button-part> <button-part icon=1000 name='Beverage Bonanza' script='on mouseUp
	go stack "Beverage Bonanza"
	end mouseUp'></button-part> <button-part icon=1000 name='Beyond HyperCard' script='on mouseUp
	go stack "Beyond HyperCard"
	end mouseUp'></button-part> <button-part icon=1000 name='Bird Anatomy' script='on mouseUp
	go stack "Bird Anatomy"
	end mouseUp'></button-part> <button-part icon=1000 name='Blazing Saddles' script='on mouseUp
	go stack "Blazing Saddles"
	end mouseUp'></button-part> <button-part icon=1000 name='box monitor 1 2' script='on mouseUp
	go stack "box monitor 1 2"
	end mouseUp'></button-part> <button-part icon=1000 name='Brads Icons' script='on mouseUp
	go stack "Brads Icons"
	end mouseUp'></button-part> <button-part icon=1000 name=Calvin script='on mouseUp
	go stack "Calvin"
	end mouseUp'></button-part> <button-part icon=1000 name='Castle Quest' script='on mouseUp
	go stack "Castle Quest"
	end mouseUp'></button-part> <button-part icon=1000 name='CAT BOX 1 0' script='on mouseUp
	go stack "CAT BOX 1 0"
	end mouseUp'></button-part> <button-part icon=1000 name=Catpot script='on mouseUp
	go stack "Catpot"
	end mouseUp'></button-part> <button-part icon=1000 name='Chaos Control 3' script='on mouseUp
	go stack "Chaos Control 3"
	end mouseUp'></button-part> <button-part icon=1000 name=Chevrotine script='on mouseUp
	go stack "Chevrotine"
	end mouseUp'></button-part> <button-part icon=1000 name='Cinrods Cube' script='on mouseUp
	go stack "Cinrods Cube"
	end mouseUp'></button-part> <button-part icon=1000 name='Clam And Craft Demo' script='on mouseUp
	go stack "Clam And Craft Demo"
	end mouseUp'></button-part> <button-part icon=1000 name='Clinton Issues Stack' script='on mouseUp
	go stack "Clinton Issues Stack"
	end mouseUp'></button-part> <button-part icon=1000 name='Clue Deluxe' script='on mouseUp
	go stack "Clue Deluxe"
	end mouseUp'></button-part> <button-part icon=1000 name='Clue Deluxe J' script='on mouseUp
	go stack "Clue Deluxe J"
	end mouseUp'></button-part> <button-part icon=1000 name='CocaCola Stack' script='on mouseUp
	go stack "CocaCola Stack"
	end mouseUp'></button-part> <button-part icon=1000 name='Account/Coffee' script='on mouseUp
	go stack "Account/Coffee"
	end mouseUp'></button-part> <button-part icon=1000 name='AnotherAccount/ColorBevel' script='on mouseUp
	go stack "AnotherAccount/ColorBevel"
	end mouseUp'></button-part> <button-part icon=1000 name='Common Ions' script='on mouseUp
	go stack "Common Ions"
	end mouseUp'></button-part> <button-part icon=1000 name='Confusing Words' script='on mouseUp
	go stack "Confusing Words"
	end mouseUp'></button-part> <button-part icon=1000 name=Cookbook script='on mouseUp
	go stack "Cookbook"
	end mouseUp'></button-part> <button-part icon=1000 name=Copperfield script='on mouseUp
	go stack "Copperfield"
	end mouseUp'></button-part> <button-part icon=1000 name=Corn script='on mouseUp
	go stack "Corn"
	end mouseUp'></button-part> <button-part icon=1000 name='C Plus Plus' script='on mouseUp
	go stack "C Plus Plus"
	end mouseUp'></button-part> <button-part icon=1000 name='Crank Call' script='on mouseUp
	go stack "Crank Call"
	end mouseUp'></button-part> <button-part icon=1000 name='JohnMalay/Death Mall 3000' script='on mouseUp
	go stack "JohnMalay/Death Mall 3000"
	end mouseUp'></button-part> <button-part icon=1000 name='Desert of the Real' script='on mouseUp
	go stack "Desert of the Real"
	end mouseUp'></button-part> <button-part icon=1000 name=DoodlePaint script='on mouseUp
	go stack "DoodlePaint"
	end mouseUp'></button-part> <button-part icon=1000 name=DragonSword script='on mouseUp
	go stack "DragonSword"
	end mouseUp'></button-part> <button-part icon=1000 name='ThoruYamamoto/Drug Store English' script='on mouseUp
	go stack "ThoruYamamoto/Drug Store English"
	end mouseUp'></button-part> <button-part icon=1000 name='Edgar Allan Poe' script='on mouseUp
	go stack "Edgar Allan Poe"
	end mouseUp'></button-part> <button-part icon=1000 name=EFFECTS script='on mouseUp
	go stack "EFFECTS"
	end mouseUp'></button-part> <button-part icon=1000 name=ElfBalls script='on mouseUp
	go stack "ElfBalls"
	end mouseUp'></button-part> <button-part icon=1000 name=EmoraKart script='on mouseUp
	go stack "EmoraKart"
	end mouseUp'></button-part> <button-part icon=1000 name='Evolution Essay 4 0' script='on mouseUp
	go stack "Evolution Essay 4 0"
	end mouseUp'></button-part> <button-part icon=1000 name='Falling Star' script='on mouseUp
	go stack "Falling Star"
	end mouseUp'></button-part> <button-part icon=1000 name='First Mission' script='on mouseUp
	go stack "First Mission"
	end mouseUp'></button-part> <button-part icon=1000 name='FLUX Spring 93 v1 3' script='on mouseUp
	go stack "FLUX Spring 93 v1 3"
	end mouseUp'></button-part> <button-part icon=1000 name='Foul Airs' script='on mouseUp
	go stack "Foul Airs"
	end mouseUp'></button-part> <button-part icon=1000 name=Fragments script='on mouseUp
	go stack "Fragments"
	end mouseUp'></button-part> <button-part icon=1000 name='Fundamental Physics Thermo' script='on mouseUp
	go stack "Fundamental Physics Thermo"
	end mouseUp'></button-part> <button-part icon=1000 name='German Color Flashcards' script='on mouseUp
	go stack "German Color Flashcards"
	end mouseUp'></button-part> <button-part icon=1000 name='AndrewGriffin/GetRichQuick' script='on mouseUp
	go stack "AndrewGriffin/GetRichQuick"
	end mouseUp'></button-part> <button-part icon=1000 name='grady the girl scout comic book' script='on mouseUp
	go stack "grady the girl scout comic book"
	end mouseUp'></button-part> <button-part icon=1000 name='Guide to HyperCard' script='on mouseUp
	go stack "Guide to HyperCard"
	end mouseUp'></button-part> <button-part icon=1000 name='Haiku Master' script='on mouseUp
	go stack "Haiku Master"
	end mouseUp'></button-part> <button-part icon=1000 name='HC FAQ 1 2 1' script='on mouseUp
	go stack "HC FAQ 1 2 1"
	end mouseUp'></button-part> <button-part icon=1000 name='HOW TO JUGGLE 1 0' script='on mouseUp
	go stack "HOW TO JUGGLE 1 0"
	end mouseUp'></button-part> <button-part icon=1000 name=Hydrocarbons script='on mouseUp
	go stack "Hydrocarbons"
	end mouseUp'></button-part> <button-part icon=1000 name='Hyperbola 1 1' script='on mouseUp
	go stack "Hyperbola 1 1"
	end mouseUp'></button-part> <button-part icon=1000 name=HyperBoreas script='on mouseUp
	go stack "HyperBoreas"
	end mouseUp'></button-part> <button-part icon=1000 name='HyperCard 10th Anniversary' script='on mouseUp
	go stack "HyperCard 10th Anniversary"
	end mouseUp'></button-part> <button-part icon=1000 name='HyperCard Basics 1' script='on mouseUp
	go stack "HyperCard Basics 1"
	end mouseUp'></button-part> <button-part icon=1000 name='HyperCard Basics 2' script='on mouseUp
	go stack "HyperCard Basics 2"
	end mouseUp'></button-part> <button-part icon=1000 name='HyperCard Explained ' script='on mouseUp
	go stack "HyperCard Explained "
	end mouseUp'></button-part> <button-part icon=1000 name='HyperNetwork CHESS 3 4' script='on mouseUp
	go stack "HyperNetwork CHESS 3 4"
	end mouseUp'></button-part> <button-part icon=1000 name='HyperPoem by William Dickey' script='on mouseUp
	go stack "HyperPoem by William Dickey"
	end mouseUp'></button-part> <button-part icon=1000 name=HyperQuest script='on mouseUp
	go stack "HyperQuest"
	end mouseUp'></button-part> <button-part icon=1000 name='Hyper Wordle' script='on mouseUp
	go stack "Hyper Wordle"
	end mouseUp'></button-part> <button-part icon=1000 name='HyperZener 2 0' script='on mouseUp
	go stack "HyperZener 2 0"
	end mouseUp'></button-part> <button-part icon=1000 name=Iceland script='on mouseUp
	go stack "Iceland"
	end mouseUp'></button-part> <button-part icon=1000 name='If Monks Had Macs' script='on mouseUp
	go stack "If Monks Had Macs"
	end mouseUp'></button-part> <button-part icon=1000 name='Inigo gets out' script='on mouseUp
	go stack "Inigo gets out"
	end mouseUp'></button-part> <button-part icon=1000 name='Inigo Goes to Hell' script='on mouseUp
	go stack "Inigo Goes to Hell"
	end mouseUp'></button-part> <button-part icon=1000 name='Inigos Snack' script='on mouseUp
	go stack "Inigos Snack"
	end mouseUp'></button-part> <button-part icon=1000 name='Inigo Takes a Bath' script='on mouseUp
	go stack "Inigo Takes a Bath"
	end mouseUp'></button-part> <button-part icon=1000 name=Instruments script='on mouseUp
	go stack "Instruments"
	end mouseUp'></button-part> <button-part icon=1000 name='Intergalactic Adventure' script='on mouseUp
	go stack "Intergalactic Adventure"
	end mouseUp'></button-part> <button-part icon=1000 name='In the World of Golf Demo' script='on mouseUp
	go stack "In the World of Golf Demo"
	end mouseUp'></button-part> <button-part icon=1000 name=jazzquest script='on mouseUp
	go stack "jazzquest"
	end mouseUp'></button-part> <button-part icon=1000 name='Jeez Another Recipe Stack' script='on mouseUp
	go stack "Jeez Another Recipe Stack"
	end mouseUp'></button-part> <button-part icon=1000 name='JFK2a DEMO' script='on mouseUp
	go stack "JFK2a DEMO"
	end mouseUp'></button-part> <button-part icon=1000 name='Jimi Hendrix' script='on mouseUp
	go stack "Jimi Hendrix"
	end mouseUp'></button-part> <button-part icon=1000 name='John Henry' script='on mouseUp
	go stack "John Henry"
	end mouseUp'></button-part> <button-part icon=1000 name=journal script='on mouseUp
	go stack "journal"
	end mouseUp'></button-part> <button-part icon=1000 name=KARATEstack script='on mouseUp
	go stack "KARATEstack"
	end mouseUp'></button-part> <button-part icon=1000 name='Keyboard Stack' script='on mouseUp
	go stack "Keyboard Stack"
	end mouseUp'></button-part> <button-part icon=1000 name='Kobiashi Moru v 1 2' script='on mouseUp
	go stack "Kobiashi Moru v 1 2"
	end mouseUp'></button-part> <button-part icon=1000 name='Lake Navaisha Kenya v0 5' script='on mouseUp
	go stack "Lake Navaisha Kenya v0 5"
	end mouseUp'></button-part> <button-part icon=1000 name='Learn Tibetan' script='on mouseUp
	go stack "Learn Tibetan"
	end mouseUp'></button-part> <button-part icon=1000 name=LightHouse script='on mouseUp
	go stack "LightHouse"
	end mouseUp'></button-part> <button-part icon=1000 name='AndrewGriffin/LostAndFound' script='on mouseUp
	go stack "AndrewGriffin/LostAndFound"
	end mouseUp'></button-part> <button-part icon=1000 name='LOTTO Mania' script='on mouseUp
	go stack "LOTTO Mania"
	end mouseUp'></button-part> <button-part icon=1000 name='LYME v2' script='on mouseUp
	go stack "LYME v2"
	end mouseUp'></button-part> <button-part icon=1000 name='MacChef 2 0 3' script='on mouseUp
	go stack "MacChef 2 0 3"
	end mouseUp'></button-part> <button-part icon=1000 name='Mac Desktop' script='on mouseUp
	go stack "Mac Desktop"
	end mouseUp'></button-part> <button-part icon=1000 name='Make Noise' script='on mouseUp
	go stack "Make Noise"
	end mouseUp'></button-part> <button-part icon=1000 name='Martin Mystere' script='on mouseUp
	go stack "Martin Mystere"
	end mouseUp'></button-part> <button-part icon=1000 name=MathGrapher script='on mouseUp
	go stack "MathGrapher"
	end mouseUp'></button-part> <button-part icon=1000 name='merryxmas HC virus' script='on mouseUp
	go stack "merryxmas HC virus"
	end mouseUp'></button-part> <button-part icon=1000 name=Minerals script='on mouseUp
	go stack "Minerals"
	end mouseUp'></button-part> <button-part icon=1000 name=MiniCastlodion script='on mouseUp
	go stack "MiniCastlodion"
	end mouseUp'></button-part> <button-part icon=1000 name='Murder on Main Street' script='on mouseUp
	go stack "Murder on Main Street"
	end mouseUp'></button-part> <button-part icon=1000 name='Museum Without Walls' script='on mouseUp
	go stack "Museum Without Walls"
	end mouseUp'></button-part> <button-part icon=1000 name='Nirvana Information Stack' script='on mouseUp
	go stack "Nirvana Information Stack"
	end mouseUp'></button-part> <button-part icon=1000 name=NirvanaStack script='on mouseUp
	go stack "NirvanaStack"
	end mouseUp'></button-part> <button-part icon=1000 name=Numberup script='on mouseUp
	go stack "Numberup"
	end mouseUp'></button-part> <button-part icon=1000 name='Oblique Strategies' script='on mouseUp
	go stack "Oblique Strategies"
	end mouseUp'></button-part> <button-part icon=1000 name='Outlive v 1 0 Demo' script='on mouseUp
	go stack "Outlive v 1 0 Demo"
	end mouseUp'></button-part> <button-part icon=1000 name=P script='on mouseUp
	go stack "P"
	end mouseUp'></button-part> <button-part icon=1000 name='Paper Crane' script='on mouseUp
	go stack "Paper Crane"
	end mouseUp'></button-part> <button-part icon=1000 name=PathStack script='on mouseUp
	go stack "PathStack"
	end mouseUp'></button-part> <button-part icon=1000 name='Peggies MallTalk 1' script='on mouseUp
	go stack "Peggies MallTalk 1"
	end mouseUp'></button-part> <button-part icon=1000 name='Periodic Table 2 2 2' script='on mouseUp
	go stack "Periodic Table 2 2 2"
	end mouseUp'></button-part> <button-part icon=1000 name='Piano 2 0 1' script='on mouseUp
	go stack "Piano 2 0 1"
	end mouseUp'></button-part> <button-part icon=1000 name='piano keys' script='on mouseUp
	go stack "piano keys"
	end mouseUp'></button-part> <button-part icon=1000 name='Picture Hanger' script='on mouseUp
	go stack "Picture Hanger"
	end mouseUp'></button-part> <button-part icon=1000 name=player_piano script='on mouseUp
	go stack "player_piano"
	end mouseUp'></button-part> <button-part icon=1000 name=Proverbs script='on mouseUp
	go stack "Proverbs"
	end mouseUp'></button-part> <button-part icon=1000 name='Q A 60s Rock' script='on mouseUp
	go stack "Q A 60s Rock"
	end mouseUp'></button-part> <button-part icon=1000 name='Quiz Me Alabama' script='on mouseUp
	go stack "Quiz Me Alabama"
	end mouseUp'></button-part> <button-part icon=1000 name='Radio Codes' script='on mouseUp
	go stack "Radio Codes"
	end mouseUp'></button-part> <button-part icon=1000 name=Reel script='on mouseUp
	go stack "Reel"
	end mouseUp'></button-part> <button-part icon=1000 name='Rude Wazir' script='on mouseUp
	go stack "Rude Wazir"
	end mouseUp'></button-part> <button-part icon=1000 name='Seinfeld 1 0' script='on mouseUp
	go stack "Seinfeld 1 0"
	end mouseUp'></button-part> <button-part icon=1000 name='Shape Game' script='on mouseUp
	go stack "Shape Game"
	end mouseUp'></button-part> <button-part icon=1000 name='AndrewGriffin/ShatteredStone' script='on mouseUp
	go stack "AndrewGriffin/ShatteredStone"
	end mouseUp'></button-part> <button-part icon=1000 name='SLH One Last Year' script='on mouseUp
	go stack "SLH One Last Year"
	end mouseUp'></button-part> <button-part icon=1000 name='Sofias Little Bear' script='on mouseUp
	go stack "Sofias Little Bear"
	end mouseUp'></button-part> <button-part icon=1000 name='spiral notebook' script='on mouseUp
	go stack "spiral notebook"
	end mouseUp'></button-part> <button-part icon=1000 name=Squirt script='on mouseUp
	go stack "Squirt"
	end mouseUp'></button-part> <button-part icon=1000 name=SSNostalgia script='on mouseUp
	go stack "SSNostalgia"
	end mouseUp'></button-part> <button-part icon=1000 name='Stack Blazer Palette' script='on mouseUp
	go stack "Stack Blazer Palette"
	end mouseUp'></button-part> <button-part icon=1000 name=Stress script='on mouseUp
	go stack "Stress"
	end mouseUp'></button-part> <button-part icon=1000 name='ST TNG 1 0' script='on mouseUp
	go stack "ST TNG 1 0"
	end mouseUp'></button-part> <button-part icon=1000 name=Sundial script='on mouseUp
	go stack "Sundial"
	end mouseUp'></button-part> <button-part icon=1000 name=Symbols script='on mouseUp
	go stack "Symbols"
	end mouseUp'></button-part> <button-part icon=1000 name='Tarot Reader 3 1 1' script='on mouseUp
	go stack "Tarot Reader 3 1 1"
	end mouseUp'></button-part> <button-part icon=1000 name='Technical Notes Stack 4 0 1' script='on mouseUp
	go stack "Technical Notes Stack 4 0 1"
	end mouseUp'></button-part> <button-part icon=1000 name='Techniques 5 0' script='on mouseUp
	go stack "Techniques 5 0"
	end mouseUp'></button-part> <button-part icon=1000 name=Thalassemia script='on mouseUp
	go stack "Thalassemia"
	end mouseUp'></button-part> <button-part icon=1000 name='The BeerStack 1' script='on mouseUp
	go stack "The BeerStack 1"
	end mouseUp'></button-part> <button-part icon=1000 name='The Bee v 1 2' script='on mouseUp
	go stack "The Bee v 1 2"
	end mouseUp'></button-part> <button-part icon=1000 name='The Complete Works of Mozart' script='on mouseUp
	go stack "The Complete Works of Mozart"
	end mouseUp'></button-part> <button-part icon=1000 name='The Dark Bible v1 5' script='on mouseUp
	go stack "The Dark Bible v1 5"
	end mouseUp'></button-part> <button-part icon=1000 name='The Enterprise Stack' script='on mouseUp
	go stack "The Enterprise Stack"
	end mouseUp'></button-part> <button-part icon=1000 name='The Gear Inch Calculator' script='on mouseUp
	go stack "The Gear Inch Calculator"
	end mouseUp'></button-part> <button-part icon=1000 name='The Meaning of Life 2 0' script='on mouseUp
	go stack "The Meaning of Life 2 0"
	end mouseUp'></button-part> <button-part icon=1000 name='The Oracle' script='on mouseUp
	go stack "The Oracle"
	end mouseUp'></button-part> <button-part icon=1000 name='Tiny Tim' script='on mouseUp
	go stack "Tiny Tim"
	end mouseUp'></button-part> <button-part icon=1000 name='Too Much Joy' script='on mouseUp
	go stack "Too Much Joy"
	end mouseUp'></button-part> <button-part icon=1000 name='Trip Around Oregon' script='on mouseUp
	go stack "Trip Around Oregon"
	end mouseUp'></button-part> <button-part icon=1000 name='Twin Peaks 1st Season' script='on mouseUp
	go stack "Twin Peaks 1st Season"
	end mouseUp'></button-part> <button-part icon=1000 name='Uncle Fudds Treasure 2 0' script='on mouseUp
	go stack "Uncle Fudds Treasure 2 0"
	end mouseUp'></button-part> <button-part icon=1000 name='Usable Icons' script='on mouseUp
	go stack "Usable Icons"
	end mouseUp'></button-part> <button-part icon=1000 name='US Map' script='on mouseUp
	go stack "US Map"
	end mouseUp'></button-part> <button-part icon=1000 name=v2020 script='on mouseUp
	go stack "v2020"
	end mouseUp'></button-part> <button-part icon=1000 name='Virus Encyclopedia' script='on mouseUp
	go stack "Virus Encyclopedia"
	end mouseUp'></button-part> <button-part icon=1000 name='Voyager Engineering' script='on mouseUp
	go stack "Voyager Engineering"
	end mouseUp'></button-part> <button-part icon=1000 name='VS Sounds' script='on mouseUp
	go stack "VS Sounds"
	end mouseUp'></button-part> <button-part icon=1000 name='Wedding Madness 1 0' script='on mouseUp
	go stack "Wedding Madness 1 0"
	end mouseUp'></button-part> <button-part icon=1000 name='Wetlands v 2 2' script='on mouseUp
	go stack "Wetlands v 2 2"
	end mouseUp'></button-part> <button-part icon=1000 name=Whaling script='on mouseUp
	go stack "Whaling"
	end mouseUp'></button-part> <button-part icon=1000 name=Whoppers script='on mouseUp
	go stack "Whoppers"
	end mouseUp'></button-part> <button-part icon=1000 name=WOW script='on mouseUp
	go stack "WOW"
	end mouseUp'></button-part> <button-part icon=1000 name='Ziggy Gets Out' script='on mouseUp
	go stack "Ziggy Gets Out"
	end mouseUp'></button-part> <button-part icon=1000 name=Zkolada script='on mouseUp
	go stack "Zkolada"
	end mouseUp'></button-part><br></div>	
</field-part>
 
</card-part>
		
		<card-part bkgndid=2 name='What was HyperCard?' cantdelete=true class='' id=4 bitmap=''> <div slot='-1'><div>I made this in my spare time with apologies to the creators of HyperCard, to see how it would be on the modern web.<br></div><div><br></div><div> A HyperCard stack is like a pack of note cards that can be flipped through but stay in order. You can add or remove cards from your stack.<br></div><div><br></div><div> Each card can have <i>button</i> and <i>field parts</i> ; to edit them, choose the appropriate tool, then drag and resize them. <br></div><div><br></div><div> HyperCard auto-saved your stacks. Everything is online now, so you can make an account and share in <button-part type=standard autohilite=false name='🌐☰' textsize=12 id=1></button-part> . <br></div> </div> <button-part topleft=317,208 width=68 height=62 icon=1000 name='New Stack...' script='on mouseUp
					doMenu "New Stack..."
					end mouseUp
					' id=11></button-part> <button-part topleft=406,210 width=61 height=62 icon=26884 name='New Card...' script='on mouseUp
					visual effect scroll left slow
					doMenu "New Card"
					end mouseUp
					' id=15></button-part> </card-part>
		<card-part bkgndid=2 name='Adding parts to cards?' bitmap='data:image/gif;base64,R0lGODdhAASsArMAAAAAABAQEDAwMEBAQGBgYHBwcI+Pj5+fn7+/v8/Pz+/v7////wAAAAAAAAAAAAAAACH5BAkAAAwALAAAAAAABKwCAAT/kMlJq7046827/2AojmRpnmiqrmzrvnAsz3Rt33iu73zv/8CgcEgsGo/IpHLJbDqf0Kh0Sq1ar9isdsvter/gsHhMLpvP6LR6zW673/C4fE6v2+/4vH7P7/v/gIGCg4SFhoeIiYqLjI2Oj5CRkpOUlZaXmJmam5ydnp+goaKjpKWmp6ipqqusra6vsLGys7S1tre4ubq7vL2+v8DBwsPExcbHyMnKy8zNzs/Q0dLT1NXW19jZ2tvc3d7f4OHi4+Tl5ufo6err7O3u7/Dx8vP09fb3+Pn6+/z9/v8AAwocSLCgwYMIEypcyLChw4cQI0qcSLGixYsYM2rcyLGjx48g/0OKHEmypMmTKFOqXMmypcuXMGPKnEmzps2bOHPq3Mmzp8+fQIMKHUq0qNGjSJMqXcq0qdOnUKNKnUq1qtWrWLNq3cq1q9evYMOKHUu2rNmzaNOqXcu2rdu3cOPKnUu3rt27ePPq3cu3r9+/gAMLHky4sOHDiBMrXsy4sePHkCNLnky5suXLmDNr3sy5s+fPoEOLHk26tOnTqFOrXs26tevXsGPLnk27tu3buHPr3s27t+/fwIMLH068uPHjyJMrX868ufPn0KNLn069uvXr2LNr3869u/fv4MOLH0++vPnz6NOrX8++vfv38OPLn0+/vv37+PPr38+/v///AAYo4P+ABBZo4IEIJqjgggw26OCDEEYo4YQUVmjhhRhmqOGGHHbo4YcghijiiCSWaOKJKKao4oostujiizDGKOOMNNZo44045qjjjjz26OOPQAYp5JBEFmnkkUgmqeSSTDbp5JNQRinllFRWaeWVWGap5ZZcdunll2CGKeaYZJZp5plopqnmmmy26eabcMYp55x01mnnnXjmqeeefPbp55+ABirooIQWauihiCaq6KKMNuroo5BGKumklFZq6aWYZqrpppx26umnoIYq6qiklmrqqaimquqqrLbq6quwxirrrLTWauutuOaq66689urrr8AGK+ywxBZr7LHIJqvsssw26+z/s9BGK+201FZr7bXYZqvtttx26+234IYr7rjklmvuueimq+667Lbr7rvwxivvvPTWa++9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' id=6 class=''> <div slot='-1'><div>Make buttons and fields in the card or background layer. Double click or long press to access their properties.<br></div><div><br></div><div>Background parts are repeated on every card. Each card can contain parts and text of its own.</div> </div> <button-part type=roundrect name='card button 1' topleft=19,190 width=140 height=30 script='on mouseUp
					get "This is card button "
					put the number of me after it
					put "." & return & "set the name of me to" after it
					ask it with the short name of me
					if the result is empty 
					then set the name of me to it
					end mouseUp
					' id=2> </button-part> <field-part type=shadow topleft=342,136 width=147 height=72 textfont='sans-serif' script='on closeField
					answer me
					end closeField' id=3><div>This is card field 1.</div><div>Try typing.</div></field-part> </card-part>
		<card-part bkgndid=2 name='How do I make cards?' script='
on mouseDown
put "mouseDown in" && the target into the message box
get the ticks
wait 20 ticks
wait until the mouse is up
if the mouseLoc is within the rect of the target 
then put "mouseUp in" && the target into the message box
wait until the ticks > it + 20
wait 20 ticks
hide the message box
end mouseDown


			
			' bitmap='data:image/gif;base64,R0lGODdhAASsArMAAAAAAA4ODiAgIDU1NVFRUXd3d5qamsvLy+np6f///wAAAAAAAAAAAAAAAAAAAAAAACH5BAkAAAoALAAAAAAABKwCAAT/UMlJq7046827/2AojmRpnmiqrmzrvnAsz3Rt33iu73zv/8CgcEgsGo/IpHLJbDqf0Kh0Sq1ar9isdsvter/gsHhMLpvP6LR6zW673/C4fE6v2+/4vH7P7/v/gIGCg4SFhoeIiYqLjI2Oj5CRkpOUlZaXmJmam5ydnp+goaKjpKWmp6ipqqusra6vsLGys7S1tre4ubq7vL2+v8DBwsPExcbHyMnKy8zNzs/Q0dLT1NXW19jZ2tvc3d7f4OHi4+Tl5ufo6err7O3u7/Dx8vP09fb3+Pn6+/z9/v8AAwocSLCgwYMIEypcyLChw4cQI0qcSLGixYsYM2rcyLGjx48g/0OKHEmypMmTKFOqXMmypcuXMGPKnEmzps2bOHPq3Mmzp8+fQIMKHUq0qNGjSJMqXcq0qdOnUKNKnUq1qtWrWLNq3cq1q9evYMOKHUu2rNmzaNOqXcu2rdu3cOPKnUu3rt27ePPq3cu3r9+/gAMLHky4sOHDiBMrXsy4sePHkCNLnky5suXLmDNr3sy5s+fPoEOLHk26tOnTqFOrXs26tevXsGPLnk27tu3buHPr3s27t+/fwIMLH068uPHjyJMrX868ufPn0KNLn069uvXr2LNr3869u/fv4MOLH0++vPnz6NOrX8++vfv38OPLn0+/vv37+PPr38+/v///AAYo4P+ABBZo4IEIJqjgggw26OCDEEYo4YQUVmjhhRhmqOGGHHbo4YcghijiiCSWaOKJKKao4oostujiizDGKOOMNNZo44045qjjjjz26OOPQAYp5JBEFmnkkUgmqeSSTDbp5JNQRinllFRWaeWVWGap5ZZcdunll2CGKeaYZJZp5plopqnmmmy26eabcMYp55x01mnnnXjmqeeefPbp55+ABirooIQWauihiCaq6KKMNuroo5BGKumklFZq6aWYZqrpppx26umnoIYq6qiklmrqqaimquqqrLbq6quwxirrrLTWauutuOaq66689urrr8AGK+ywxBZr7LHIJqvsssw26+z/s9BGK+201FZr7bXYZqvtttx26+234IYr7rjklmvuueimq+667Lbr7rtLACAvvC3JCwC9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' id=5 class=''> <div slot='-1'><div>Create a new card with <button-part type=rectangle name='+' id=1 autohilite=false></button-part>. Every card has a <i>background. </i>Backgrounds are the layers behind groups of cards. Each card in a background can have its own card text in background fields.<br></div><div><br></div><div><br></div><div><br></div><div><br></div> </div> <button-part id=2 topleft=61,77 width=76 height=56 name=Stack hilite=true icon=1000 type=rectangle autohilite=false> </button-part> <button-part id=2 topleft=70,149 width=78 height=60 name=Backgrounds icon=29589 type=rectangle autohilite=false> </button-part> <button-part id=2 topleft=77,219 width=78 height=60 name=Cards icon=20186 type=rectangle autohilite=false> </button-part> <button-part id=2 topleft=285,134 width=119 height=57 name='Background Fields' icon=21711 type=rectangle autohilite=false> </button-part> <button-part id=2 topleft=177,78 width=88 height=78 name='Background Buttons' icon=27056 type=rectangle autohilite=false> </button-part> <button-part id=2 topleft=192,190 width=77 height=61 name='Card Buttons' icon=27056 type=rectangle autohilite=false> </button-part> <button-part id=2 topleft=297,221 width=145 height=56 name='Card Fields and Text' icon=21711 type=rectangle autohilite=false> </button-part> </card-part>
		
		<background-part id=2 script='on openCard
			set the name of bg btn 1 to the Short name of the next Card
			end openCard
			
			on sampleMessage
			answer "Background sees the message" with "pass sampleMessage"
			Pass sampleMessage
			end sampleMessage
					' bitmap='data:image/gif;base64,R0lGODdhAASsAqIAAAAAAEVFRW9vb////wAAAAAAAAAAAAAAACH5BAkAAAQALAAAAAAABKwCAAP/SLrc/jDKSau9OOvNu/9gKI5kaZ5oqq5s675wLM90bd94ru987//AoHBILBqPyKRyyWw6n9CodEqtWq/YrHbL7Xq/4LB4TC6bz+i0es1uu9/wuHxOr9vv+Lx+z+/7/4CBgoOEhYaHiImKi4yNjo+QkZKTlJWWl5iZmpucnZ6foKGio6SlpqeoqaqrrK2ur7CxsrO0tba3uLm6u7y9vr/AwcLDxMXGx8jJysvMzc7P0NHS09TV1tfY2drb3N3e3+Dh4uPk5ebn6Onq6+zt7u/w8fLz9PX29/j5+vv8/f7/AAMKHEiwoMGDCBMqXMiwocOHECNKnEixosWLGDNq3Mix/6PHjyBDihxJsqTJkyhTqlzJsqXLlzBjypxJs6bNmzhz6tzJs6fPn0CDCh1KtKjRo0iTKl3KtKnTp1CjSp1KtarVq1izat3KtavXr2DDih1LtqzZs2jTql3Ltq3bt3Djyp1Lt67du3jz6t3Lt6/fv4ADCx5MuLDhw4gTK17MuLHjx5AjS55MubLly5gza97MubPnz6BDix5NurTp06hTq17NurXr17Bjy55Nu7bt27hz697Nu7fv38CDCx9OvLjx48iTK1/OvLnz59CjS59Ovbr169iza9/Ovbv37+DDix9Pvrz58+jTq1/Pvr379/Djy59Pv779+/jz69/Pv7////8ABijggAQWaOCBCCao4IIMNujggxBGKOGEFFZo4YUYZqjhhhx26OGHIIYo4ogklmjiiSimqOKKLLbo4oswxijjjDTWaOONOOao44489ujjj0AGKeSQRBZp5JFIJqnkkkw26eSTUEYp5ZRUVmnllVhmqeWWXHbp5ZdghinmmGSWaeaZaKap5ppstunmm3DGKeecdNZp55145qnnnnz26eefgAYq6KCEFmrooYgmquiijDbq6KOQRirppJRWaumlmGaq6aacdurpp6CGKuqopJZq6qmopqrqqqy26uqrsMYq66y01mrrrbjmquuuvPbq66/ABivssMQWa+yxyCar7LL/zDbr7LPQRivttNRWa+212Gar7bbcduvtt+CGK+645JZr7rnopqvuuuy26+678MYr77z01mvvvfjmq+++/Pbr778AByzwwAQXbPDB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'> <field-part showlines=true widemargins=false topleft=8,8 width=500 height=310 id=1 type=transparent bevel=''></field-part> <button-part type=roundrect topleft=135,305 width=220 height=30 name='How do I make cards?' script='-- see the background openCard handler
					
					on mouseUp
					visual effect dissolve
					go next card
					end mouseUp
					' id=2></button-part> </background-part>
		
		
				<card-part bkgndid=2 name='Painting and scripting?' bitmap='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABAAAAAKsCAYAAAByE88sAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAEAKADAAQAAAABAAACrAAAAACwU3uXAAA4vElEQVR4Ae3d2ZakNgwA0Jk5+f9f7oQk7uOioYBisS3deYFita6YB6lM9a9f/hEgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECHwi8PuTk5xDgAABAgQIECBAgAABAgSSCXzdGO8jtfkjN7kRyaUJECBAgAABAgQIECBAgMATAnc2AMr4b63Rb714icCSAAECBAgQIECAAAECBAgMLPBE8V94bqvTb7twGbklAQIECBAgQIAAAQIECBAYXODJBkChurxev/yCZaSWBAgQIECAAAECBAgQIEAggECL4r9mu6xuv+xC9eisEyBAgAABAgQIECBAgACBIAKtGwCF8XT9fvoCZSSWBAgQIECAAAECBAgQIEAgmEAvxX/N+nEd//GJ9d2tEyBAgAABAgQIECBAgACBgAI9NgAK8+F6/vAJ5U6WBAgQIECAAAECBAgQIEAgsEDPxX/Nvruu331gfXXrBAgQIECAAAECBAgQIEAguMAoDYCShs36fvOAciVLAgQIECBAgAABAgQIECCQRGC04r9Oy2qdv7qjPts6AQIECBAgQIAAAQIECBBIJDByA6Ck6Ue9/2NDOdKSAAECBAgQIECAAAECBAgkFIhQ/Ndp+677v1fqvdYJECBAgAABAgQIECBAgEBSgWgNgJLG3xoAhcKSAAECBAgQIECAAAECBLILRC3+/83rn+zZFT8BAgQIECBAgAABAgQIEMggYAZAhiyLkQABAgQIECBAgAABAgS2BEJ/+z8FbwbA1iNgPwECBAgQIECAAAECBAgQCCCgARAgiUIgQIAAAQIECBAgQIAAAQJbAl4B2BKynwABAgQIECBAgAABAgSiC4Sf/j8l0AyA6I+x+AgQIECAAAECBAgQIECAwD8CZgB4DAgQIECAAAECBAgQIEAgs0CKb/+nBJsBkPkxFzsBAgQIECBAgAABAgQIpBEwAyBNqgVKgAABAgQIECBAgAABAjOBNN/+T3GbATDLvo8ECBAgQIAAAQIECBAgQCCigAZAxKyKiQABAgQIECBAgAABAgQIzAS8AjAD8ZEAAQIECBAgQIAAAQIEUgikmv4/ZdQMgBTPtSAJECBAgAABAgQIECBAILuAGQDZnwDxEyBAgAABAgQIECBAIJ9Aum//pxSbAZDvQRcxAQIECBAgQIAAAQIECCQUMAMgYdKFTIAAAQIECBAgQIAAgcQCGb/9/7f2/ytx0oVOgAABAgQIECBAgAABAgQiC7x86e8VgMipFhsBAgQIECBAgAABAgQIZBV4Kf7/Qfiab8gKI24CBAgQIECAAAECBAgQiC+QYfr/vM7/jtkrAPEfcBESIECAAAECBAgQIECAQHyBeeE/Rfxd/E8fNAAmBf8IECBAgAABAgQIECBAgMC4AvPi/6XwL2HNDyrbLQkQIECAAAECBAgQIECAQCSBxaJ48ADnNf3bGM0AGDzbhk+AAAECBAgQIECAAAEC6QTmhf8E8Lb4nw5YOmna7h8BAgQIECBAgAABAgQIEIgisFkcDxTovI7fHZsZAANl2VAJECBAgAABAgQIECBAIK3Ax4V/EdMAKBKWBAgQIECAAAECBAgQIECgP4F54T+NcPe3/nU4Sxeq91snQIAAAQIECBAgQIAAAQIjC3xULHcQ8FK9fioWMwA6yKohECBAgAABAgQIECBAgACB/wUuL/yLrAZAkbAkQIAAAQIECBAgQIAAAQLtBG4r/EtISzco+ywJECBAgAABAgQIECBAgMDIAqemzD8U+FJdfsu4zQB4KKNuQ4AAAQIECBAgQIAAAQIEKoHHCv9yTw2AImFJgAABAgQIECBAgAABAgTuF3i88C8hLd247LMkQIAAAQIECBAgQIAAAQKjCtwyjf4ExlL9/egYzQA4kT2nEiBAgAABAgQIECBAgACBDYHmhX8ZnwZAkbAkQIAAAQIECBAgQIAAAQLXCXRT+JeQlgZU9lkSIECAAAECBAgQIECAAIERBR6dWj8DWqqzW47ne3hmAHxTWCFAgAABAgQIECBAgAABAh8LdFv4l4g0AIqEJQECBAgQIECAAAECBAgQOC7QfeFfQloaaNlnSYAAAQIECBAgQIAAAQIERhN4arr9Uj391L0/yokZAB+xOYkAAQIECBAgQIAAAQIEEgosFf0TQ9eFf8mTBkCRsCRAgAABAgQIECBAgAABAssCQxf+JaS1IMp+SwIECBAgQIAAAQIECBAgMIrA1d/EL9XMV9/jMVszAB6jdiMCBAgQIECAAAECBAgQGEQgVOFfzDUAioQlAQIECBAgQIAAAQIECGQWWCr6J49hv/GfJ3MtwPlxPhMgQIAAAQIECBAgQIAAgZ4FPi3Ul+riT6/Vs88vMwC6To/BESBAgAABAgQIECBAgMANAktF/3SbkIV/8dMAKBKWBAgQIECAAAECBAgQIBBdIGXhX5KqAVAkLAkQIECAAAECBAgQIEAgokDqor9O6BpEfYx1AgQIECBAgAABAgQIECDQs8B86v67Wnd+bM9xXTo2MwAu5XQxAgQIECBAgAABAgQIEGgosFb4py3661ys4dTHWCdAgAABAgQIECBAgAABAqMJKPpnGdMAmIH4SIAAAQIECBAgQIAAAQJDCyj8V9KnAbACYzMBAgQIECBAgAABAgQIDCOg6N+RKg2AHUgOIUCAAAECBAgQIECAAIHuBBT9B1OiAXAQzOEECBAgQIAAAQIECBAg0ExA0X+CXgPgBJ5TCRAgQIAAAQIECBAgQOB2AUX/RcQaABdBugwBAgQIECBAgAABAgQIXCqg8L+U89cvDYCLQV2OAAECBAgQIECAAAECBD4WUPR/TLd9ogbAtpEjCBAgQIAAAQIECBAgQOA+AUX/fbYvV9YAeOHwgQABAgQIECBAgAABAgRuFlDw3wy8dnkNgDUZ2wkQIECAAAECBAgQIEDgKgFF/1WSJ66jAXACz6kECBAgQIAAAQIECBAgsCqg6F+labNDA6CNu7sSIECAAAECBAgQIEAgmoCCv/OMagB0niDDI0CAAAECBAgQIECAQMcCiv6OkzMfmgbAXMRnAgQIECBAgAABAgQIEFgTUPCvyQywXQNggCQZIgECBAgQIECAAAECBBoKKPob4l95aw2AKzVdiwABAgQIECBAgAABAuMLKPjHz+FiBBoAiyw2EiBAgAABAgQIECBAII2Agj9JqjUAkiRamAQIECBAgAABAgQIEPhfQMGf9FHQAEiaeGETIECAAAECBAgQIJBCQLGfIs37gtQA2OfkKAIECBAgQIAAAQIECIwgoOAfIUuNxqgB0AjebQkQIECAAAECBAgQIHBSQLF/EjDb6RoA2TIuXgIECBAgQIAAAQIERhRQ7I+Ytc7GrAHQWUIMhwABAgQIECBAgACB9AKK/fSPwD0AGgD3uLoqAQIECBAgQIAAAQIEtgQU+ltC9l8qoAFwKaeLESBAgAABAgQIECBA4IeAQv8HiQ0tBDQAWqi7JwECBAgQIECAAAECEQUU+hGzGigmDYBAyRQKAQIECBAgQIAAAQK3CkwF/lRDKfRvZXbxuwQ0AO6SdV0CBAgQIECAAAECBEYTUNiPljHjPSSgAXCIy8EECBAgQIAAAQIECAwm4Fv7wRJmuPcJaADcZ+vKBAgQIECAAAECBKIJlGJ6iqtevzrO+tplfVr6R4DACQENgBN4TiVAgAABAgQIECCQTEARnizhwo0l8CdWOKIhQIAAAQIECBAgQIAAAQIElgQ0AJZUbCNAgAABAgQIECBAgAABAsEENACCJVQ4BAgQIECAAAECBAgQIEBgSUADYEnFNgIECBAgQIAAAQIECBAgEExAAyBYQoVDgAABAgQIECBAgAABAgSWBDQAllRsI0CAAAECBAgQIECAAAECwQQ0AIIlVDgECBAgQIAAAQIECBAgQGBJQANgScU2AgQIECBAgAABAgQIECAQTEADIFhChUOAAAECBAgQIECAAAECBJYENACWVGwjQIAAAQIECBAgQIAAAQLBBH4Hi0c4BAgQIECAAAECBAjcK/B17+VdnQCBuwQ0AO6SdV0CBAgQIECAAAEC8QQU//FyKqJEAl4BSJRsoRIgQIAAAQIECBAgQIBAXgEzAPLmXuQECBAgQIAAAQIEPhEwC+ATNecQ6EDADIAOkmAIBAgQIECAAAECBAgQIEDgbgEzAO4Wdn0CBAgQIECAAAECcQR8+x8nlyJJKKABkDDpQiZAgAABAgQIECBwQkAT4ASeUwm0FPAKQEt99yZAgAABAgQIECBAgAABAg8JaAA8BO02BAgQIECAAAECBAgQIECgpYAGQEt99yZAgAABAgQIECBAgAABAg8JaAA8BO02BAgQIECAAAECBAgQIECgpYAGQEt99yZAgAABAgQIECBAgAABAg8JaAA8BO02BAgQIECAAAECBAgQIECgCHx9Pf8HNfwZwKJvSYAAAQIECBAgQIDAHoHnq5Y9o3IMgQ4Fzhb5v39fW7Jfe7UOwQ2JAAECBAgQIECAAIFLBTQALuV0sUgCZwv+LYuzDQENgC1h+wkQIECAAAECBAgQqAU0AGoN6+kF7i76l4A/bQRoACxp2kaAAAECBAgQIECAwDsBTYB3OvalEGhR+C/BHmkGaAAsCdpGgAABAgQIECBAgMA7AQ2Adzr2hRbopfCvkfc2ATQAajXrBAgQIECAAAECBAhsCSj+t4TsDyvQY/FfY281AjQAai3rBAgQIECAAAECBAjsEdAE2KPkmDACvRf+c+i1RsCf+YE+EyBAgAABAgQIECBAgAABAv8JjFb8T6NeG7MGgKeaAAECBAgQIECAAAECBAgsCKwV0guHdrdpaexeAeguTQZEgAABAgQIECBAoHsBrwB0nyIDPCOwVDyfuV7Lc+vXAcwAaJkJ9yZAgAABAgQIECBAgAABAjcK1M0MMwBuhHZpAgQIECBAgAABAkEFzAAImtjsYdXFcjSLaSaABkC0rIqHAAECBAgQIECAwDMCmgDPOLvLgwKRGwATo1cAHnyY3IoAAQIECBAgQIAAAQIE+hSIXvxP6mYA9PnsGRUBAgQIECBAgACBngV8+99zdoztsECG4n9C0QA4/Gg4gQABAgQIECBAgACBfwQ0ATwGIQSyFP9Tsv4KkTFBECBAgAABAgQIECBAgACBRALlz/tNDYyyvhW+GQBbQvYTIECAAAECBAgQILAkYAbAkoptQwmM8O3/3uJ+D7wZAHuUHEOAAAECBAgQIECAAAECoQR6LP6vLPaXkqUBsKRiGwECBAgQIECAAAECBAgQuFng7oJ/PnyvAMxFfCZAgAABAgQIECBAYK+A1wD2SjmuK4FW3/4/XfDP0c0AmIv4TIAAAQIECBAgQIAAAQIELhBoXfDPQ9AAmIv4TIAAAQIECBAgQIAAAQJhBe7+9r+3or9OpAZArWGdAAECBAgQIECAAAECBAgcFOi56K9D0QCoNawTIECAAAECBAgQIECAAIEdAqMU/XUoGgC1hnUCBAgQIECAAAECBAgQCCtwdvr/iEV/nUwNgFrDOgECBAgQIECAAAECBAgQmAmMXviXcDQAioQlAQIECBAgQIAAAQJHBaY/K+5PAR5Vc/wQAlGK/hpbA6DWsE6AAAECBAgQIECAAAECIQX2Tv+PWPiXhGoAFAlLAgQIECBAgAABAgQIEEgrELnwL0nVACgSlgQIECBAgAABAgQIECCQTiBD4V+SqgFQJCwJECBAgAABAgQIECBAII1ApsK/JPVPWbEkQIAAAQIECBAgQIDABwLTDwH6d1Jgej+9vKM+Xz95aacvCGQs/icG/1kXHgabCBAgQIAAAQIECBA4JOAvAezkKkX+zsNXD8tawK6C7Ngx2Wd30wDY8aA4hAABAgQIECBAgACBtwIaAG94rir639wifWH7zmbap/j/T0gDYOtJsZ8AAQIECBAgQIAAgS0BDYAFoScK//lts3/DPffw+VVAA+DVwycCBAgQIECAAAECBI4LaAD8b9ai6F9Ll2bAmkze7X4EMG/uRU6AAAECBAgQIECAwIUCPRX/U1i9jedCapf6UMAMgA/hnEaAAAECBAgQIECAwItA2lkAIxTaZgO8PKtpP2gApE29wAkQIECAAAECBAhcKpCyATBC8V9nWSOg1si3rgGQL+ciJkCAAAECBAgQIHCHQKoGwGiFf51wTYBaI9e63wDIlW/REiBAgAABAgQIECBwUmDk4n8KffTxn0xf6tPNAEidfsETIECAAAECBAgQuFQg/CyASMWzmQCXPvtDXMwMgCHSZJAECBAgQIAAAQIECLQWiFT8T5bR4mn9fIxwfw2AEbJkjAQIECBAgAABAgQINBWIWixHjavpw9LxzTUAOk6OoREgQIAAAQIECBAg0F4gepEcPb72T1A/I9AA6CcXRkKAAAECBAgQIECAQGcCWYrjLHF29ng9PhwNgMfJ3ZAAAQIECBAgQIBAWAE/Mj5wajUBBk7ezqFrAOyEchgBAgQIECBAgAABArkEFMS58p0h2r8yBClGAgQIECBAgAABAgQIHBEYsfj3Z/2OZDjnsRoAOfMuagIECBAgQIAAAQIEBhVQ6A+auA6G7R2dDpJgCAQIECBAgAABAgSCCXyNHE9v3/4r+Ed+mvoauxkAfeXDaAgQIECAAAECBAgQaCjQuvhX7DdMfoJbawAkSLIQCRAgQIAAAQIECBDoV0DR329uoo1MAyBaRsVDgAABAgQIECBAgMBHAk99+6/g/yg9TrpAQAPgAkSXIECAAAECBAgQIEDgRWD6rbGhfwfgJZoLPij6L0B0idMCGgCnCV2AAAECBAgQIECAAAECPwUU/T9NbGkroAHQ1t/dCRAgQIAAAQIECBDoQOCq6f+K/g6SaQirAhoAqzR2ECBAgAABAgQIECBAYFtA0b9t5Ig+BDQA+siDURAgQIAAAQIECBCIJhD+dwAU/tEe2fjxaADEz7EICRAgQIAAAQIECBB4I3Bk+r+i/w2kXd0LaAB0nyIDJECAAAECBAgQIECgtYDCv3UG3P8KAQ2AKxRdgwABAgQIECBAgACBkAIK/5BpTRuUBkDa1AucAAECBAgQIECAwO0Cw/4OgML/9mfDDRoIaAA0QHdLAgQIECBAgAABAgT6EJi//6/w7yMvRnGPwJ97LuuqBAgQIECAAAECBAgQGEtA8T9Wvoz2uIAGwHEzZxAgQIAAAQIECBAgsF9geg2g+3+K/+5TZIAXCAzxn/GCOF2CAAECBAgQIECAAIF2Al/tbu3OBAgUATMAioQlAQIECBAgQIAAAQIECBAILGAGQODkCo0AAQIECBAgQIBARwJmAXSUDEPJKWAGQM68i5oAAQIECBAgQIAAAQIEkgloACRLuHAJECBAgAABAgQIECBAIKeABkDOvIuaAAECBAgQIECAAAECBJIJ+A2AZAkXLgECBAgQIECAAIGGAn4HoCG+WxMwA8AzQIAAAQIECBAgQIAAAQIEEghoACRIshAJECBAgAABAgQIECBAgIBXADwDBAgQIECAAAECBAg8KeA1gCe13YtAJWAGQIVhlQABAgQIECBAgAABAgQIRBXQAIiaWXERIECAAAECBAgQIECAAIFKwCsAFYZVAgQIECBAgAABAgQeEfAawCPMbkLgVcAMgFcPnwgQIECAAAECBAgQIECAQEgBDYCQaRUUAQIECBAgQIAAAQIECBB4FfAKwKuHTwQIECBAgAABAgQIPCPgNYBnnN2FwLeAGQDfFFYIECBAgAABAgQIECBAgEBcAQ2AuLkVGQECBAgQIECAAAECBAgQ+BbwCsA3hRUCBAgQIECAAAECBB4W8BrAw+Bul1vADIDc+Rc9AQIECBAgQIAAAQIECCQRMAMgSaKFSYAAAQIECBAgQKBTAbMAOk2MYcUTMAMgXk5FRIAAAQIECBAgQIAAAQIEfghoAPwgsYEAAQIECBAgQIAAAQIECMQT8ApAvJyKiAABAgQIECBAgMBoAl4DGC1jxjukgBkAQ6bNoAkQIECAAAECBAgQIECAwDEBDYBjXo4mQIAAAQIECBAgQIAAAQJDCngFYMi0GTQBAgQIECBAgACBcAJeAwiXUgH1JmAGQG8ZMR4CBAgQIECAAAECBAgQIHCDgBkAN6C6JAECBAgQIECAAAECHwmYBfARm5MI7BMwA2Cfk6MIECBAgAABAgQIECBAgMDQAhoAQ6fP4AkQIECAAAECBAgQIECAwD4BrwDsc3IUAQIECBAgQIAAAQLPCHgN4Blnd0koYAZAwqQLmQABAgQIECBAgAABAgTyCZgBkC/nIiZAgAABAgQIECDQu4BZAL1nyPiGFDADYMi0GTQBAgQIECBAgAABAgQIEDgmoAFwzMvRBAgQIECAAAECBAgQIEBgSAGvAAyZNoMmQIAAAQIECBAgEF7AawDhUyzApwXMAHha3P0IECBAgAABAgQIECBAgEADATMAGqC7JQECBAgQIECAAAECuwTMAtjF5CAC+wTMANjn5CgCBAgQIECAAAECBAgQIDC0gBkAQ6fP4AkQIECAAAECBAiEFzALIHyKBfiUwN/gpFNiw5FkKgAAAABJRU5ErkJggg==' id=10 class=''> <div slot='-1'><div><span>Painting is done right on the cards. Just grab a pencil or a paint bucket and get creative with the black (shift) and white (option) and transparent (option shift) patterns.</span><br></div><div><br></div><div> Scripting wasn't necessary for most, but the key to learning scripting is to scroll down to the simulator's own script. You can see everything that's going on, and the <i>message box</i> evaluates xTalk expressions and commands with no judgment. </div><div><br></div><div><code>answer Word 2 of item 2 in "Now is, the part of the show, where we dance!" <button-part name='Send it!' type=standard script='
							on mouseUp
							answer Word 2 of item 2 in "Now is, the part of the show, where we dance!"
							end mouseUp
							' color='#ffffff' bevel=1 id=1> </button-part></code><br></div> </div> </card-part>
		<card-part bkgndid=2 name='How to write scripts?' script='on sampleMessage
					answer "Card sees the message" with "pass sampleMessage"
					pass sampleMessage
					end sampleMessage' class='' id=11 bitmap=''> <div slot='-1'><div> You can access the Script Editor by pressing <button-part type=standard autohilite=false name=Script... id=1></button-part> in the Information dialog, or Command-Option-click, or touch-hold, or hold down Shift while you double-click. <br></div><div><br></div><div> Scripts catch <i>messages</i> sent by the user, and can perform actions such as beeping or going to the next card, in <i>message handlers</i> like this one: <br></div><div><br></div><div><code>on mouseUp<br>  beep<br>  go next card<br>end mouseUp</code><br></div> </div> <button-part type=roundrect name='send sampleMessage to the card' topleft=328,173 width=125 height=69 script='on mouseUp
					send sampleMessage to the card
					end mouseUp
					' textfont=monospace id=2> </button-part> </card-part>
		
		<card-part name='The Yellow Card' bkgndid=1 bitmap='data:image/gif;base64,R0lGODdhAASsAvcAAAAAAAcHCAgHBwgHCAcIBwcICAgJBwsLCw8PEBAPDxAPEA8QDxAQDw8REBMTExcXGBgXFxgXGBcYGBgYFxsbGyAfIB8gHyAgHx4hICIiIicnKSgnKCcoKCgoJycpJysrKy8vMDAvLzAvMC8wLy8wMDAwLzMzMzc3ODg3Nzg3ODc4Njc4ODg4Nzs7Oz8/QEA/P0A/QD9APz9AQEBAP0REREdHSEhHR0hHSEZIR0lIR0ZJSUxMTE9PUFBPT1BPUE5QT09QUFBQT1RTU1dWWFhXV1hXWFdYV1hYVltbW2BfXmBfYF9gX2BgX19hYGRkZGdnaGhnZ2hnaGdoZ2doaGhoZ2xsbG9vcHBvb3BvcG5wb29wcHBwb3R0dHd3eHh3d3h3eHd4d3d4eHh4d3t7e3+Af4CAf3+CgYSEhIeHiIiHh4aIh4eIiIiIh4uLi4+PkZCPj5CPkI+Qj4+QkJCQj5KSkpeXmJiXl5iXmJeYl5eYmJiYl5ycnJ+foKCfn6CfoJ+gn5+goKCgn6SkpKanqKinp6inqKeop6iop6epqKytra6vsLCvrrCvsK6wr66wsLCwr7Ozs7e3ubi3t7i3uLe4t7e4uLi4t7m5ub+/wMC/v8C/wL/Av8DAv7/BwcTExMfHyMjHx8jHyMXIx8jIx8bJyMzMzM/P0NDPztDP0M/Qz8/Q0NDQz9PT09fX2NjX19jX2NfY19jY19fZ2Nzc3ODf4d/g4ODg3+Tk5Ofn6Ojn5+jn6Ofo5+fo6Ojo5+zs7O/v8fDv7/Dv8O7w8PDw7+7x7/Ly8vf3+Pj39/j3+Pf49/f4+Pj49////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAkAAM0ALAAAAAAABKwCAAj/AJsJHEiwoMGDCBMqXMiwocOHECNKnEixosWLGDNq3Mixo8ePIEOKHEmypMmTKFOqXMmypcuXMGPKnEmzps2bOHPq3Mmzp8+fQIMKHUq0qNGjSJMqXcq0qdOnUKNKnUq1qtWrWLNq3cq1q9evYMOKHUu2rNmzaNOqXcu2rdu3cOPKnUu3rt27ePPq3cu3r9+/gAMLHky4sOHDiBMrXsy4sePHkCNLnky5suXLmDNr3sy5s+fPoEOLHk26tOnTqFOrXs26tevXsGPLnk27tu3buHPr3s27t+/fwIMLH068uPHjyJMrX868ufPn0KNLn069uvXr2LNr3869u/fv4MOL/x9Pvrz58+jTq1/Pvr379/Djy59Pv779+/jz69/Pv7///wAGKOCABBZo4IEIJqjgggw26OCDEEYo4YQUVmjhhRhmqOGGHHbo4YcghijiiCSWaOKJKKao4oostujiizDGKOOMNNZo44045qjjjjz26OOPQAYp5JBEFmnkkUgmqeSSTDbp5JNQRinllFRWaeWVWGap5ZZcdunll2CGKeaYZJZp5plopqnmmmy26eabcMYp55x01mnnnXjmqeeefPbp55+ABirooIQWauihiCaq6KKMNuroo5BGKumklFZq6aWYZqrpppx26umnoIYq6qiklmrqqaimquqqrLbq6quwxv8q66y01mrrrbjmquuuvPbq66/ABivssMQWa+yxyCar7LLMNuvss9BGK+201FZr7bXYZqvtttx26+234IYr7rjklmvuueimq+667Lbr7rvwxivvvPTWa++9+Oar77789uvvvwAHLPDABBds8MEIJ6zwwgw37PDDEEcs8cQUV2zxxRhnrPHGHHfs8ccghyzyyCSXbPLJKKes8sost+zyyzDHLPPMNNds880456zzzjz37PPPQAct9NBEF2300UgnrfTSTDft9NNQRy311FRXbfXVWGet9dZcd+3112CHLfbYZJdt9tlop6322my37fbbcMct99x012333XjnrffefPf/7fffgAcu+OCEF2744YgnrvjijDfu+OOQRy755JRXniUzzFiOJuaan8l552V+DvqYoo8eZummf4l66l2uzvqWrr9+eeayexl77VbejjuVuu8uZe++Q4n58MQXb/zxyCev/PLMN+/889BHL/301Fdv/fXYZ6/99tx37/334Icv/vjkl2/++egXj1z67Lfv/vvwxy///PTXb//9+Oevv/zr7+///wAMoAAHSMACGvCACEwg8fqnwAY68IEQjKAEJ0jBCk4QOcXIoAY3yMEOevCDIAyhCEdIwhKa8IQoTKEKV8jCFrrwhTCM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' id=7 class=''> <div slot='-1'><div>Yellow card text</div></div> <field-part autoselect=true topleft=5,5 width=450 height=280 type=transparent id=1 script='on mouseUp
			put the value of the clickLine into fld 1
			end mouseUp'><div>Here is a yellow card!<br></div><div>set the color of this card to yellow<br></div><div><font color=red>Red card text</font><br></div><div>Yellow card text</div></field-part> <button-part topleft=292,10 width=214 height=31 type=popup name='☆☆☆☆:' autohilite=false script='
					
					on mouseUp
					get my selectedText
					if it is space then get empty
					set my name to it & char (the length of it + 1) to 5 of "☆☆☆☆:"
					end mouseUp
					' selectedline=1 bevel='' id=2> <br> ★ <br> ★★ <br> ★★★ <br> ★★★★ </button-part> <field-part type=scrolling topleft=321,50 width=182 height=81 color='#fff995' script='on mouseUp
					if the target contains "button" then
					get the target
					if the style of the target is in "Checkbox RadioButton"
					then put return & "the hilite is " && the hilite of the target after it
					else if the style of the target is "Popup"
					then put return & "the selectedText is " && the selectedText of the target after it
					answer it
					end if
					end mouseUP
					' bevel='-1' id=3><div> <font size='+2'>O</font>nce <button-part type=roundrect name=upon id=4> upon </button-part> a time there was a once upon a <button-part type=default name=time script='
						on mouseUp
						answer the time
						end mouseUp
						' id=5></button-part> there was a once upon a time there was a time upon once upon a time there was a time upon a time. <br></div><div><br></div><div>Here are some buttons:<br></div><div> <button-part name=Transparent id=6></button-part> <button-part type=Opaque name=Opaque id=7></button-part> <button-part type=Rectangle name=Rectangle id=8></button-part> <button-part type=Shadow name=Shadow id=9></button-part> <button-part type=RoundRect name=RoundRect id=10></button-part> <button-part type=Standard name=Standard id=11></button-part> <button-part type=Default name=Default id=12></button-part> <button-part type=Oval name=Oval id=13></button-part> <button-part type=Checkbox name=Checkbox hilite=true id=14></button-part> <button-part type=RadioButton name=Radio family=2 id=15></button-part> <button-part type=RadioButton name=Button family=2 hilite=true id=16></button-part> <button-part type=Popup name=Popup selectedline=3 id=17> One <br> Two <br> 3 <br> Four </button-part> <br></div> </field-part> <button-part type=roundrect name='put text after' color='#cce8b5' topleft=43,233 width=121 height=25 script='on mouseUp
					ask "Add something to the field." with fld 1 of this bkgnd
					if the result is not Cancel then put return&amp;it after card field 1
					end mouseUp
					' id=18> </button-part> <button-part family=1 type=default name='set color of card' topleft=330,200 width=175 height=36 script='

on mousedown
set the hilite of me to true
set the color of this card to the color of me
wait 30 ticks
end mousedown

on mousestilldown
if the hilite of me is true then set the color of this card to any word of "pink lightsalmon lemonchiffon thistle yellowgreen lightcyan"
else set the color of this card to the color of me
wait 30 ticks
end mousestilldown

on mouseup
set the color of me to the color of this card
end mouseup

on mousecancel
set the color of this card to the color of me
end mousecancel
			' bevel='' id=19 color='#ffe4a8'> </button-part> <button-part family=1 type=standard name='clear card color' topleft=330,243 width=175 height=30 script='

on mousedown
set the color of this card to empty
set the hilite of me to true
end mousedown
					' id=20 hilite=true></button-part> </card-part>
		<card-part color='#EFE' name='The Lime Card' bkgndid=2 script='
					on openCard
					if fld 1 is not empty and the last char of fld 1 is not return then put return after fld 1
					put "Welcome to the lime card! It is" && time() && on && date() & "." after field 1
					get char (char 1 of the time ) of "EDCBA987654321"
					set the color of this card to "#" & it & "F" & it
					pass openCard
					end openCard' bitmap='data:image/gif;base64,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JmHdkWimqeaabJpVICJERPnkD3J+NiGXWtKYJY0ZyuflcvLJ52OZbRZq6KGIJlrQknTOiUSTUEpyZZ554omnn4GKOSZzQCrq6aeghioqL3L/xvlkqUjgueWelGLa54V+jirrrLTWamsVkJrqBJeWsqrnrcAGK+ywxEKRa6SNEtHrr0rEKgWhxUYr7bTU/ndsFapWq+223Hbr7bfghivuuOSWa+656Kar7rrstuvuu/DGK++89NZr77345qvvvvz26++/AAcs8MAEF2zwwQgnrPDCDDfs8MMQRyzxxBRXbPHFGGes8cYcd+zxxyCHLPLIJJds8skop6zyyiy37PLLMMcs88w012zzzTjnrPPOPPfs889ABy300EQXbfTRSCet9NJMN+3001BHLfXUVFdt9dVYZ6311lx37fXXYIct9thkl2322WinrfbabLft9ttw/8ct99x012333VB4hffeVhSAAd+ABy44FXoPbngSBGRw+OKMN+7445BHLvnklFdu+eWYZ6755px37vnnoIcu+uikl2766ainrvrqrLfu+uuwxy777LTXbvvtuOeu++689+7778AHL/zwxBdv/PHIJ6/88sw37/zz0Ecv/fTUV2/99dhnr/323Hfv/ffghy/++OSXb/756Kev/vrst+/++/DHL//89Ndv//3456///vz37///AAygAAdIwAIa8IAITKACF8jABjrwgRCMoAQnSMEKWvCCGMygBjfIwQ568IMgDKEIR0jCEprwhChMoQpXyMIWuvCFMIyhDGdIwxra8AuGOMyhDnfIQ9iEAAA7' id=8 class=''> <div slot='-1'></div> </card-part>
		<card-part bkgndid=2 name='The Video Card' class='' id=9 bitmap=''> <field-part topleft=40,10 width=420 height=270 locktext=true id=1><div><video width=400 height=260 controls='' preload=none> <source src='https://hcsimulator.com/media-folder/hc-sim-trim.mp4' type='video/mp4'> </video><br></div> </field-part> <div slot='-1'><div><br></div></div> </card-part>
		<card-part bkgndid=2 name='Personal Notes' bitmap='data:image/gif;base64,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' script='
	on openCard
	set the hilite of cd btn "Arrow Keys In Text" to the textArrows
	pass openCard
	end openCard' id=12 class=''> <div slot='-1'><div><br></div></div> <button-part type=roundrect name=Factor topleft=59,198 width=137 height=29 script='
					on mouseUp
					repeat
					ask "Number to factor:"
					if it is empty or the result is "Cancel" then exit repeat
					else answer factor(it) & "=" & it
					end repeat
					end mouseUp
					
					function factor theNumber
					put empty into theFactors
					repeat with theDivisor = 2 to the sqrt of theNumber
					repeat while theNumber mod theDivisor is zero
					put theDivisor & "*" after theFactors
					divide theNumber by theDivisor
					end repeat
					if theNumber is one then exit repeat
					end repeat
					if theNumber is not one	then put theNumber after theFactors
					else delete last char of theFactors
					return theFactors
					end factor
					' id=1> </button-part> <button-part type=roundrect name='Guessing Game' topleft=20,150 width=150 height=30 script='on mouseUp
					put random of 100 into n
					repeat 6
					ask "please input number(1-100)?"
					if the result is Cancel then exit mouseUp
					if it < n then
					answer "more than" && it
					else if it > n then
					answer "less than" && it
					else if it is n then
					answer "perfect!"
					exit mouseUp
					end if
					end repeat
					answer "You lose, myy answer is " && n
					end mouseUp
					' id=2></button-part> <button-part type=roundrect name=Incremental topleft=299,198 width=140 height=30 script='
					on mouseUp
					put 0 into acc
					repeat
					answer "Accumulator:  " & acc with randomOf(acc) or randomOf(acc) or Done
					if it is Done then exit repeat
					put acc + it into acc
					end repeat
					answer "Your score was " & acc & "." with "Thanks for playing!"
					end mouseUp
					
					function randomOf acc
					get the random of sqrt(acc)+1
					if the random of 2 is 1 then return "-" & it
					return "+" & it
					end randomOf
					' id=3></button-part> <button-part type=roundrect name='Send Bug Report' topleft=335,248 width=156 height=28 script='on mouseUp
					global toldyet
					
					if toldyet is true then
					
					answer "Do you want to send the text of the card (" & quote & cd fld 1 & quote & ") to me?" with "Send It Now" or "No"
					if it is "Send It Now" then
					sendToMe cd fld 1
					end if
					else
					answer "Fill out the text on this card with your bug report, comment, or concern, then click again."
					put true into toldyet
					end if
					
					end mouseUp
					' id=4> </button-part> <button-part type=roundrect name='Spin Drawing' topleft=246,153 width=150 height=30 script='on mouseDown
			choose pencil tool
			repeat until the mouse is up
			put the ticks / 3  into radians
			drag from the mouseLoc to the mouseH + 70*sin(radians), the mouseV + 70*cos(radians)
			end repeat
			choose browse tool
			end mouseDown' id=2> </button-part> <button-part name=Harpsichord type=roundrect topleft=90,248 width=136 height=27 script='on mouseUp
			ask "Notes to play?" with "b3 c#4 d e f# g a#3 g4 f# e d c# d r f# r b r c# r b r a# r bw"
			if it is not empty then play "Harpsichord" tempo 380 it
			end mouseUp
			'> </button-part> <field-part widemargins=false topleft=10,30 width=495 height=115 id=1 type=transparent textsize=16 textstyle=bold class=bold textalign=left><div>You can use this page for your personal notes. Ha ha, no one does that.<br></div><div><br></div><div><br></div><div>1. Try all the buttons<br></div><div>2. Look at the scripts<br></div><div><br></div> </field-part> <button-part id=5 topleft=18,54 width=189 height=21 name='Arrow Keys In Text' type=checkbox script='on mouseUp
			set the textArrows to the hilite of me
			end mouseUp
			'> </button-part> </card-part>	
	</stack-part>	
	
</template>




	
	



	
<script>"use strict";
	
	var placeimportsbefore = body.qs('#reference #placeimportsbefore');

	function appendHeader(ruleName) {
		var tr = document.createElement('tr'); tr.className='bold'; tr.innerHTML = "<td>" + ruleName+"</td>";
		placeimportsbefore.parentNode.insertBefore(tr, placeimportsbefore);
	}
	function appendRule(rule) {
		var tr = document.createElement('tr'), td1 = document.createElement('td'), td2 = document.createElement('td');
		td1.innerText = rule.options&&rule.options.supplied_grammar || rule.supplied_grammar;
		tr.appendChild(td1); 
		if (rule.supplied_output)
			{ td2.innerText = rule.supplied_output; tr.appendChild(td2); }
		else
			{ td1.setAttribute('colspan', 2); }
		placeimportsbefore.parentNode.insertBefore(tr, placeimportsbefore);
	}
	
	['command','statement','stack','background','card','buttonOrField','part','partOrEquiv','factor','expression',].forEach((ruleName)=>{
		appendHeader("&lt;"+ruleName+"&gt;");
		XTalk.Rules[ruleName].forEach(appendRule);
	});
	appendHeader('other tokens:');
	Object.keys(XTalk.Rules).forEach((ruleName)=>{
		XTalk.Rules[ruleName].filter((rule)=>rule.options && rule.options.show_to_user).forEach(appendRule);
	});
	
</script>
	
<script id=wildcard_wakeup>"use strict";
var sim;
function load_wildcard_script(provided_script)
{	
	if (sim) sim.remove();
	
	sim = new XTalk(document, provided_script || wildcard_script.contents, { 
		fallbackToJS: true, xdontComplain: true,		// not sure about dontComplain when it defaults to JS anyway
		dontYield: true,	/* for now this will keep command-period from boinking inside the sim script, but will freeze if there's a runaway coroutine */
		errorProc(line, error) { 
			console.log('error in simulator script line ' + line + ': ' + error);
			if (window.wildcard_script) {
				getSelection().selectAllChildren(wildcard_script.qsa('div')[line-1]); 
				wildcard_script.qsa('div')[line-1].setAttribute('data-suffix', 'error');
			}
		}
	});
	//wildcard = sim;
	
	// sim.stack, sim.background, sim.card
	Object.defineProperty(sim, 'stack', {
		get() { return body.qs('#stackcontainer > modal-dialog.current > stack-part') || body.qs('stack-part'); }
	});
	Object.defineProperty(sim, 'background', {
		get() { return sim.stack && sim.card.background; }
	});
	Object.defineProperty(sim, 'card', {
		get() { return sim.stack && sim.stack.qs('card-part.current'); },
		set(card) { card.closest('stack-part').card = card; },
	});
	Object.defineProperty(sim, 'selection', {
		get() { return sim.stack && sim.stack.selectedPart; },
		set(part) { (part.closest('stack-part') || sim.stack).selectedPart = part; },
	});	

	if (!provided_script)
		wildcard_script.childNodes.forEach((c,i)=>{
			if (c.nodeName!=='DIV') return;
			c.setAttribute('data-prefix', '\t'.repeat(sim.raw.lineinfo[i].indent));
			c.setAttribute('data-suffix', sim.raw.lineinfo[i].error || '');	// the wildcard script might not even have errors because it falls back to JS
		});
}

</script>
		
<script>"use strict";

// now starts the section that has the sort of incremental disorganized free form code that does everything interesting

var classes_to_store = ['xtalk-debug', 'javascript', 'palette-visible', 'messagebox-lowerarea-visible',  'messagebox-visible', 'hidepublicstacklist', 'hideaccountstacklist', 'show-reference', /*'edit-simulator-script',*/ 'arrow-keys-in-text'];
classes_to_store.forEach((c)=>body.classList.toggle(c, localStorageGetItem(c)=='true'));
	
// wake up the scripting engine

var TSH=(s)=>{for(var i=0,h=9;i<s.length;)h=Math.imul(h^s.charCodeAt(i++),9**9);return h^h>>>9}
var wildcard_script_hash = TSH(XTalk.DefaultMainScript);

// establish the WildCard script
var loadit = false;
var changedit = (localStorageGetItem('wildcard_script_hash') !== null && localStorageGetItem('wildcard_script_hash') != wildcard_script_hash);
if (localStorageGetItem('wildcard_script') !== null) {
	loadit = true;
	if (changedit) {
		
		if (confirm("The default simulator script has changed. Delete your own changes and reload?")) {
			localStorageSetItem('wildcard_script',null);
			if (getCookie('user'))
				hit_file_system({ request: 'save', path: 'custom_simulator_script', user: getCookie('user'), contents: '' });
			loadit = false;
		}
	}
	if (loadit) {
		wildcard_script.contents = localStorageGetItem('wildcard_script');
		reset_wcs.enabled = true;
		upload_wcs.enabled = true;
	}
	//upload_wcs.enabled = true;
}
if (!loadit) {
	wildcard_script.contents = XTalk.DefaultMainScript;	// need a loaded() 
	localStorageSetItem('wildcard_script_hash', wildcard_script_hash);
}

wildcard_script.contents = wildcard_script.contents.split('\n').map((line)=>line.trim()).join('\n');

load_wildcard_script();

if (body.classList.contains('edit-simulator-script'))
	wildcard_script.lockText = false;

function launch_message_box()
{
	// if then repeat etc are supported
	XTalk.Support('message-box', "<command> <linefeed>", "<command>");
	// builtin statements are supported of course except the variable = value syntax, which is an expression in the msg box
	XTalk.Support('message-box', "[ <variable> = ]- <statement> <linefeed>", "<statement>");
	// althought the message box supports typing expressions directly, we make an exception for message(expr) and message, with a counter-exception for specially parsed functions value(x) and param(x)
	// message(<expression>) could be the function or the handler, we support both except for value() or param() builtins
	XTalk.Support('message-box', "[value|param]- <message> (<expression>) <linefeed>", "_.the_result = (yield*(this.functions.<message>||this.handlers.<message>||XTalk.cu('<message>'))(<expression>));");
	// message could be a handler like beep, although a previously defined global variable is an exception
	XTalk.Support('message-box', "[<definedglobalvariable>]- <message> <linefeed>", "_.the_result = (yield*(this.handlers.<message>||XTalk.cu('<message>'))());");
	// an expression will have a result
	XTalk.Support('message-box', "<expression> <linefeed>", "_.the_result = <expression>;");
	// a call to a message handler like openCard
	XTalk.Support('message-box', "<messageCall> <linefeed>", "<messageCall>");
	// or finally just an empty line
	XTalk.Support('message-box', "<linefeed>", "");
	
	// the last variation is sort of a friendly collector for why your statement didn't parse
	//XTalk.Support('mbtarget', "<command> | <expression> | <statement>");
	//XTalk.Support('message-box', "<mbtarget> <extratext>", "/*extratext*/ // <mbtarget> //... <extratext>");
	//XTalk.Support('message-box', "<extratext>", "/*extratext*/ //can't understand any of this//");
	
	XTalk.Support('undefinedglobalvariable', "<identifier>");
	XTalk.Rules['undefinedglobalvariable'][0].options = { 
		preflight(text,index,Packrat) { 
			/* in the message box, it's parsed *first* as an expression, and an initial literal is only a considered a variable if it's defined as one */
			var varName = text.substr(index).match(/^[A-Z_][A-Z_\d]*/i);
			return (!(varName in XTalk.Globals));
		} 
	};
	XTalk.Support('definedglobalvariable', "<identifier>");
	XTalk.Rules['definedglobalvariable'][0].options = { 
		preflight(text,index,Packrat) { 
			/* in the message box, it's parsed *first* as an expression, and an initial literal is only a considered a variable if it's defined as one */
			var varName = text.substr(index).match(/^[A-Z_][A-Z_\d]*/i);
			return (!!(varName in XTalk.Globals));
		} 
	};
	
	var showmsg = (localStorageGetItem('messagebox-visible')=='true');
	put_into_messagebox(localStorageListItems().includes('messagebox') ? localStorageGetItem('messagebox') : '', false);
	
	messagebox_setvisible(!body.classList.contains('fullscreen') && showmsg, false);
}
	
// open the windows 

var stackList = [];	
var replaceStateWhenTopping = false;
var user_file_lists = {};
/*var stack_suggestions = [{ user: 'Account', path: 'Coffee' }, { user: 'AndrewGriffin', path: 'GetRichQuick' }, { user: 'AnotherAccount', path: 'ColorBevel' }, { user: 'JohnMalay', path: 'Death-Mall-3000' }, {user: 'ThoruYamamoto', path: 'Drug-Store-English' } ];*/

function download_user_file_list(user)
{
	hit_file_system({ request: 'list', user: user || '' }, 
		(download)=>{ receive_user_file_list(user, download); });
}
function receive_user_file_list(user, download)
{
	//console.log(user, download);
	download = download.filter((d)=>d.path!='custom_simulator_script');	// just hide that
	user_file_lists[user||''] = download;
	shuffle_stackList();
	download.forEach((m)=>{
		var md = stackList.find((md)=>(md.dataset.user==user && md.dataset.path==m.path));
		if (md && md.dataset.mtime && md.dataset.mtime != m.mtime) {
			md.classList.add('loading','offer-update'); 
			md.performUpdateReload = ()=>{ 
				var cardnumber = md.qs('stack-part').card.number;
				hit_file_system({ request: 'load', user: user, path: m.path }, (download)=>{
					// download.contents is either { x, y, stackjson } or just stackjson
					if (!download.contents.json) download.contents = { x: 0, y: 0, json: download.contents };
					
					md.enable_mutation_observer(false);
					var stack = md.qs('stack-part');
					stack.savableJSON = download.contents.json;
					var targetcard = stack.qsa('card-part')[cardnumber-1];
					if (targetcard) stack.card = targetcard;
					md.dataset.mtime = m.mtime;	 	
					md.dataset.localmtime = 0;	 	// this deletes the local store until there's a mutation
					md.classList.remove('loading','offer-update');
					md.enable_mutation_observer(true);
					stackcontainer_windowmoved();
				}, (error)=>{ 
					shuffle_stackList();
					alert('The user stack at ' + user + '/' + m.path + ' could not be loaded.\n'+JSON.stringify(error)); 
				});
			};
		}
	});
}
	
function shuffle_stackList()
{
	body.classList.toggle('loggedin', !!getCookie('user'));
	
	if (getCookie('user')) {
		floatmenu.qs('#stackgroup').parentNode.insertBefore(floatmenu.qs('#stackgroup'), floatmenu.qs('#endstub'));
	}
	
	stackList.forEach((md)=>md.classList.toggle('userbubble', (getCookie('user') && getCookie('user')==md.dataset.user)));
	stackList.forEach((md)=>md.classList.toggle('closebox', md.id!=1 || stackList.length!=1));

	var public_files = (user_file_lists[''] || []); //.concat(stack_suggestions);
	public_files.sort((a, b) => a.path.toLowerCase().localeCompare(b.path.toLowerCase(), 'en', { ignorePunctuation: true }));

	var alphaSL = [], topid;
	stackList.forEach((md,i)=>{
		var top = (i==stackList.length-1);
		md.classList.toggle('inactive', !top);
		md.classList.toggle('current', top);
		md.style.zIndex = i+1;
		md.style.setProperty('--window-order', stackList.length - i);
		if (top) topid = md.id;
		if (public_files.find((f)=>((f.user||'')==(md.dataset.user||'') && f.path==md.dataset.path)))
			{}	// don't show it up here
		else if (!md.dataset.user || md.dataset.user != getCookie('user')) {
			var name_without_leading = md.name.substr((md.name[0]=='/') ? 1 : 0);
			alphaSL.push([md.id , name_without_leading]);
		}
	});
	//alphaSL.push('b');
	//alphaSL.push('A');
	alphaSL.sort((a, b) => (a[0] - b[0]));
	//console.log(alphaSL);
	var fmsl = floatmenu.qs('#stacklist');
	fmsl.innerHTML = alphaSL.map((n)=>{
		var p = n[1].replaceAll(/"/g,"&quot;"), h = ContentEditableFix.HTMLEncode(n[1]);
		return `<div class='item hascheck ${(n[0]==topid)?'checked':''}' data-md-id=${n[0]} data-name="${p}">${h}</div>`;
	}).join('');
	
	var user = getCookie('user');
	login_menu_item.style.display = user ? 'none' : '';
	logout_menu_item.style.display = user ? '' : 'none';
	logout_menu_item.innerHTML = '<span><span class=userbubble>Sign out</span></span>';
	
	floatmenu.qs('#publicstacklist').innerHTML = public_files.map((f)=>{          
		return `<div class='item hascheck' data-user="${(f.user||'')}" data-path="${f.path.replaceAll(/"/g,"&quot;")}">${((f.user ? f.user+'/' : '') + f.path).replaceAll('-',' ')}</div>`;
	}).join('');
	
	var fmsl = floatmenu.qs('#accountstacklist'), account_files = Array.from((user && user_file_lists[user]) || []);
	if (user)
		account_files = Array({ path: '' }).concat(account_files.filter((f)=>f.path!=''));
	
	account_files.sort((a, b) => a.path.toLowerCase().localeCompare(b.path.toLowerCase(), 'en', { ignorePunctuation: true }));
	
	fmsl.innerHTML = account_files.map((f)=>{
		return `<div class='item hascheck' data-user="${user}" data-path="${f.path.replaceAll(/"/g,"&quot;")}">${'/'+user+'/'+f.path.replaceAll('-',' ')}</div>`;
	}).join('');

	floatmenu.qsa('div.item.hascheck').forEach((item)=>{
		if (item.dataset.user || item.dataset.path)
			item.classList.toggle('checked', 
				stackList.length && stackList[stackList.length-1].dataset.user == item.dataset.user && stackList[stackList.length-1].dataset.path == item.dataset.path);
		
		if (user && item.dataset.user == user && !item.qs('.userbubble') && (item.textContent||item.innerText).startsWith('/'+user+'/')) {
			item.innerHTML = "<span><span class=userbubble>"+(item.dataset.path ? item.dataset.path.replaceAll('-',' ') : '/' + item.dataset.user+'/')+"</span> "+"</span>";
		}
	});

}

function goHome()
{
	top_stackList(stackcontainer.qs('modal-dialog[ID="1"]'));
}
	
function top_stackList(md,topAnyway)
{
	if (stackList.length && stackList[stackList.length-1] === md) {
		if (!topAnyway) 
			return;
	}
	else if (sim.card && !recent_cards.lock_recent_cards)
		push_recent_card(sim.card);
	
	stackList.splice(stackList.indexOf(md),1);
	stackList.push(md);
	md.visible = true;
	md.qs('stack-part').focus();
	shuffle_stackList();
	var newURLPath = (md.dataset.user ? md.dataset.user + '/' + md.dataset.path : md.dataset.path || '');
	var newURL = document.head.baseURI + newURLPath;
	if (replaceStateWhenTopping && location.protocol != 'file:' && !window.navigator.standalone) 
		history.replaceState(null,'',newURL);	// this could be pushState, then we'd have to popState
	//document.title = 'HCSimulator.com'+(newURLPath ? '/'+newURLPath : '');
	document.title = newURLPath || 'HyperCard Simulator';
	var toolbtn = body.qs('#toolbar button-part[name=\"' + (sim.stack.tool||'Browse') + '\"]');
	if (toolbtn) toolbtn.click();
	toolbtn = body.qs('#background-mode');
	if (toolbtn) toolbtn.hilite = sim.stack.classList.contains('background-mode');
	sim.stack.dispatchEvent(new Event('openCard', { bubbles: true }));
	sim.stack.checkIfIdleMessagesAllowed();
	sim.stack.focus();
	//XTalk.Send(body.qs('#palette card-part'), 'refresh');
	//sim.stack.focus();
	//body.focus();
}
function create_new_stack(name,callback,invisible)
{
	var md = newstackstart.content.cloneNode(true).qs('modal-dialog'), stack = md.qs('stack-part');
	stackcontainer.appendChild(md);
	// note! cloning the stack is good, but if you set properties before you put it in the DOM they just stick there and never can change.
	if (invisible) md.visible = false;
	/*if (sim.stack) {
		stack.width = sim.stack.width;
		stack.height = sim.stack.height;
	}*/
	modalresizer();
	md.addEventListener('transitionend', (event)=>{ if (event.target===md && event.propertyName=='transform') { stackcontainer_windowmoved(); } });
	md.addEventListener('title-bar-domenu', (event)=>{ 
		if (event.detail.menuMessage) {
			console.log('sending menuMessage ' + tickedString(event.detail.menuMessage));
			XTalk.Do(event.detail.menuMessage, stack.card);
		}
		else {
			console.log('sending doMenu ' + tickedString(event.detail.contents));
			XTalk.Send(stack.card, 'doMenu', [event.detail.contents]); 
		}
	});
	md.name = name;
	stack.name = name;
	stack.lockOpenCardMessages = true;
	var id = Date.now();
	while (stackcontainer.qs('modal-dialog[id="' + id + '"]')) id++;
	md.setAttribute('id',id);
	stackList.push(md);
	md.mo_callback = ()=>{console.log('premature mo_callback')};
	if (callback) {
		callback(md,stack);
	}
	shuffle_stackList();
	top_stackList(md);
	stackcontainer_windowmoved();
	stack.lockOpenCardMessages = false;
	
	var save_timer = null, mo = new MutationObserver(mo_callback);	
	function mo_callback(mList) 
	{
		mList.forEach((m)=>{
			if (m.target===md) return;
			if (m.type=='attributes') {
				if (['style','contenteditable'].includes(m.attributeName)) return;
				if (m.target===stack && m.attributeName=='tool') return;
				if (m.attributeName==='data-mutator') m.target.removeAttribute('data-mutator');
				else if (m.target.getAttribute(m.attributeName)===m.oldValue) return;
			}
			
			//console.log('Marked ‘'+md.name+'’ mutated'); 
			md.dataset.localmtime = Date.now();
			//console.log(md);
			
			if (!save_timer) {
				//console.log('Marked ‘'+md.name+'’ mutated'); 
				md.dataset.savetimer = 'true';
				//trigger.style.borderColor='#BBB'; 
				save_timer = setTimeout(()=>{ 
					save_timer = null; 
					delete md.dataset.savetimer;
					// if you're logged in and it's already yours or it's a 'free stack' then upload in 8s
					if (getCookie('user') && md.dataset.user==getCookie('user')) {
						console.log('Saving ‘'+md.name+'’'); 
						upload_stack(md); 
					}
				}, 8000);
			}
		});
	}
	function mo_control(enable) 
	{
		if (enable)
			mo.observe(md, { childList: true, attributes: true, attributeOldValue: true, characterData: true, subtree: true });
		else {
			mo_callback(mo.takeRecords());
			mo.disconnect();
		}
	}
	(md.mo_callback=mo_callback);	// for background clones to deliver. will this work?
	(md.enable_mutation_observer=mo_control)(true);
	
	var fmtimeout;
	function showcardnumber() {
		/*md.shadowRoot.qs('#flashmessage').innerText = stack.card.number + " / " + stack.qsa(':scope > card-part').length;
		clearTimeout(fmtimeout);
		fmtimeout = setTimeout(()=>{md.shadowRoot.qs('#flashmessage').innerText=''}, 500);*/
		
		// i want to give the palette its own XTalkQueue, because it's waiting until openCard returns to run
		//XTalk.Send(body.qs('#palette card-part'), 'refresh');
		// let's be direct insteadr
		if (!palette.queue) palette.queue = new XTalkQueue();
		palette.queue.push('refresh', body.qs('#palette card-part'));
	}
	md.addEventListener('openCard', showcardnumber);
	if (!md.classList.contains('loading'))
		showcardnumber();
}
function hit_file_system(postdata, successCallback, failureCallback, progressCallback)
{
	var fd = new FormData();
	fd.append('csrf',getCookie('csrf'));
	for (var pd in postdata) 
		fd.append(pd, (pd=='contents' && postdata[pd]!='') ? JSON.stringify(postdata[pd]) : postdata[pd]);
	var oReq = new XMLHttpRequest();
	oReq.onload = ()=>{ 
		var jsonResponse, jsonStatus;
		try {
			jsonStatus = oReq.status;
			//console.log(oReq.responseText.length,oReq.responseText.substr(0,1000),oReq.responseText.substr(-1000));
			jsonResponse = JSON.parse(oReq.responseText);
		} catch(e) { 
			jsonResponse = { error: ""+e };
			jsonStatus = 500;
		}
		if (jsonStatus != 200) { 
			if (location.protocol != 'file:') {
				trigger.style.borderColor='red'; 
				setTimeout(()=>{ trigger.style.borderColor=''; }, 1500);
				failureCallback ? failureCallback(jsonResponse) : alert(oReq.responseText.length + ' bytes: ' + oReq.responseText); 
			}
		}
		else {
			trigger.style.borderColor = (postdata['request'] == 'save') ? 'lime' : 'lightblue';
			setTimeout(()=>{ trigger.style.borderColor=''; }, 1000);
			if (successCallback) successCallback(jsonResponse);
		}
	};
	oReq.onprogress = (event) => { 
		if (progressCallback) progressCallback(event);
		//console.log('download in progress ' + (event.lengthComputable ? event.loaded/event.total*100+'%' : event.loaded+' bytes')); 
	};
	oReq.open('POST', 'file.system/'+['FS',postdata.request,postdata.user,postdata.path].filter((s)=>!!s).join('-'));
	if (location.protocol!=='file:') {
		oReq.send(fd);
		trigger.style.borderColor='#444'; 
	}
}
function upload_stack(md)
{
	var stack = md.qs('stack-part'), user = getCookie('user');
	var path = ((md.dataset.user||md.dataset.path) ? md.dataset.path : md.name).split('.')[0];
	
	md.enable_mutation_observer(false);
	var current = stack.card;
	current.classList.toggle('current', false);
	var json = stack.savableJSON;
	current.classList.toggle('current', true);
	md.enable_mutation_observer(true);

	hit_file_system(
		{ request: 'save', user, path, contents: { x: md.x, y: md.y, json: json }, mtime: md.dataset.mtime }, 
		(download)=>{ 
			md.dataset.mtime = download.mtime; 
			md.dataset.user = user;
			md.dataset.path = path;
			md.name = user ? ('/' + user + '/' + path) : md.name;
			if (!user_file_lists[user].find((f)=>(f.path==path)))
				user_file_lists[user].push({ path: path, mtime: download.mtime });
			shuffle_stackList(); 
		},
		(error)=>{ console.log('error uploading\n' + JSON.stringify(error)); }
	);
}
	
 function open_test_stack(file) 
{
	var xhttp = new XMLHttpRequest();
	xhttp.onreadystatechange = function() {
		if (this.readyState == 4) {
			create_new_stack(file, (md,stack)=>{
				var download = JSON.parse(xhttp.response);
				stack.width = download.width;
				stack.height = download.height;
				stack.savableJSON = download;
				md.visible = true;
				top_stackList(md,true);
				modalresizer();
				
				XTalk.Send(stack.card, 'openStack', [], (proceed)=>{
					if (proceed)
						XTalk.Send(stack.card, 'openBackground', [], (proceed)=>{
							if (proceed)
								XTalk.Send(stack.card, 'openCard', [], (proceed)=>{
									stack.lockOpenCardMessages = false;
								});
							else stack.lockOpenCardMessages = false;
						});
					else stack.lockOpenCardMessages = false;
				});
			});
		}
	} 
	xhttp.open("GET", file, false);
	xhttp.send();
}

function download_user_stack(user, path, cardID, callback)
{
	// callback is called when it's available
	var md = stackList.find((md)=>(md.dataset.user==user && md.dataset.path==path));
	if (md)
		{ top_stackList(md); if (callback) callback(md, md.qs('stack-part')); return; }
	
	var startName = path ? path.split('/').pop().replaceAll('-',' ') : '/' + user + '/', startTime = Date.now();
	create_new_stack(startName, (md,stack)=>{
		
		md.classList.add('loading');
		if (sim.stack && matchMedia('(pointer:fine)').matches) {
			md.x = sim.stack.parentNode.x + 12; 
			md.y = sim.stack.parentNode.y + 16; 
		}
		md.dataset.user = user;
		md.dataset.path = path;
		
		//console.log({ user, path });
		hit_file_system({ request: 'load', user, path, hint: (sim.stack && sim.stack.parentNode.dataset.user) || '' }, (download)=>{
			
			// if itt's offering us a different stack based on our hints or user status, that is ok
			user = download.user;
			path = download.path;

			// download.contents is either { x, y, stackjson } or just stackjson
			if (!download.contents.json) download.contents = { x: 0, y: 0, json: download.contents };
			var pathbase = path && (path.split('/').pop() || path);
			md.name = ((path && !(getCookie('user') && user==getCookie('user'))) ? pathbase : ('/' + user + '/') + path).replaceAll('-',' ');
			md.dataset.user = user;
			md.dataset.path = path;
			md.dataset.mtime = download.mtime;
			if (download.contents.json.width)
				stack.width = download.contents.json.width;
			if (download.contents.json.height)
				stack.height = download.contents.json.height;
			md.visible = true;
			top_stackList(md,true);
			modalresizer();
			//console.log({ user, path }, download.contents.json);
			setTimeout(()=>{
				stack.savableJSON = download.contents.json;
				md.classList.remove('loading');
				if (callback) callback(md, md.qs('stack-part'));
				stack.card = (cardID && stack.qs('card-part[id="'+cardID+'"]')) || stack.firstCard;
				
				// XTalk.Queue? (what?)
				XTalk.Send(stack.card, 'openStack', [], (proceed)=>{
					if (proceed)
						XTalk.Send(stack.card, 'openBackground', [], (proceed)=>{
							if (proceed)
								XTalk.Send(stack.card, 'openCard', [], (proceed)=>{
									stack.lockOpenCardMessages = false;
								});
							else stack.lockOpenCardMessages = false;
						});
					else stack.lockOpenCardMessages = false;
				});
			}, 0);

		}, (error)=>{
			if (user == getCookie('user') && path == '') {
				//alert('Creating stack /' + user + '/');
				create_new_stack(path || user, (md,stack)=>{
					//md.x = 0 + (offsetXY||0);
					//md.y = 0 + (offsetXY||0);
					md.dataset.user = user;
					md.dataset.path = path;
					//md.dataset.mtime = Date.now();
					stack.card = stack.card;
					top_stackList(md,true);
					if (callback) callback(md, md.qs('stack-part'));
				});
			}
			else {
				alert('-- The user stack at ' + user + '/' + path + ' could not be loaded.\n'+JSON.stringify(error)); 
				close_stack_window(md);
			}
		}, (event)=>{
			if (startTime + 1000 < Date.now()) {
				md.name = startName + ' (' + Math.round(event.loaded/1000)+'K)';
				md.visible = true;
			}
		});
		
	}, true);
}
	
shuffle_stackList();

stackcontainer.addEventListener('mousedown', function (event) {	// mouse only on this. click also brings forward for touch
	var md = event.target.closest('#stackcontainer > modal-dialog'); 
	if (md && !event.target.closest('#stackcontainer > modal-dialog > stack-part > card-part:not(.current)')) {
		top_stackList(md.closest('modal-dialog'));
	}
}, true);
stackcontainer.addEventListener('closebox', function (event) {
	//if (body.classList.contains('fullscreen'))
	//	{ leaveFullscreen(); return; }
	//if (!event.target.dataset.user && !event.target.dataset.path && event.target.id != 1 && && !confirm('Discard this stack without saving?')) return;
	close_stack_window(event.target);
});
function close_stack_window(md)
{
	// kill sounds when a stack is closed, although it might not be the one playing, whatever
	kill_audio();
	// try to stop scripts with our new Queue
	sim.stack.queue().stopAll();

	stackList.splice(stackList.indexOf(md), 1);
	if (md.id == '1') 
	{
		stackList.unshift(md);
		md.visible = false;
		
		//replace_with_demostart(md.qs('stack-part'));
		//md.qs('stack-part').card = md.qs('stack-part').firstCard;
	}
	else 
	{
		stackcontainer.removeChild(md);
		// needed to save off though
	}
	//console.log(stackList[stackList.length-1]);
	if (stackList[stackList.length-1])
		top_stackList(stackList[stackList.length-1],true);
	shuffle_stackList();
	stackcontainer_windowmoved();
	
}
stackcontainer.addEventListener('zoombox', function (event) {
	if (body.classList.contains('fullscreen'))
		{ leaveFullscreen(); return; }
	else {
		launchFullscreen(false);
	}
});
		
window.addEventListener('resize', ()=> { stackcontainer_windowmoved(); });
stackcontainer.addEventListener('windowmoved', stackcontainer_windowmoved);
function stackcontainer_windowmoved() {
	var lowest = 0;
	// HC snapped the window to cache boundaries. We won't do that here*/ 
	/*if (window.event && window.event.target)
		window.event.target.x = Math.round(event.target.x/16)*16;*/
	stackcontainer.scrollTop = 0;
	stackcontainer.qsa('modal-dialog[visible=true] > stack-part').forEach((stack)=>{ 
		lowest = Math.max(lowest, stack.getBoundingClientRect().bottom  - stackcontainer.getBoundingClientRect().top); 
	});
	stackcontainer.style.height = 'max(50vh, ' + (lowest + (body.classList.contains('fullscreen') ? 4 : 20)) + 'px)';
}

/* Normally, leaving a card pushes it to the FIFO recents queue 
	*/
	
var recent_cards;	// each is { id of window, user, path, card id, revisited }
recent_cards = JSON.parse(localStorageGetItem('recent_cards') || '[]');
recent_cards.dirty_since_save = false;
recent_cards.lock_recent_cards = false;
function push_recent_card(card) {
	var stack = card.closest('stack-part'); 
	if (!stack) 
		return;
	var index = 0;	// find the first revisited card in the queue
	while (index < recent_cards.length && !recent_cards[index].revisited)
		index++;
    recent_cards.splice(index);
	while (recent_cards.length > 40)
		recent_cards.shift();
	var entry={ 
		card: card.id,
		id: stack.parentNode && stack.parentNode.id || '',
		user: stack.parentNode && stack.parentNode.dataset.user || '',
		path: stack.parentNode && stack.parentNode.dataset.path || '',
		revisited: false
	};
	if (recent_cards.length && JSON.stringify(recent_cards[recent_cards.length-1])!=JSON.stringify(entry))  
		recent_cards.push(entry);
	recent_cards.dirty_since_save = true;
	//console.log(recent_cards);
	return entry;
}
function*go_recent_card_coroutine(goForward, justReturnIt)
{
	var index = 0;
	while (index < recent_cards.length && !recent_cards[index].revisited)
		index++;
	
	var entry = recent_cards[index + (goForward ? 1 : -1)];
	console.log('recent_card:',entry);
	if (!entry)
		return; //entry = { id: 1, card: 1, user: '', path: '' };
	if (justReturnIt)
		return entry;
	
	var md;
	if (md=stackList.find((md)=>md.id==entry.id)) {
		// these three need to be coroutine and all
		var wasLocked = recent_cards.lock_recent_cards;
		recent_cards.lock_recent_cards = true;
		top_stackList(md);
		if (index == recent_cards.length)
			push_recent_card(sim.stack.card).revisited = true;
		var card = md.qs('stack-part > card-part[id="' + entry.card + '"]');
		yield*md.qs('stack-part').GoCoroutine(card);
		if (!goForward)
			entry.revisited = true;
		else if (recent_cards[index])
			{ recent_cards[index].revisited = false; }
		recent_cards.lock_recent_cards = wasLocked; 
	}
	else if (entry.user || entry.path) {
		download_user_stack(entry.user, entry.path, entry.card);
	}
}

var last_stacklist_store, bad_save;
function store_changed_stacks()
{
	if (blockLocalStorage)
		{ console.log('blocklocalstorage'); return; }
	
	var globals = Object.assign({},XTalk.GlobalsBasisObject);
	Object.keys(globals).forEach((k)=>{ if (typeof globals[k] === 'object') delete globals[k]; });
	localStorageSetItem('globals', JSON.stringify(globals,null,''));
	
	classes_to_store.forEach((c)=>localStorageSetItem(c, body.classList.contains(c)));
	localStorageSetItem('palette-visible', palette.visible);
	localStorageSetItem('paletteX', palette.x);
	localStorageSetItem('paletteY', palette.y);
	localStorageSetItem('messageboxX', messagebox.x); 
	localStorageSetItem('messageboxY', messagebox.y);

	if (recent_cards.dirty_since_save)
		localStorageSetItem('recent_cards', JSON.stringify(recent_cards,null,''));
	recent_cards.dirty_since_save = false;
		
	localStorageListItems().forEach((key)=>{
		// a problem here is that two open tabs may end up competing, the older one deleting the newer one!
		if (key.substr(0,5)=='json#' && !stackcontainer.qs(`modal-dialog[id="${key.substr(5)}"]`)) {
			//console.log('discarding ' + key);
			localStorageSetItem(key,null);
		}
	});
	var this_bad_save = false;
	stackList.filter((md)=>(md.dataset.localmtime!==undefined && !md.classList.contains('loading'))).forEach((md)=>{
		//console.log('storing ',md,'json#'+(md.getAttribute('id')||0), md.dataset.localmtime ? JSON.stringify(md.qs('stack-part').savableJSON) : null);
		/*if (md.id != 1)
			debugger;*/
		//console.log('storing',md.name,'json#'+md.id,md.dataset.localmtime,md.qs('stack-part').card.id);
		if (md.lastBadSave && md.lastBadSave > Date.now()-60000) {
			this_bad_save = true;	// don't try saving over and over if the storage is constrained
		}
		else if (localStorageSetItem('json#'+md.id, JSON.stringify(md.qs('stack-part').savableJSON,null,''))) {
			delete md.dataset.localmtime;
			delete md.lastBadSave;
		}
		else {
			md.lastBadSave = Date.now();
			this_bad_save = true;
			//console.log('bad save=' + md.lastBadSave);
		}
	});
	if (bad_save || this_bad_save) {
		trigger.style.borderColor = (bad_save=this_bad_save) ? 'orange' : '';
		trigger.style.borderStyle = (bad_save=this_bad_save) ? 'dashed' : '';
	}
		
	var store = JSON.stringify(stackList.filter((md)=>!md.classList.contains('loading')).map((md)=>{ 
		var stack = md.qs('stack-part');
		return { 
			ID: (md.getAttribute('ID')||0), 
			visible: !!(md.visible), 
			x: md.x, y: md.y, 
			width: stack.width, height: stack.height, 
			tool: stack.tool, 
			bgmode: stack.classList.contains('background-mode'), 
			name: md.name, 
			user: md.dataset.user||'', 
			path: md.dataset.path||'', 
			mtime: md.dataset.mtime||0, 
			//menus: Object.fromEntries(Array.from(md.menubar.qsa('title-bar-menu')).map((tbm)=>[tbm.name,tbm.contents])),
			menubar: md.menubar.innerHTML,
			stored: !!(md.getAttribute('id') && localStorageListItems()['json#'+md.getAttribute('id')]),
			current: stack.card.id,
			recent: stack.recently_visited_cards.map((c)=>c.id),
			neverleftfullscreen: md.classList.contains('neverleftfullscreen')
		};
	}),null,'');
	if (store !== last_stacklist_store) 
	{
		localStorageSetItem('stacklist', store);
		last_stacklist_store = store;
	}
}
	
var demostart = homestack;
var demostart_hash = TSH(demostart.innerHTML);
//console.log('demostart_hash=' + demostart_hash + ' stored=' + localStorageGetItem('demostart_hash'));

referencedetails.addEventListener('toggle',()=>{
	localStorageSetItem('show-reference',referencedetails.open);
	body.classList.toggle('show-reference',referencedetails.open);
	//if (referencedetails.open) messagebox_setvisible(true);
});

document.qs('#show-palette').classList.toggle('checked', body.classList.contains('palette-visible'));
document.qs('#xtalk-debug').classList.toggle('checked', (XTalk.DebugScriptErrors=body.classList.contains('xtalk-debug')));
 
if (body.classList.contains('show-reference')) { referencedetails.open = true; }
		
if (localStorageGetItem('globals'))
	Object.assign(XTalk.GlobalsBasisObject, JSON.parse(localStorageGetItem('globals')));

palette.visible = localStorageGetItem('palette-visible') || true;
if (localStorageGetItem('paletteX'))
	palette.x = localStorageGetItem('paletteX');
if (localStorageGetItem('paletteY'))
	palette.y = localStorageGetItem('paletteY');
		
if (localStorageGetItem('messageboxX'))
	messagebox.x = localStorageGetItem('messageboxX');
if (localStorageGetItem('messageboxY'))
	messagebox.y = localStorageGetItem('messageboxY');
		
//console.log(localStorageGetItem('stacklist'));

launch_message_box();

var loading_timeouts = [];
JSON.parse(localStorageGetItem('stacklist')||'[]').forEach((m)=>{
	
	// probably could consolidate some of this into a general download
	create_new_stack(m.name, (md,stack)=>{

		md.classList.add('loading'); 

		md.x = m.x;
		md.y = m.y;
		if (m.width) stack.width = m.width;
		if (m.height) stack.height = m.height;
		stack.classList.toggle('background-mode', m.bgmode);
		md.dataset.user = m.user;
		md.dataset.path = m.path;
		if (m.mtime) md.dataset.mtime = m.mtime;
		md.setAttribute('id', m.ID);
		stack.tool = m.tool;
		md.visible = m.visible;
		md.classList.toggle('neverleftfullscreen', !!m.neverleftfullscreen);
		
		var loaded_from_storage = localStorageGetItem('json#' + m.ID);
		console.log('loading ' + m.name + ' ' + (loaded_from_storage ? 'from local storage' : ''));
		
		if (loaded_from_storage) 
		{
			if (m.ID == 1 && localStorageGetItem('demostart_hash') != demostart_hash) 
			{
				md.classList.add('loading','offer-update'); 
				md.performUpdateReload = ()=>{ 
					var cardnumber = md.qs('stack-part').card.number;
					replace_with_demostart(stack); 
					var targetcard = stack.qsa('card-part')[cardnumber-1];
					if (targetcard) stack.card = targetcard;
				};
				stack.savableJSON = JSON.parse(loaded_from_storage);
			}
			else
			{
				//console.log(m.user + '/' + m.path + ' loaded from storage',md.className);
				function loadlater(md, stack, json)
				{
					loading_timeouts.unshift(()=>{
						//console.log('timeout ' + stack.name);
						// this is good, but the icon timeout is now more noticeable. I guess we need a better icon loading system.
						// at least it doesn't produce a bunch of missing image messages.
						stack.savableJSON = json;
						if (!md.classList.contains('offer-update'))
							md.classList.toggle('loading', false);
					});
				}
				// this could be better ordered to show the front stack first
				loadlater(md, stack, JSON.parse(loaded_from_storage));
			}
			
			stack.recently_visited_cards = (m.recent||[]).map((id)=>stack.qs('card-part[id="'+id+'"]')).filter((c)=>!!c);
			
			/*if (m.menus) for (var menuName in m.menus) {
				var tbm = document.createElement('title-bar-menu');
				tbm.name = menuName;
				tbm.contents = m.menus[menuName];
				md.menubar.appendChild(tbm);
			}*/
			if (m.menubar)
				md.menubar.innerHTML = m.menubar;
		}
		else if (m.ID == 1) 
		{
			replace_with_demostart(stack);
			md.classList.toggle('loading', false);
			XTalk.Send(stack.card, 'openStack', [], (proceed)=>{
				if (proceed)
					XTalk.Send(stack.card, 'openBackground', [], (proceed)=>{
						if (proceed)
							XTalk.Send(stack.card, 'openCard', [], (proceed)=>{
								stack.lockOpenCardMessages = false;
							});
						else stack.lockOpenCardMessages = false;
					});
				else stack.lockOpenCardMessages = false;
			});
		}
		else
		{
			console.log('Could not find ' + stack.name + ' locally');
		}
		
		if (m.user || m.path) 
		{
			if (!loaded_from_storage)
			{
				console.log(m.user + '/' + m.path + ' not loaded from storage');
				
				hit_file_system({ request: 'load', user: m.user, path: m.path }, 
				(download)=>{
					// download.contents is either { x, y, stackjson } or just stackjson
					if (!download.contents.json) download.contents = { x: 0, y: 0, json: download.contents };

					md.enable_mutation_observer(false);
					stack.savableJSON = download.contents.json;	 
					md.classList.remove('loading');
					md.enable_mutation_observer(true);
					stackcontainer_windowmoved();
					stack.recently_visited_cards = (m.recent||[]).map((id)=>stack.qs('card-part[id="'+id+'"]')).filter((c)=>!!c);

					XTalk.Send(stack.card, 'openStack', [], (proceed)=>{
						if (proceed)
							XTalk.Send(stack.card, 'openBackground', [], (proceed)=>{
								if (proceed)
									XTalk.Send(stack.card, 'openCard', [], (proceed)=>{
										stack.lockOpenCardMessages = false;
									});
								else stack.lockOpenCardMessages = false;
							});
						else stack.lockOpenCardMessages = false;
					});
				}, 
				(error)=>{ 
					if (user == getCookie('user') && path == '') {
						md.enable_mutation_observer(false);
						stack.card = stack.card;
						//md.classList.remove('loading');
						md.enable_mutation_observer(true);
						stackcontainer_windowmoved();
					}
					else alert('The user stack at ' + user + '/' + path + ' could not be loaded.\n'+JSON.stringify(error)); 
				});
			}
			else if (loaded_from_storage && m.user && m.user!=getCookie('user') && m.mtime) 
			{
				// when loading from storage we can still check the mtime of other user's stacks; public and ourselves will get checked anyway
				// it would probably be much better to patch this into 'list' to return a partial instead 
				hit_file_system({ request: 'load', user: m.user, path: m.path, mtime: m.mtime }, (download)=>{
					//console.log('checking',m,md,download);
					if (m.mtime != download.mtime) {
						md.classList.add('loading','offer-update'); 
						md.performUpdateReload = ()=>{ 
							stackList.splice(stackList.indexOf(md),1);
							stackcontainer.removeChild(md);
							shuffle_stackList();
							download_user_stack(m.user, m.path);
						}
					}
				}, (error)=>{ 
				});
			}
		}
	});
});

loading_timeouts.forEach((t)=>setTimeout(t,0));

//messagebox_oninput();

//console.log([location.href, decodeURI(location.href), document.head.baseURI, location.href.substr(document.head.baseURI.length)]);
var loading_from_url = false, urlstub = /^([^.\/]+)\/([^.]*)$/g.exec(location.href.substr(document.head.baseURI.length))
	|| /^()([^.\/]+)$/g.exec(location.href.substr(document.head.baseURI.length));

if (location.protocol != 'file:' && urlstub) {
	//console.log(urlstub);
	var user = decodeURI(urlstub[1]), path = decodeURI(urlstub[2]).split(/[#?]/g)[0];
	if (user || path) {
		loading_from_url = true;
		// note. If the remote stack never left full screen, and the user reloads, the *desired* behavior is to reload the stack from zero.
		stackList.forEach((md,i,a)=>{ if (md.classList.contains('neverleftfullscreen') && md.dataset.path) close_stack_window(md); });
		download_user_stack(user, path, null, (md,stack)=>{ 
			if (!getCookie('user')) 
				md.classList.add('neverleftfullscreen');
		});
	}
}

if (loading_from_url && !getCookie('user'))
	launchFullscreen(true);

if (stackList.length)
	top_stackList(stackList[stackList.length-1], true);
replaceStateWhenTopping = true;

if (!stackcontainer.qs(`modal-dialog[id="1"]`)) {
	var showhome = !stackList.length;
	create_new_stack('Home', (md,stack)=>{
		md.setAttribute('ID', '1');
		md.visible = showhome;
		replace_with_demostart(stack);
	});
}

var whenStackLoadsInterval = setInterval(()=>{
	if (!sim.card) return;
	clearInterval(whenStackLoadsInterval);
	messagebox_oninput();
}, 1);

modalresizer();

var toolbtn = document.qs('#toolbar button-part[name=\"' + (sim.stack.tool||'Browse') + '\"]');
if (toolbtn) toolbtn.click();
		
setInterval(()=>{ if (document.visibilityState != 'hidden') store_changed_stacks(); }, 2000);
window.onbeforeunload = function() {
	store_changed_stacks();
	if (getCookie('user') && stackcontainer.qs(`modal-dialog[data-user="${getCookie('user')}"][data-savetimer]`)) 
		return "There is still unsaved stack data.";
};

"keydown keyup mousedown mousemove mouseup".split(' ').forEach((e)=>window.addEventListener(e,modifiers,true));
function modifiers(event) {
	body.classList.toggle('command', event.metaKey || event.ctrlKey);	// dunno about this exactly
	body.classList.toggle('option', event.altKey);
	body.classList.toggle('shift', event.shiftKey);
}

window.has_own_offer_modal_dialog_keydown_event = true;
window.addEventListener('keydown', (event)=>{ 
	var meta = event.metaKey || event.ctrlKey, fullscreen = body.classList.contains('fullscreen');
	//console.log('window keydown ' + event.key + '/' + event.code + ', meta ' + meta);
	//console.log(event);
	// dvorak exists, so event.code is kind of useless. I wonder if this will break windows or linux in terms of option-c, option-shift-c, etc
	if (offer_modal_dialog_keydown_event(event) === false) return false;
	else if (meta && event.key == 'ç') { launch_scripteditor(sim.card); event.preventDefault(); return false; }
	else if (meta && event.key == 'Ç') { launch_info_dialog(sim.card); event.preventDefault(); return false; }
	else if (meta && event.key == '∫') { launch_scripteditor(sim.background); event.preventDefault(); return false; }
	else if (meta && event.key == 'ı') { launch_info_dialog(sim.background); event.preventDefault(); return false; }
	else if (meta && event.key == 'ß') { launch_scripteditor(sim.stack); event.preventDefault(); return false; }
	else if (meta && event.key == 'Í') { launch_info_dialog(sim.stack); event.preventDefault(); return false; }
	else if (meta && event.key == 'm') { messagebox_setvisible(!messagebox.visible); event.preventDefault(); return false; }
	else if (meta && event.key == 'p') { body.qs('#show-palette').classList.toggle('checked',palette.visible = !palette.visible); event.preventDefault(); return false; }
	//else if (meta && event.key == 'd') { body.qs('#xtalk-debug').classList.toggle('checked',body.classList.toggle('xtalk-debug'));  event.preventDefault(); return false; }
	else if (meta && event.key == 'r') { store_changed_stacks(); event.stopPropagation(); } 
	else if (meta && event.key == 's') { store_changed_stacks(); if (scripteditor.visible) scripteditor_savenow(); event.preventDefault(); return false; }
	else if (meta && event.key == 'b') { body.qs('#background-mode').click(); event.preventDefault(); return false; }
	else if (meta && event.key == 'n') { body.qs('#newstack').click(); event.preventDefault(); return false; }
	else if (meta && event.key == 'w') { 
		// I don't think you can trap Command-W in most browsers.
		var md = Array.from(modal_dialogs_that_are_visible).reverse().find((d)=>d.matches('modal-dialog[visible]:not([visible=false]).closebox'));
		if (md)
			md.dispatchEvent(new Event('closebox', { bubbles: true }));
		else if (sim.stack.parentNode.classList.contains('closebox')) 
			close_stack_window(sim.stack.parentNode); 
		return event.preventDefault(); 
	}
	else if (meta && event.key == 'i') { partinfo.click(); event.preventDefault(); return false; }
	else if (meta && event.key=='.') {  
			kill_audio(); 
			window.speechSynthesis.cancel();
			console.log('Command-Period'); 
			answerdialog.visible = false;
			askdialog.visible = false;
			sim.stack.queue().stopAll('Command-Period');
			document.qs('#toolbar button-part[name="Browse" i]').click();
			event.preventDefault(); return false; 
	}
	else if ((meta || event.altKey) && event.key == 'Tab' && !body.matches('.fullscreen')) 
		{
			var tools = ['Browse','Button','Field'];
			document.qs('#toolbar button-part[name=' + tools[(Math.max(0,tools.indexOf(sim.stack.tool))+1)%3] + ']').click();
			return event.preventDefault(); return false;
		}
	
}, true);
			
download_user_file_list('');
if (getCookie('user')) 
	download_user_file_list(getCookie('user'));

function replace_with_demostart(stack)
{
	//console.log('Loading Home stack with hash ' + demostart_hash);
	var ds = demostart.content.cloneNode(true), dstack = ds.qs('stack-part');
	// ds and fragment are fragments and will not be connected and get shadow nodes until they're in the DOM
	var fragment = new DocumentFragment();
	while (dstack.childNodes[0]) fragment.appendChild(dstack.childNodes[0]);
	stack.replaceAllContents(fragment);
	stack.parentNode.menubar.innerHTML = "";
	stack.script = dstack.getAttribute('script');
	localStorageSetItem('demostart_hash', demostart_hash);
}

function fill_demostart_cdfld1()
{
	sim.card.fld(1).contentsContainer().innerHTML = ''; 
	Array.from(publicstacklist.childNodes).forEach((s)=>{ 
		var f = s.textContent, btn = document.createElement('button-part'); 
		btn.icon = 1000; 
		btn.name = f.replaceAll('-',' '); 
		btn.script = 'on mouseUp\ngo stack "' + f + '"\nend mouseUp'; 
		sim.card.fld(1).contentsContainer().appendChild(document.createTextNode(' ')); 
		sim.card.fld(1).contentsContainer().appendChild(btn);
	});
}

if (location.protocol != 'file:')
	(sim.stack || body).focus();

async function select_tool_copy() 
{
	var element = sim.stack, layer = element.currentLayer, select = layer.shadowRoot.qs('canvas#select');
		
	// working but need 'pickup' function
	if (select.copyFromLayerNow) 
		select.copyFromLayerNow();
	
	// ok this works in safari and chrome now in https. but need pickup function in select. I think we need a little bit of rework on the select,
	// there's not much to fix
	
	
	const makeImagePromise = async () => {
		return new Promise((resolve) => {
			select.toBlob(resolve); // implied image/png format
		});
		
		//	const response = await fetch('https://upload.wikimedia.org/wikipedia/commons/4/47/PNG_transparency_demonstration_1.png');
		//	return await response.blob();
	}
	
	navigator.clipboard.write([new ClipboardItem({ "image/png": 
		new Promise((resolve) => {
			select.toBlob(resolve); // implied image/png format
		}) 
	})])
		.then(function () { console.log('copied'); })
		.catch(function (error) { console.log(error); });
}

async function bodyDoPaste(event)
{
	//if (!['pencil','eraser','bucket','brush','select'].includes(element.tool.toLowerCase())) return;
	
	console.log('running sim body paste');
	
	var items = (event.clipboardData || event.originalEvent.clipboardData).items;
	var blob = null;
	for (var i = 0; i < items.length; i++) {
		if (items[i].type.indexOf("image") === 0) {
			blob = items[i].getAsFile();
		}
	}
	if (!blob) return;
	
	var element = sim.stack, layer = element.currentLayer, select = layer.shadowRoot.qs('canvas#select');
	var reader = new FileReader();
	reader.onload = function (event) 
	{
		var image = new Image();
		image.src = event.target.result;
		image.onload = function () 
		{
			body.qs('#toolbar button-part[name=Select]').click();
			select.getReadyToMove = null;
			
			var dpr = (window.devicePixelRatio||1);
			var size = [image.naturalWidth / dpr, image.naturalHeight / dpr];
			if (element.width < size[0]) size = size.map((c)=>(c * element.width / size[0]));
			if (element.height < size[1]) size = size.map((c)=>(c * element.height / size[1]));
			
			layer.moveSelAnts(true, element.width/2 - size[0]/2, element.height/2 - size[1]/2, size[0], size[1]);
			
			var ctx = select.getContext('2d');
			ctx.clearRect(0,0,100000,100000);
			ctx.drawImage(image,0,0,size[0] * dpr,size[1] * dpr);
			
			var bayerThresholdMap = [
				[  15, 135,  45, 165 ],
				[ 195,  75, 225, 105 ],
				[  60, 180,  30, 150 ],
				[ 240, 120, 210,  90 ]
			];
			
			var lumR = [];
			var lumG = [];
			var lumB = [];
			for (var i=0; i<256; i++) {
				lumR[i] = i*0.299;
				lumG[i] = i*0.587;
				lumB[i] = i*0.114;
			}
			
			var canvas = layer.canvas, context = layer.canvasContext2d, dpr = Math.round(window.devicePixelRatio||1);
			var canvasWidth = canvas.width, canvasHeight = canvas.height;
			var undoLayer = context.getImageData(0,0,canvasWidth,canvasHeight);
			
			function allowundo(colorLayer)
			{
				// so easy. could record max area to save space though, and put in weak map.
				// i'm starting to think mark canvas dirty needs infrastructure; the layers from two successive paints are the same.
				// currentData = markCanvasState(), markCanvasState(optionalNewData), 
				colorLayer = colorLayer || context.getImageData(0,0,canvasWidth,canvasHeight);
				if (window.NBU2) NBU2.RegisterAction(
					()=>{ context.putImageData(undoLayer, 0, 0); layer.markCanvasUsed(); },
					()=>{ context.putImageData(colorLayer, 0, 0); layer.markCanvasUsed(); });
				layer.markCanvasUsed();
			}
			
			ctx.putImageData(monochrome(ctx.getImageData(0, 0, size[0] * dpr, size[1] * dpr), 210, 'atkinson'), 0, 0);
			allowundo();
			
			//https://stackoverflow.com/questions/12422407/monochrome-dithering-in-javascript-bayer-atkinson-floyd-steinberg
			function monochrome(imageData, threshold, type){
				
				var imageDataLength = imageData.data.length;
				
				// Greyscale luminance (sets r pixels to luminance of rgb)
				for (var i = 0; i <= imageDataLength; i += 4) {
					imageData.data[i] = Math.floor(lumR[imageData.data[i]] + lumG[imageData.data[i+1]] + lumB[imageData.data[i+2]]);
				}
				
				var w = imageData.width;
				var newPixel, err;
				
				for (var currentPixel = 0; currentPixel <= imageDataLength; currentPixel+=4) {
					
					if (type === "none") {
						// No dithering
						imageData.data[currentPixel] = imageData.data[currentPixel] < threshold ? 0 : 255;
					} else if (type === "bayer") {
						// 4x4 Bayer ordered dithering algorithm
						var x = currentPixel/4 % w;
						var y = Math.floor(currentPixel/4 / w);
						var map = Math.floor( (imageData.data[currentPixel] + bayerThresholdMap[x%4][y%4]) / 2 );
						imageData.data[currentPixel] = (map < threshold) ? 0 : 255;
					} else if (type === "floydsteinberg") {
						// Floyd–Steinberg dithering algorithm
						newPixel = imageData.data[currentPixel] < 129 ? 0 : 255;
						err = Math.floor((imageData.data[currentPixel] - newPixel) / 16);
						imageData.data[currentPixel] = newPixel;
						
						imageData.data[currentPixel       + 4 ] += err*7;
						imageData.data[currentPixel + 4*w - 4 ] += err*3;
						imageData.data[currentPixel + 4*w     ] += err*5;
						imageData.data[currentPixel + 4*w + 4 ] += err*1;
					} else {
						// Bill Atkinson's dithering algorithm
						newPixel = imageData.data[currentPixel] < threshold ? 0 : 255;
						err = Math.floor((imageData.data[currentPixel] - newPixel) / 8);
						imageData.data[currentPixel] = newPixel;
						
						imageData.data[currentPixel       + 4 ] += err;
						imageData.data[currentPixel       + 8 ] += err;
						imageData.data[currentPixel + 4*w - 4 ] += err;
						imageData.data[currentPixel + 4*w     ] += err;
						imageData.data[currentPixel + 4*w + 4 ] += err;
						imageData.data[currentPixel + 8*w     ] += err;
					}
					
					// Set g and b pixels equal to r
					imageData.data[currentPixel + 1] = imageData.data[currentPixel + 2] = imageData.data[currentPixel];
				}
				
				return imageData;
			}
			
			layer.putItDown = function(markMutation,otherContext) {
				//console.log(select.offsetLeft, select.offsetTop, select.width, select.height);
				(otherContext||layer.canvasContext2d).drawImage(select, select.offsetLeft, select.offsetTop, size[0], size[1]);
				if (markMutation) { layer.markCanvasUsed(); allowundo(); }
			};
		}
	}
	reader.readAsDataURL(blob);
	event.stopPropagation();
	event.preventDefault();
}
		
async function bodyDoCopy(event)
{
	if (sim.stack && ['Button','Field'].includes(sim.stack.tool))
		{
			if (sim.stack.selectedPart)
				{
					var str = sim.stack.selectedPart.outerHTML;
					
					if (event.clipboardData) {
						event.clipboardData.setData("text/html", str);
						event.clipboardData.setData("text/plain", str);
						event.preventDefault();
					}
					if (event.dataTransfer) {
						event.dataTransfer.setData("text/html", str);
						event.dataTransfer.setData("text/plain", str);
					}
					console.log('copied selected part');
					return true;
				}
		}
	else if (sim.stack && sim.stack.tool == 'Select') 
		{
			console.log(event);
			event.stopPropagation(); event.preventDefault();
			await select_tool_copy();
		}
}
async function bodyDoCut(event)
{
	if (sim.stack && ['Button','Field'].includes(sim.stack.tool))
		{
			if (sim.stack.selectedPart)
				{
					var str = sim.stack.selectedPart.outerHTML;
					
					if (event.clipboardData) {
						event.clipboardData.setData("text/html", str);
						event.clipboardData.setData("text/plain", str);
						event.preventDefault();
					}
					if (event.dataTransfer) {
						event.dataTransfer.setData("text/html", str);
						event.dataTransfer.setData("text/plain", str);
					}
					console.log(str);
					sim.stack.card_key_down({ type: 'keydown', key: 'Backspace' });
					return true;
				}
			return;
		}
	else if (sim.stack && sim.stack.tool == 'Select') 
		{
			console.log(event);
			event.stopPropagation(); event.preventDefault();
			await select_tool_copy();
			sim.stack.card_key_down({ type: 'keydown', key: 'Backspace' });
		}
}
		
body.addEventListener('copy', bodyDoCopy, true);
body.addEventListener('cut', bodyDoCut, true);
body.addEventListener('paste', bodyDoPaste, true);

// this is annoying. the drag into the iframe confuses safari.
	
var dragtarget = null, showeddragmodal = false;
body.addEventListener('dragenter', (event) => { 
	if (!event.dataTransfer.types.includes('Files')) return;
	//console.log('enter', event.target);
	if (!dragtarget) showeddragmodal = false;
	dragtarget = event.target;
	body.classList.toggle('drag-target', true);
	event.preventDefault();
	if (!uploadmodal.visible)
		{ showeddragmodal = true; showuploadmodal(); }
});
body.addEventListener('dragover', (event) => { 
	if (!event.dataTransfer.types.includes('Files')) return;
	event.preventDefault();
	});
body.addEventListener('dragleave', (event) => { 
	if ((event.target === dragtarget || event.target===document))
	{
		//console.log('leave', event.target);
		//dragtarget = null;
		if (!uploadmodal.contains(event.target) && showeddragmodal) {
			var bcr = uploadmodal.getBoundingClientRect();
			if (event.clientX >= bcr.left && event.clientX < bcr.right && event.clientY >= bcr.top && event.clientY < bcr.bottom) return;
			dragtarget=uploadmodal;
			showeddragmodal = false; uploadmodal.visible = false;
		}
		body.classList.toggle('drag-target', false);
	}
});
body.addEventListener('dragend', (event) => { 
	body.classList.toggle('drag-target', false);
	//console.log('leave', event.target);
	if (!uploadmodal.contains(event.target) && showeddragmodal)
		{ uploadmodal.visible = false;  }
	dragtarget = false;
	showeddragmodal = false;
});
body.addEventListener('drop', (event) => { 
	body.classList.toggle('drag-target', false);
	//console.log('leave', event.target);
	if (!uploadmodal.contains(event.target) && showeddragmodal)
		{ uploadmodal.visible = false;  }
	dragtarget = false;
	showeddragmodal = false;
});
innerbody.onmouseover = ()=> { if (dragtarget) { body.classList.toggle('drag-target', false); } }
/*body.addEventListener('drop', (event) => {

	if (!event.dataTransfer.types.includes('Files')) return;
	
	body.classList.toggle('drag-target',false);
	if (!uploadmodal.contains(event.target))
	uploadmodal.visible = false;
	
	event.stopPropagation(); // Stops some browsers from redirecting.
	event.preventDefault();
	
	var files = event.dataTransfer.files;
	for (var i = 0, f; (f = files[i]); i++) {
	// Read the File objects in this FileList.
	console.log(f);
	}
});
*/

/*body.addEventListener('dragover', (event) => { 	
	if (event.dataTransfer.types.includes('Files')) {
		
		//XTalkconsole.log(event.dataTransfer.getData("image/png"));
		showuploadmodal();
		event.preventDefault(); return false; 
	}
});*/

XTalk.ScriptWasChanged = function()
{
	if (sim.stack)
		sim.stack.checkIfIdleMessagesAllowed();
}
XTalk.ScriptWasChanged();

</script>
	
</body>
</html>